<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å½“å‰æ˜æœˆçš„åšå®¢</title>
  <icon>https://www.gravatar.com/avatar/9e7532e63a39952521694767013536b7</icon>
  <subtitle>å¹²å•¥å•¥ä¸è¡Œï¼Œæ£è›‹ç¬¬ä¸€å</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2020-12-15T14:42:48.510Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>å½“å‰æ˜æœˆ</name>
    <email>face_book@foxmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>swift é”™è¯¯å¤„ç†</title>
    <link href="http://example.com/2019/11/20/swift-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"/>
    <id>http://example.com/2019/11/20/swift-é”™è¯¯å¤„ç†/</id>
    <published>2019-11-20T12:50:45.000Z</published>
    <updated>2020-12-15T14:42:48.510Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-å¼€å‘ä¸­å¸¸è§çš„é”™è¯¯"><a href="#ä¸€-å¼€å‘ä¸­å¸¸è§çš„é”™è¯¯" class="headerlink" title="ä¸€ å¼€å‘ä¸­å¸¸è§çš„é”™è¯¯"></a>ä¸€ å¼€å‘ä¸­å¸¸è§çš„é”™è¯¯</h5><ul><li>è¯­æ³•é”™è¯¯</li></ul><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="number">10</span></span><br><span class="line">age += <span class="number">20</span> <span class="comment">//âŒ</span></span><br></pre></td></tr></table></figure><ul><li>é€»è¾‘é”™è¯¯</li></ul><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if age &gt; <span class="number">10</span> &#123;</span><br><span class="line">    age = <span class="number">10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è¿è¡Œæ—¶é”™è¯¯(é—ªé€€,å¼‚å¸¸ç­‰)</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">func</span> <span class="title">divide</span><span class="params">(<span class="number">_</span> num1:Int, <span class="number">_</span> num2:Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    num1 / num2</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(divide(<span class="number">10</span>, <span class="number">0</span>))</span><br></pre></td></tr></table></figure><a id="more"></a><h5 id="äºŒ-swiftè‡ªå®šä¹‰è¿è¡Œæ—¶é”™è¯¯"><a href="#äºŒ-swiftè‡ªå®šä¹‰è¿è¡Œæ—¶é”™è¯¯" class="headerlink" title="äºŒ swiftè‡ªå®šä¹‰è¿è¡Œæ—¶é”™è¯¯"></a>äºŒ swiftè‡ªå®šä¹‰è¿è¡Œæ—¶é”™è¯¯</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">SomeError</span>:<span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> illagalArg(<span class="type">String</span>)</span><br><span class="line">    <span class="keyword">case</span> outOfBounds(<span class="type">Int</span>,<span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> outOfMemory</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">divide</span><span class="params">(<span class="number">_</span> num1:Int, <span class="number">_</span> num2:Int)</span></span><span class="keyword">throws</span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> num2 == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="type">SomeError</span>.illagalArg(<span class="string">"0ä¸èƒ½ä¸ºé™¤æ•°"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num1 / num2</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="keyword">try</span> divide(<span class="number">10</span>, <span class="number">0</span>))</span><br><span class="line">```</span><br></pre></td></tr></table></figure><p>Fatal error: Error raised at top level: sudy.SomeError.illagalArg(â€œ0ä¸èƒ½ä¸ºé™¤æ•°â€): file /BuildRoot/Library/Caches/com.apple.xbs/Sources/swiftlang/swiftlang-1100.8.275.1/swift/stdlib/public/core/ErrorType.swift, line 200<br>2020-12-15 21:08:37.261235+0800 sudy[861:19351] Fatal error: Error raised at top level: sudy.SomeError.illagalArg(â€œ0ä¸èƒ½ä¸ºé™¤æ•°â€): file /BuildRoot/Library/Caches/com.apple.xbs/Sources/swiftlang/swiftlang-1100.8.275.1/swift/stdlib/public/core/ErrorType.swift, line 200<br>(lldb)<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">swift ä¸­å¯ä»¥é€šè¿‡<span class="built_in">Error</span>åè®®è‡ªå®šä¹‰è¿è¡Œæ—¶çš„é”™è¯¯ä¿¡æ¯,ä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯æœ‰ä»¥ä¸‹æ³¨æ„ç‚¹âš ï¸</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> å‡½æ•°å†…éƒ¨é€šè¿‡<span class="keyword">throw</span>æŠ›å‡ºè‡ªå®šä¹‰<span class="built_in">Error</span>.</span><br><span class="line"><span class="number">2.</span>  å¯èƒ½ä¼šæŠ›å‡º<span class="built_in">Error</span>çš„å‡½æ•°å¿…é¡»åŠ ä¸Š</span><br><span class="line"><span class="number">3.</span> éœ€è¦ä½¿ç”¨<span class="keyword">try</span>è°ƒç”¨å¯èƒ½ä¼šæŠ›å‡º<span class="built_in">Error</span>çš„å‡½æ•°,<span class="keyword">try</span>åªæ˜¯èƒ½å¤Ÿè®©ä½ è°ƒç”¨å‡½æ•°,å®ƒå¹¶ä¸èƒ½å¤„ç†é”™è¯¯,ä¸å‡ºç°é”™è¯¯,å®ƒèƒ½ä¿è¯ä½ èƒ½æ­£å¸¸è°ƒç”¨å‡½æ•°,å‡ºç°é”™è¯¯è¿˜æ˜¯ä¼šç¨‹åºä¸­æ–­</span><br><span class="line"></span><br><span class="line">##### ä¸‰ è‡ªå®šä¹‰é”™è¯¯å¤„ç†(<span class="keyword">do</span>-<span class="keyword">catch</span>)</span><br><span class="line">ä¸Šé¢æˆ‘ä»¬è®²è¿‡<span class="keyword">try</span>,åªèƒ½ä¿è¯ä½ èƒ½è°ƒç”¨å‡½æ•°,ä½†å®ƒå¹¶ä¸èƒ½è¿›è¡Œé”™è¯¯çš„å¤„ç†,åœ¨swiftä¸­å¯ä»¥ä½¿ç”¨<span class="keyword">do</span>-<span class="keyword">catch</span>æ•æ‰<span class="built_in">Error</span></span><br></pre></td></tr></table></figure></p><pre><code>case illagalArg(String)case outOfBounds(Int,Int)case outOfMemory</code></pre><p>}<br>func divide(_ num1:Int, _ num2:Int)throws -&gt; Int {<br>    if num2 == 0 {<br>        throw SomeError.illagalArg(â€œ0ä¸èƒ½ä¸ºé™¤æ•°â€)<br>    }<br>    return num1 / num2<br>}<br>do{<br>    print(try divide(10, 0))<br>} catch let SomeError.illagalArg(msg) {<br>  print(â€œå‚æ•°å¼‚å¸¸:â€, msg)<br>} catch {<br>    print(â€œå…¶å®ƒé”™è¯¯â€)<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å½“ç„¶äº†æœ€å¥½æŠŠé”™è¯¯å¤„ç†ç»™å†™å…¨äº†</span><br></pre></td></tr></table></figure></p><p>do{<br>    print(try divide(10, 0))  //è¿™é‡ŒæŠ›å‡ºå¼‚å¸¸,do{}ä½œç”¨åŸŸä¸‹é¢çš„ä»£ç éƒ½ä¸ä¼šæ‰§è¡Œäº†<br>} catch let SomeError.illagalArg(msg) {<br>  print(â€œå‚æ•°å¼‚å¸¸:â€, msg)</p><p>} catch let SomeError.outOfBounds(size, index){<br>    print(â€œä¸‹æ ‡è¶Šç•Œ:â€,â€size=(size)â€, â€œindex=(index)â€)<br>} catch  SomeError.outOfMemory{<br>    print(â€œå†…å­˜æº¢å‡ºâ€)<br>}catch {<br>    print(â€œå…¶å®ƒé”™è¯¯â€)<br>}<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">æŠ›å‡º<span class="built_in">Error</span>å,<span class="keyword">try</span>ä¸‹ä¸€å¥çŸ¥é“<span class="keyword">do</span>ä½œç”¨åŸŸç»“æŸçš„ä»£ç éƒ½å°†åœæ­¢è¿è¡Œ</span><br><span class="line"></span><br><span class="line">å…¶å®è¿˜æœ‰ä¸€ç§æ–¹å¼å¯ä»¥èµ·åˆ°å¤„ç†å¼‚å¸¸çš„ä½œç”¨,æˆ‘ä»¬å¯ä»¥ä¸æ•æ‰<span class="built_in">Error</span>,åœ¨å½“å‰å‡½æ•°å¢åŠ throwså£°æ˜,<span class="built_in">Error</span>å°†è‡ªåŠ¨æŠ›ç»™ä¸Šå±‚å‡½æ•°,å¦‚æœæŠ›åˆ°æœ€é¡¶å±‚è¿˜æ˜¯æ²¡æœ‰å¤„ç†<span class="built_in">Error</span>ç¨‹åºå°±ä¼šç»ˆæ­¢</span><br></pre></td></tr></table></figure></p><p> enum SomeError:Error {<br>    case illagalArg(String)<br>    case outOfBounds(Int,Int)<br>    case outOfMemory<br>}<br>func divide(_ num1:Int, _ num2:Int)throws -&gt; Int {<br>    if num2 == 0 {<br>        throw SomeError.illagalArg(â€œ0ä¸èƒ½ä¸ºé™¤æ•°â€)<br>    }<br>    return num1 / num2<br>}</p><p>func test1()throws-&gt; Int {<br>    try divide(10, 0)<br>}</p><p>func test2()throws -&gt; Int {<br>    try test1()<br>}</p><p>func test3()throws -&gt; Int {<br>    try test2()<br>}</p><p>do{<br>    print(try test3())<br>} catch let SomeError.illagalArg(msg) {<br>  print(â€œå‚æ•°å¼‚å¸¸:â€, msg)</p><p>} catch let SomeError.outOfBounds(size, index){<br>    print(â€œä¸‹æ ‡è¶Šç•Œ:â€,â€size=(size)â€, â€œindex=(index)â€)<br>} catch  SomeError.outOfMemory{<br>    print(â€œå†…å­˜æº¢å‡ºâ€)<br>}catch {<br>    print(â€œå…¶å®ƒé”™è¯¯â€)<br>}<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">test1,tes2,test3å¯ä»¥é€šè¿‡æ·»åŠ <span class="keyword">throws</span>å£°æ˜,å°†å¼‚å¸¸å¾€ä¸ŠæŠ›,ä¸æ•æ‰</span><br><span class="line"></span><br><span class="line">å¤„ç†é”™è¯¯çš„å…¶å®ƒå†™æ³•</span><br></pre></td></tr></table></figure></p><p> enum SomeError:Error {<br>    case illagalArg(String)<br>    case outOfBounds(Int,Int)<br>    case outOfMemory<br>}</p><p>func divide(_ num1:Int, _ num2:Int)throws -&gt; Int {<br>    if num2 == 0 {<br>        throw SomeError.illagalArg(â€œ0ä¸èƒ½ä¸ºé™¤æ•°â€)<br>    }<br>    return num1 / num2<br>}</p><p>do{<br>    print(try divide(10, 0))<br>} catch let error as SomeError{<br>    print(error)<br>}</p><p>do{<br>    print(try divide(10, 0))<br>} catch is SomeError{<br>    print(â€œsome Errorâ€)<br>}</p><p>do {<br>    try divide(20, 0)<br>} catch let error {<br>    switch error {<br>    case let SomeError.illagalArg(msg):<br>        print(msg)<br>    default:<br>        print(â€œå…¶å®ƒé”™è¯¯â€)<br>    }<br>}</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¼€å‘ä¸­å›ºå®šç”¨ä¸€ç§å°±å¯ä»¥äº†,èŠ±æ ·å¤šäº†å¾’å¢çƒ¦æ¼ğŸ˜¡</span><br><span class="line"></span><br><span class="line">##### å›› try? try! è°ƒç”¨ä¼šæœ‰å¼‚å¸¸çš„å‡½æ•°</span><br></pre></td></tr></table></figure><p>enum SomeError:Error {<br>    case illagalArg(String)<br>    case outOfBounds(Int,Int)<br>    case outOfMemory<br>}</p><p>func divide(_ num1:Int, _ num2:Int)throws -&gt; Int {<br>    if num2 == 0 {<br>        throw SomeError.illagalArg(â€œ0ä¸èƒ½ä¸ºé™¤æ•°â€)<br>    }<br>    return num1 / num2<br>}</p><p>var result1 = try? divide(40, 10)<br>var result2 = try? divide(20, 0)<br>var result3 = try? divide(20, 5)<br>print(result1,result2,result3) //Optional(4) nil Optional(4)<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ä½¿ç”¨<span class="keyword">try</span>? è¿”å›å€¼æ˜¯ä¸ªå¯é€‰é¡¹,è°ƒç”¨å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°,å¦‚æœå‡ºç°å¼‚å¸¸ç›´æ¥è¿”å›<span class="keyword">nil</span>,ç¨‹åºä¸ä¼šç»ˆæ­¢</span><br></pre></td></tr></table></figure></p><p>var result1 = try! divide(40, 10)<br>var result2 = try? divide(20, 0)//try!ç¨‹åºä¼šé€€å‡º<br>var result3 = try! divide(20, 5)<br>print(result1,result2,result3) //4 nil 4<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ä½¿ç”¨try! ä¼šè‡ªåŠ¨è§£åŒ…,ä½†å‡ºç°å¼‚å¸¸ç¨‹åºä¼šç»ˆæ­¢</span><br><span class="line"></span><br><span class="line">##### äº” rethrowså‡½æ•°é‡Œé—­åŒ…æŠ›å‡ºé”™è¯¯</span><br></pre></td></tr></table></figure></p><p>enum SomeError:Error {<br>    case illagalArg(String)<br>    case outOfBounds(Int,Int)<br>    case outOfMemory<br>}</p><p>func divide(_ num1:Int, _ num2:Int)throws -&gt; Int {<br>    if num2 == 0 {<br>        throw SomeError.illagalArg(â€œ0ä¸èƒ½ä¸ºé™¤æ•°â€)<br>    }<br>    return num1 / num2<br>}</p><p>func exec(_ fn:(Int,Int)throws-&gt;Int, _ num1:Int,_ num2:Int) rethrows {<br>    print(try fn(num1,num2))<br>}<br>try exec(divide, 10, 0)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>Fatal error: Error raised at top level: sudy.SomeError.illagalArg(â€œ0ä¸èƒ½ä¸ºé™¤æ•°â€): file /BuildRoot/Library/Caches/com.apple.xbs/Sources/swiftlang/swiftlang-1100.8.275.1/swift/stdlib/public/core/ErrorType.swift, line 200<br>2020-12-15 21:56:38.894378+0800 sudy[1075:42074] Fatal error: Error raised at top level: sudy.SomeError.illagalArg(â€œ0ä¸èƒ½ä¸ºé™¤æ•°â€): file /BuildRoot/Library/Caches/com.apple.xbs/Sources/swiftlang/swiftlang-1100.8.275.1/swift/stdlib/public/core/ErrorType.swift, line 200<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">rethrows</span>è¡¨æ˜å‡½æ•°æœ¬èº«ä¸ä¼šæŠ›å‡ºé”™è¯¯,ä½†æ˜¯è°ƒç”¨é—­åŒ…å‚æ•°æŠ›å‡ºé”™è¯¯,é‚£ä¹ˆå®ƒä¼šå°†å‘ä¸ŠæŠ›å‡ºé”™è¯¯</span><br></pre></td></tr></table></figure></p><p>func ?? <t>(optional: T?, defaultValue: @autoclosure () throws -&gt; T) rethrows -&gt; T<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">rethrows åœ¨ç©ºåˆå¹¶è¿ç®—ç¬¦ä¸­çš„åº”ç”¨</span><br><span class="line"></span><br><span class="line">##### å…­ defer å³ä½¿æŠ›å‡ºé”™è¯¯,ä¹Ÿå¿…é¡»è¦æ‰§è¡Œçš„</span><br></pre></td></tr></table></figure></t></p><p>enum SomeError:Error {<br>    case illagalArg(String)<br>    case outOfBounds(Int,Int)<br>    case outOfMemory<br>}<br>func divide(_ num1:Int, _ num2:Int)throws -&gt; Int {<br>    if num2 == 0 {<br>        throw SomeError.illagalArg(â€œ0ä¸èƒ½ä¸ºé™¤æ•°â€)<br>    }<br>    return num1 / num2<br>}</p><p>func open(_ filename:String) -&gt; Int {<br>    print(â€œopenâ€)<br>    return 0<br>}</p><p>func close(_ file:Int) {<br>    print(â€œcloseâ€)<br>}</p><p>func processFile(_ filename:String)throws {<br>    let file = open(filename)<br>    defer{<br>        close(file)<br>    }</p><pre><code>//ä½¿ç”¨file</code></pre><p>   print( try divide(10, 10))<br>    // closeå°†ä¼šåœ¨è¿™é‡Œè°ƒç”¨<br>}<br>try processFile(â€œtest.txtâ€)<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">defer</span>è¯­å¥ç”¨æ¥å®šä¹‰ä»¥ä»»ä½•æ–¹å¼(æŠ›é”™è¯¯,<span class="keyword">return</span>ç­‰)ç¦»å¼€ä»£ç å—é’±å¿…é¡»è¦æ‰§è¡Œçš„ä»£ç ,<span class="keyword">defer</span>å°†è¯­å¥å»¶è¿Ÿå½“å‰ä½œç”¨äºç»“æŸä¹‹å‰æ‰§è¡Œ</span><br></pre></td></tr></table></figure></p><p>func fn1()  {<br>    print(â€œfn1â€)<br>}<br>func fn2()  {<br>    print(â€œfn2â€)<br>}</p><p>func test(){</p><pre><code>defer{    fn1()}defer {    fn2()}</code></pre><p>}<br>test()</p><p>//fn2<br>// fn1<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">defer è¯­å¥çš„æ‰§è¡Œé¡ºåºäºå®šä¹‰é¡ºåºç›¸å</span><br><span class="line"></span><br><span class="line">##### ä¸ƒ assert(æ–­è¨€)</span><br></pre></td></tr></table></figure></p><p>func divide(_ v1: Int, _ v2: Int) -&gt; Int<br>{<br>    assert(v2 != 0, â€œé™¤æ•°ä¸èƒ½ä¸º0â€)<br>    return v1 / v2<br>}<br>print(divide(20, 0))<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>Assertion failed: é™¤æ•°ä¸èƒ½ä¸º0: file /Users/mac/Documents/qusongwork/source/study/sudy/sudy/main.swift, line 3<br>2020-12-15 22:24:47.030266+0800 sudy[1292:60312] Assertion failed: é™¤æ•°ä¸èƒ½ä¸º0: file /Users/mac/Documents/qusongwork/source/study/sudy/sudy/main.swift, line 3<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">åœ¨debugæ¨¡å¼ä¸‹ä½¿ç”¨assertå¯¹äºä¸ç¬¦åˆæŒ‡å®šæ¡ä»¶å°±æŠ›å‡ºè¿è¡Œæ—¶é”™è¯¯</span><br><span class="line"></span><br><span class="line">##### å…« fataErrorç›´æ¥æŠ›å‡ºé”™è¯¯</span><br></pre></td></tr></table></figure></p><p>class Person{<br>    required init(){}<br>}<br>class Student:Person {<br>    required init() {<br>        fatalError(â€œdon`t call student initâ€)<br>    }<br>    init(score:Int) {</p><pre><code>}</code></pre><p>}<br>var stu1 = Student(score: 80)<br>var stu2 = Student()<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">fataErroræœ‰ç‚¹åƒassets,ä½ ä¸éœ€è¦throwså£°æ˜å‡½æ•°,ä½ ä¹Ÿä¸éœ€è¦tryå»è°ƒç”¨å‡½æ•°æ•°,å‡½æ•°æ­£å¸¸å£°æ˜,æ­£å¸¸è°ƒç”¨,æœ‰é”™è¯¯å®ƒä¼šç›´æ¥æŠ›å‡ºé”™è¯¯.å¯¹äºæŸäº›å¿…é¡»è¦å¹²çš„äº‹,åˆ«äººæ²¡å¹²ä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨å®ƒ.</span><br><span class="line"></span><br><span class="line">##### ä¹ å±€éƒ¨ä½œç”¨åŸŸ</span><br></pre></td></tr></table></figure></p><p> class Dog {<br>    var age:Int = 0<br>    func run() {<br>        print(â€œdog runâ€)<br>    }<br>    deinit {<br>        print(â€œdog diedâ€)<br>    }<br> }<br> do {<br>    let dog1 = Dog()<br>    dog1.age = 10<br>    dog1.run()<br> }<br>// dog run<br>// dog died<br><code>`</code></p><p>å¯ä»¥ä½¿ç”¨doå®ç°å±€éƒ¨ä½œç”¨åŸŸ</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-å¼€å‘ä¸­å¸¸è§çš„é”™è¯¯&quot;&gt;&lt;a href=&quot;#ä¸€-å¼€å‘ä¸­å¸¸è§çš„é”™è¯¯&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ å¼€å‘ä¸­å¸¸è§çš„é”™è¯¯&quot;&gt;&lt;/a&gt;ä¸€ å¼€å‘ä¸­å¸¸è§çš„é”™è¯¯&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;è¯­æ³•é”™è¯¯&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight ceylon&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; age = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;age += &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;//âŒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;é€»è¾‘é”™è¯¯&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight lsl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;if age &amp;gt; &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    age = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;è¿è¡Œæ—¶é”™è¯¯(é—ªé€€,å¼‚å¸¸ç­‰)&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;divide&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt; num1:Int, &lt;span class=&quot;number&quot;&gt;_&lt;/span&gt; num2:Int)&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    num1 / num2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(divide(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swift å…ƒç±»å‹</title>
    <link href="http://example.com/2019/11/15/swift-%E5%85%83%E7%B1%BB%E5%9E%8B/"/>
    <id>http://example.com/2019/11/15/swift-å…ƒç±»å‹/</id>
    <published>2019-11-15T12:52:44.000Z</published>
    <updated>2020-12-15T14:44:03.417Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-åˆè¯†å…ƒç±»å‹"><a href="#ä¸€-åˆè¯†å…ƒç±»å‹" class="headerlink" title="ä¸€ åˆè¯†å…ƒç±»å‹"></a>ä¸€ åˆè¯†å…ƒç±»å‹</h5><p>swiftæä¾›äº†ä¸¤ç§ç‰¹æ®Šçš„ç±»å‹:<strong>Any</strong>, <strong>AnyObject</strong></p><ul><li><strong>Any</strong>: å¯ä»¥ä»£è¡¨ä»»æ„ç±»å‹</li></ul><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> stu:Any = <span class="number">10</span></span><br><span class="line">stu = <span class="string">"Jack"</span></span><br><span class="line">stu = Student()</span><br></pre></td></tr></table></figure><p>stuæ˜¯Anyç±»å‹,èµ‹å€¼ç»™å®ƒå•¥éƒ½è¡Œ</p><ul><li><strong>AnyObject</strong>:å¯ä»¥ä»£è¡¨ä»»æ„ç±»ç±»å‹</li></ul><figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">protocol Runnable:<span class="keyword">AnyObject</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="keyword">Person</span>: <span class="keyword">Runnable</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="keyword">Size</span>: <span class="keyword">Runnable</span> &#123; //âŒ</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨åè®®åé¢å†™ä¸ŠAnyObect ä»£è¡¨åªæœ‰ç±»æ‰èƒ½éµå®ˆè¿™ä¸ªåè®®</p><a id="more"></a><h5 id="äºŒ-ç±»å‹åˆ¤æ–­ä¸è½¬æ¢-is-as-as-as"><a href="#äºŒ-ç±»å‹åˆ¤æ–­ä¸è½¬æ¢-is-as-as-as" class="headerlink" title="äºŒ ç±»å‹åˆ¤æ–­ä¸è½¬æ¢(is as? as! as)"></a>äºŒ ç±»å‹åˆ¤æ–­ä¸è½¬æ¢(is as? as! as)</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">Person</span>,<span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Student run"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">study</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"student study"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> stu: <span class="type">Any</span> = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(stu <span class="keyword">is</span> <span class="type">Int</span>) <span class="comment">//true</span></span><br><span class="line">stu = <span class="string">"Jack"</span></span><br><span class="line"><span class="built_in">print</span>(stu <span class="keyword">is</span> <span class="type">String</span>) <span class="comment">//true</span></span><br><span class="line">stu = <span class="type">Student</span>()</span><br><span class="line"><span class="built_in">print</span>(stu <span class="keyword">is</span> <span class="type">Person</span>)<span class="comment">//true</span></span><br><span class="line"><span class="built_in">print</span>(stu <span class="keyword">is</span> <span class="type">Student</span>)<span class="comment">//true</span></span><br><span class="line"><span class="built_in">print</span>(stu <span class="keyword">is</span> <span class="type">Runnable</span>)<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">stu = <span class="number">10</span></span><br><span class="line">(stu <span class="keyword">as</span>? <span class="type">Student</span>)?.study() <span class="comment">//æ²¡æœ‰è°ƒç”¨study stuè½¬æ¢studentå¤±è´¥,å¯é€‰é“¾æ–­äº†,å°±ä¸ä¼šåœ¨åç»­cè°ƒç”¨äº†</span></span><br><span class="line">stu = <span class="type">Student</span>()</span><br><span class="line">(stu <span class="keyword">as</span>? <span class="type">Student</span>)?.study() <span class="comment">//student study</span></span><br><span class="line">(stu <span class="keyword">as</span>! <span class="type">Student</span>).study()  <span class="comment">//student study</span></span><br><span class="line">(stu <span class="keyword">as</span>? <span class="type">Runnable</span>)?.run()  <span class="comment">//Student run</span></span><br></pre></td></tr></table></figure><p>is ç”¨æ¥åˆ¤æ–­æ˜¯å¦ä¸ºæŸç§ç±»å‹,asç”¨æ¥åšå¼ºåˆ¶ç±»å‹è½¬æ¢<br>as 100%èƒ½è½¬,as! è½¬äº†å°±å¼ºåˆ¶è§£åŒ…,å¤±è´¥å°±å´©æºƒ, as? è½¬äº†åä¸ºå¯é€‰é¡¹å¤±è´¥å°±ä¸ºnil</p><h5 id="ä¸‰-X-self-X-Type-AnyClass-Xä»£è¡¨ç±»"><a href="#ä¸‰-X-self-X-Type-AnyClass-Xä»£è¡¨ç±»" class="headerlink" title="ä¸‰ X.self   X.Type, AnyClass (Xä»£è¡¨ç±»)"></a>ä¸‰ X.self   X.Type, AnyClass (Xä»£è¡¨ç±»)</h5><ol><li>X.selfæ˜¯ä¸€ä¸ªå…ƒç±»å‹(metadata)çš„æŒ‡é’ˆ,    metadataå­˜æ”¾ç€ç±»å‹ç›¸å…³ä¿¡æ¯</li><li>X.selfå±äºX.Typeç±»å‹</li></ol><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> s = Student()</span><br><span class="line"><span class="keyword">var</span> pType:Student.<span class="built_in">Type</span> = Student.self <span class="comment">//X.selfå±äºX.Typeç±»å‹</span></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">![](../assets/blogImg/yuanleixing01.png)</span><br><span class="line">pType æŒ‡å‘çš„å°±æ˜¯såœ°å€å†…å®¹çš„å‰<span class="number">8</span>ä¸ªå­—èŠ‚</span><br></pre></td></tr></table></figure><p>class Person {</p><p>}<br>class Student :Person {}<br>var anyType: AnyObject.Type = Person.self<br>anyType = Student.self<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">çˆ¶ç±»ç±»å‹å¯ä»¥æŒ‡å‘å­ç±»ç±»å‹</span><br></pre></td></tr></table></figure></p><p>class Person {</p><p>}<br>class Student :Person {}</p><p>public typealias AnyClass = AnyObject.Type<br>var anyType:AnyClass = Person.self<br>anyType = Student.self<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### <span class="number">3</span> AnyClass å°±æ˜¯AnyObject.Typeçš„åˆ«å,ä»£è¡¨ä»»æ„ç±»ç±»å‹çš„ç±»å‹</span><br><span class="line"></span><br><span class="line">-----</span><br></pre></td></tr></table></figure></p><p>class Person {</p><p>}<br>class Student :Person {}<br>var per = Person()<br>var perType = type(of: per) //Person.self<br>print(Person.self == type(of: per))//true<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attribute">type(of</span>: per) å°±æ˜¯å–å‡ºperå¯¹è±¡çš„å‰8ä¸ªå­—èŠ‚,åŠç±»å‹ä¿¡æ¯</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">##### å›› å…ƒç±»å‹çš„åº”ç”¨</span><br></pre></td></tr></table></figure></p><p>class TabBarViewController: UITabBarController {</p><pre><code>override func viewDidLoad() {    super.viewDidLoad()    setValue(TabBar(), forKey: &quot;tabBar&quot;)    tabBar.tintColor = UIColor.orange    addChildConroller(&quot;é¦–é¡µ&quot;,&quot;news&quot;,&quot;news&quot;, HomeViewController.self)    addChildConroller(&quot;å‘ç°&quot;,&quot;find&quot;,&quot;find&quot;, FindViewController.self)    addChildConroller(&quot;æˆ‘çš„&quot;,&quot;mine&quot;,&quot;mine&quot;, MineViewController.self)}func addChildConroller(_ title:String,    _ image:String,    _ selectImage:String,    _ type:UIViewController.Type)-&gt;(){    let child = NavigationController(rootViewController: type.init()) //å…ƒç±»å‹åˆå§‹åŒ–å®ä¾‹    child.setValue(NavigationBar(), forKey: &quot;navigationBar&quot;)    child.title = title    child.tabBarItem.image = UIImage(named: image)    child.tabBarItem.selectedImage = UIImage(named: selectImage)    child.tabBarItem.setTitleTextAttributes([NSAttributedString.Key.foregroundColor:UIColor.orange], for: .selected)    addChild(child)}</code></pre><p>}<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">åŠ¨æ€æ·»åŠ appåº•éƒ¨èœå•æ </span><br><span class="line"></span><br><span class="line">##### äº” å¤§å†™çš„Self</span><br><span class="line">Selfä»£è¡¨å½“å‰ç±»å‹,ä¸€èˆ¬ç”¨ä½œè¿”å›å€¼ç±»å‹,é™å®šè¿”å›å€¼è·Ÿæ–¹æ³•è°ƒç”¨è€…å¿…é¡»æ˜¯åŒä¸€ç±»å‹,ç±»ä¼¼äºOCçš„instanceType</span><br></pre></td></tr></table></figure></p><p>protocol Runnable {<br>    func test() -&gt; Self<br>}</p><p>class Person: Runnable {<br>    required init() {} //ä½¿ç”¨å…ƒç±»å‹åˆå§‹åŒ–,å¿…é¡»æ˜¯required<br>    func test() -&gt; Self {<br>        type(of: self).init()<br>    }<br>}<br>class Student: Person {</p><p>}<br>var p = Person()<br>print(p.test()) //Person<br>var stu = Student()<br>print(stu.test()) //Student<br><code>`</code></p><p>ç±»åˆå§‹åŒ–å™¨éœ€è¦required ç»“æ„ä½“ä¸éœ€è¦,ç±»æœ‰ç»§æ‰¿,ç»“æ„ä½“æ²¡æœ‰ç»§æ‰¿.è¦ä¿è¯å­ç±»ä¸€å®šè¦å®ç°å®ƒçš„åˆå§‹åŒ–æ–¹æ³•å› ä¸ºtestæ–¹æ³•é‡Œé¢ä½¿ç”¨çš„æ˜¯ type(of: self).init(),é‚£ä¹ˆæ€ä¹ˆä¿è¯æ¯ä¸ªç±»éƒ½æœ‰init()æ–¹æ³•å‘¢,é‚£å°±åœ¨çˆ¶ç±»ä¸­åŠ reqiured,è¿™æ ·å­ç±»ä¸­éƒ½å¿…é¡»è¦å®šä¹‰init()æ–¹æ³•, é‚£ä¹ˆå°±å¯ä»¥ç»Ÿä¸€çš„è°ƒç”¨ type(of: self).init()äº†,å¦‚æœä¸å®šä¹‰required,é‚£ä¹ˆå­ç±»æœ‰å¯èƒ½å°±ä¸ä¼šå®ç°init()æ–¹æ³•,é‚£ä¹ˆè°ƒç”¨testæ–¹æ³•å°±ä¼šæŠ¥é”™</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-åˆè¯†å…ƒç±»å‹&quot;&gt;&lt;a href=&quot;#ä¸€-åˆè¯†å…ƒç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ åˆè¯†å…ƒç±»å‹&quot;&gt;&lt;/a&gt;ä¸€ åˆè¯†å…ƒç±»å‹&lt;/h5&gt;&lt;p&gt;swiftæä¾›äº†ä¸¤ç§ç‰¹æ®Šçš„ç±»å‹:&lt;strong&gt;Any&lt;/strong&gt;, &lt;strong&gt;AnyObject&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Any&lt;/strong&gt;: å¯ä»¥ä»£è¡¨ä»»æ„ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight actionscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Student&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; stu:Any = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;stu = &lt;span class=&quot;string&quot;&gt;&quot;Jack&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;stu = Student()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;stuæ˜¯Anyç±»å‹,èµ‹å€¼ç»™å®ƒå•¥éƒ½è¡Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;AnyObject&lt;/strong&gt;:å¯ä»¥ä»£è¡¨ä»»æ„ç±»ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight puppet&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;protocol Runnable:&lt;span class=&quot;keyword&quot;&gt;AnyObject&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Person&lt;/span&gt;: &lt;span class=&quot;keyword&quot;&gt;Runnable&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Size&lt;/span&gt;: &lt;span class=&quot;keyword&quot;&gt;Runnable&lt;/span&gt; &amp;#123; //âŒ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨åè®®åé¢å†™ä¸ŠAnyObect ä»£è¡¨åªæœ‰ç±»æ‰èƒ½éµå®ˆè¿™ä¸ªåè®®&lt;/p&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swift åè®®</title>
    <link href="http://example.com/2019/11/12/swift-%E5%8D%8F%E8%AE%AE/"/>
    <id>http://example.com/2019/11/12/swift-åè®®/</id>
    <published>2019-11-12T11:31:51.000Z</published>
    <updated>2020-12-12T12:53:24.067Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-åˆè¯†åè®®"><a href="#ä¸€-åˆè¯†åè®®" class="headerlink" title="ä¸€ åˆè¯†åè®®"></a>ä¸€ åˆè¯†åè®®</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Drawble</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">var</span> x: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span>&#125;</span><br><span class="line">    <span class="keyword">var</span> y: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">subscript</span>(index:<span class="type">Int</span>)-&gt;<span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestCase</span>: <span class="title">Drawble</span>,<span class="title">Test1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> x: <span class="type">Int</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> y: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">init</span>(x:<span class="type">Int</span>,y:<span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line">        <span class="keyword">self</span>.y = y</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">subscript</span>(index: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">           index</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<strong>protocol</strong>æ¥å£°æ˜ä¸€ä¸ªåè®®,åè®®å¯ä»¥ç”¨æ¥å®šä¹‰<strong>æ–¹æ³•</strong>,<strong>å±æ€§</strong>,<strong>ä¸‹æ ‡</strong>çš„å£°æ˜,åè®®å¯ä»¥è¢«æšä¸¾,ç»“æ„ä½“,ç±»éµå®ˆ(å¤šä¸ªåè®®ä¹‹é—´ç”¨é€—å·åˆ†éš”)</p><p>åè®®ä¸­å®šä¹‰æ–¹æ³•æ—¶ä¸èƒ½æœ‰é»˜è®¤å‚æ•°å€¼<br><a id="more"></a></p><h5 id="äºŒ-åè®®ä¸­çš„å±æ€§"><a href="#äºŒ-åè®®ä¸­çš„å±æ€§" class="headerlink" title="äºŒ åè®®ä¸­çš„å±æ€§"></a>äºŒ åè®®ä¸­çš„å±æ€§</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Drawble</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">var</span> x: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span>&#125;</span><br><span class="line">    <span class="keyword">var</span> y: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">subscript</span>(index:<span class="type">Int</span>)-&gt;<span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>: <span class="title">Drawble</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x:<span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> y:<span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"person draw"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">subscript</span>(index: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">set</span>&#123;&#125;</span><br><span class="line">        <span class="keyword">get</span>&#123;index&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person2</span>: <span class="title">Drawble</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x:<span class="type">Int</span>&#123;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">           <span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> y:<span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span> &#123;</span><br><span class="line">           <span class="built_in">print</span>(<span class="string">"person draw"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">subscript</span>(index: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">set</span>&#123;&#125;</span><br><span class="line">        <span class="keyword">get</span>&#123;index&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>åè®®ä¸­å®šä¹‰å±æ€§æ—¶å¿…é¡»ç”¨varå…³é”®å­—(å®šä¹‰æˆlet,å¦‚æœåˆ«äººä½¿ç”¨è®¡ç®—å±æ€§å»å®ç°å‘¢?æœ‰å¯èƒ½ä¼šæ”¹å±æ€§çš„å€¼)</li><li>å®ç°åè®®æ—¶çš„å±æ€§æƒé™è¦ä¸å°äºåè®®ä¸­å®šä¹‰çš„å±æ€§æƒé™</li><li>åè®®å®šä¹‰ get, setå¯ä»¥ç”¨å­˜å‚¨å±æ€§,ä¹Ÿå¯ä»¥ç”¨è®¡ç®—å±æ€§å»å®ç°</li><li>åè®®å®šä¹‰çš„get,ä»»ä½•å±æ€§éƒ½å¯ä»¥å®ç°</li></ol><h5 id="ä¸‰-åè®®ä¸­çš„ç±»å‹æ–¹æ³•"><a href="#ä¸‰-åè®®ä¸­çš„ç±»å‹æ–¹æ³•" class="headerlink" title="ä¸‰ åè®®ä¸­çš„ç±»å‹æ–¹æ³•"></a>ä¸‰ åè®®ä¸­çš„ç±»å‹æ–¹æ³•</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Drawable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>: <span class="title">Drawable</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">draw</span>() </span>&#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">"person draw"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person2</span>: <span class="title">Drawable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">"person draw"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person3</span>: <span class="title">Drawable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">"person draw"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Person4</span>: <span class="title">Drawable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">"person draw"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†ä¿è¯é€šç”¨,åè®®ä¸­å¿…é¡»ç”¨staticå®šä¹‰ç±»å‹æ–¹æ³•,ç±»å‹å±æ€§,ç±»å‹ä¸‹æ ‡,å› ä¸ºç»“æ„ä½“å’Œæšä¸¾åªæ”¯æŒstatic,ä¸æ”¯æŒclass,åªæœ‰ç±»æ‰æ”¯æŒclass</p><h5 id="å››-åè®®ä¸­çš„mutating"><a href="#å››-åè®®ä¸­çš„mutating" class="headerlink" title="å›› åè®®ä¸­çš„mutating"></a>å›› åè®®ä¸­çš„mutating</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Drawable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>: <span class="title">Drawable</span> </span>&#123;</span><br><span class="line">     <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">"person draw"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person3</span>: <span class="title">Drawable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x:<span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span> &#123;</span><br><span class="line">      x = <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Person4</span>: <span class="title">Drawable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> one,two,three</span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">draw</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span> = .two</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªæœ‰å°†åè®®ä¸­çš„å®ä¾‹æ–¹æ³•æ ‡è®°ä¸ºmutating,æ‰å…è®¸ç»“æ„ä½“,æšä¸¾çš„å…·ä½“å®ç°ä¿®æ”¹è‡ªèº«å†…å­˜,ç±»çš„å®ç°æ–¹æ³•ä¸éœ€è¦åŠ mutating,æšä¸¾,ç»“æ„ä½“æ‰éœ€è¦åŠ mutating</p><h5 id="äº”-åè®®ä¸­å®šä¹‰åˆå§‹åŒ–å™¨"><a href="#äº”-åè®®ä¸­å®šä¹‰åˆå§‹åŒ–å™¨" class="headerlink" title="äº” åè®®ä¸­å®šä¹‰åˆå§‹åŒ–å™¨"></a>äº” åè®®ä¸­å®šä¹‰åˆå§‹åŒ–å™¨</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">protocol Drawable &#123;</span><br><span class="line">    <span class="keyword">init</span>(x:<span class="built_in">Int</span>, y:<span class="built_in">Int</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>: <span class="type">Drawable &#123;</span></span></span><br><span class="line">    </span><br><span class="line">    required <span class="keyword">init</span>(x: <span class="built_in">Int</span>, y: <span class="built_in">Int</span>) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Persion2</span>: <span class="type">Drawable &#123;</span></span></span><br><span class="line">    <span class="keyword">init</span>(x: <span class="built_in">Int</span>, y: <span class="built_in">Int</span>) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åè®®ä¸­å¯ä»¥å®šä¹‰åˆå§‹åŒ–å™¨,éfinalç±»å®ç°æ—¶å¿…é¡»åŠ ä¸Šrequired,å› ä¸ºåè®®æƒ³è®©æ‰€æœ‰éµå®ˆå®ƒçš„ç±»éƒ½è¦å®ç°å®ƒå®šä¹‰çš„åˆå§‹åŒ–å™¨, ä¸åŠ required,å®ç°åè®®ç±»çš„å­ç±»å°±å¯ä»¥ä¸ç”¨å®ç°åè®®è§„èŒƒçš„åˆå§‹åŒ–å™¨,è¿™æ˜¯åè®®æ‰€ä¸æ„¿çœ‹åˆ°çš„.</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">protocol Livable &#123;</span><br><span class="line">    <span class="keyword">init</span>(age:<span class="built_in">Int</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">init</span>(age:<span class="built_in">Int</span>) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="type">Person</span>,<span class="type">Livable &#123;</span></span></span><br><span class="line">    required <span class="keyword">override</span> <span class="keyword">init</span>(age: <span class="built_in">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(age: age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä»åè®®å®ç°çš„åˆå§‹åŒ–å™¨,åˆšå¥½æ˜¯é‡å†™çš„çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–å™¨,é‚£ä¹ˆè¿™ä¸ªåˆå§‹åŒ–å™¨å¿…é¡»åŒæ—¶åŠ ä¸Š,required,override</p><h5 id="init-init-init"><a href="#init-init-init" class="headerlink" title="init init? init!"></a>init init? init!</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">protocol Livable &#123;</span><br><span class="line">    <span class="keyword">init</span>()</span><br><span class="line">    <span class="keyword">init</span>?(age:<span class="built_in">Int</span>)</span><br><span class="line">    <span class="keyword">init</span>!(no:<span class="built_in">Int</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:<span class="type">Livable &#123;</span></span></span><br><span class="line">    </span><br><span class="line">    required <span class="keyword">init</span>()&#123;&#125;</span><br><span class="line"><span class="comment">//    required init!()&#123;&#125;</span></span><br><span class="line">    </span><br><span class="line">    required <span class="keyword">init</span>?(age: <span class="built_in">Int</span>) &#123;&#125;</span><br><span class="line"><span class="comment">//    required init(age: Int) &#123;&#125;</span></span><br><span class="line"><span class="comment">//    required init!(age: Int) &#123;&#125;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    required <span class="keyword">init</span>!(no: <span class="built_in">Int</span>) &#123;&#125;</span><br><span class="line"><span class="comment">//    required init?(no: Int) &#123;&#125;</span></span><br><span class="line"><span class="comment">//    required init(no: Int) &#123;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>åè®®ä¸­å®šä¹‰çš„init?,init!,å¯ä»¥ç”¨init init? init!å»å®ç°</li><li>åè®®ä¸­å®šä¹‰çš„init,å¯ä»¥ç”¨init ,init!å»å®ç°</li></ol><h5 id="å…­-åè®®ç»§æ‰¿"><a href="#å…­-åè®®ç»§æ‰¿" class="headerlink" title="å…­ åè®®ç»§æ‰¿"></a>å…­ åè®®ç»§æ‰¿</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Livable</span>:<span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">breath</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>: <span class="title">Livable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">breath</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"person need breath"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"person can run"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªåè®®å¯ä»¥ç»§æ‰¿å…¶å®ƒåè®®</p><h5 id="ä¸ƒ-åè®®ç»„åˆ"><a href="#ä¸ƒ-åè®®ç»„åˆ" class="headerlink" title="ä¸ƒ åè®®ç»„åˆ"></a>ä¸ƒ åè®®ç»„åˆ</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Livable</span>:<span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">breath</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">func0</span><span class="params">(obj:Person)</span></span>  &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">func1</span><span class="params">(obj:Livable)</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">func2</span><span class="params">(obj:Livable &amp; Runnable)</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">func3</span><span class="params">(obj:Livable &amp; Runnable &amp; Person)</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typealias</span> realP = <span class="type">Livable</span> &amp; <span class="type">Runnable</span> &amp; <span class="type">Person</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">func4</span><span class="params">(obj:realP)</span></span> &#123;&#125;</span><br></pre></td></tr></table></figure><p>åè®®ç»„åˆ,å¯ä»¥åŒ…å«1ä¸ªç±»ç±»å‹,æœ€å¤šä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªç±»ç±»å‹</p><h5 id="å…«-åè®®ä¸¾ä¾‹"><a href="#å…«-åè®®ä¸¾ä¾‹" class="headerlink" title="å…« åè®®ä¸¾ä¾‹"></a>å…« åè®®ä¸¾ä¾‹</h5><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> : <span class="title">CaseIterable</span> &#123;</span></span><br><span class="line">    <span class="keyword">case</span> spring, summer,atumn,winter</span><br><span class="line">&#125;</span><br><span class="line">let seasons = Season.allCases</span><br><span class="line">print(seasons.count)</span><br><span class="line"><span class="keyword">for</span> season in seasons &#123;</span><br><span class="line">    print(season)</span><br><span class="line">&#125;</span><br><span class="line">/<span class="regexp">/4</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/spring</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/summer</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/atumn</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/winter</span></span><br></pre></td></tr></table></figure><p>è®©æšä¸¾éµå®ˆCaseIterableåè®®,å¯ä»¥å®ç°æšä¸¾éå†å€¼</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Person : CustomStringConvertible,CustomDebugStringConvertible &#123;</span><br><span class="line">    <span class="selector-tag">var</span> age = <span class="number">0</span></span><br><span class="line">    <span class="selector-tag">var</span> description: String&#123; <span class="string">"person \(age)"</span>&#125;</span><br><span class="line">    <span class="selector-tag">var</span> debugDescription: String&#123;<span class="string">"debug person\(age)"</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">var</span> person = Person()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(person)</span></span></span><br><span class="line"><span class="function"><span class="title">debugPrint</span><span class="params">(person)</span></span></span><br><span class="line"><span class="comment">//person 0</span></span><br><span class="line"><span class="comment">//debug person0</span></span><br></pre></td></tr></table></figure><p>éµå®ˆ <code>CustomStringConvertibleã€CustomDebugStringConvertible</code> åè®®ï¼Œéƒ½å¯ä»¥è‡ªå®šä¹‰å®ä¾‹çš„æ‰“å°å­—ç¬¦ä¸², printè°ƒç”¨çš„æ˜¯<code>CustomStringConvertible</code>åè®®çš„description,debugPrintã€poè°ƒç”¨çš„æ˜¯<code>CustomDebugStringConvertible</code>åè®®çš„debugDescription</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-åˆè¯†åè®®&quot;&gt;&lt;a href=&quot;#ä¸€-åˆè¯†åè®®&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ åˆè¯†åè®®&quot;&gt;&lt;/a&gt;ä¸€ åˆè¯†åè®®&lt;/h5&gt;&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Drawble&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; x: &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt; &amp;#123; &lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; y: &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt; &amp;#123; &lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;subscript&lt;/span&gt;(index:&lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;)-&amp;gt;&lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt; &amp;#123; &lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Test1&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TestCase&lt;/span&gt;: &lt;span class=&quot;title&quot;&gt;Drawble&lt;/span&gt;,&lt;span class=&quot;title&quot;&gt;Test1&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; x: &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; y: &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;init&lt;/span&gt;(x:&lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;,y:&lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.x = x&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.y = y&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;subscript&lt;/span&gt;(index: &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;) -&amp;gt; &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           index&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½¿ç”¨&lt;strong&gt;protocol&lt;/strong&gt;æ¥å£°æ˜ä¸€ä¸ªåè®®,åè®®å¯ä»¥ç”¨æ¥å®šä¹‰&lt;strong&gt;æ–¹æ³•&lt;/strong&gt;,&lt;strong&gt;å±æ€§&lt;/strong&gt;,&lt;strong&gt;ä¸‹æ ‡&lt;/strong&gt;çš„å£°æ˜,åè®®å¯ä»¥è¢«æšä¸¾,ç»“æ„ä½“,ç±»éµå®ˆ(å¤šä¸ªåè®®ä¹‹é—´ç”¨é€—å·åˆ†éš”)&lt;/p&gt;
&lt;p&gt;åè®®ä¸­å®šä¹‰æ–¹æ³•æ—¶ä¸èƒ½æœ‰é»˜è®¤å‚æ•°å€¼&lt;br&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swift å¯é€‰é“¾</title>
    <link href="http://example.com/2019/10/25/swift-%E5%8F%AF%E9%80%89%E9%93%BE/"/>
    <id>http://example.com/2019/10/25/swift-å¯é€‰é“¾/</id>
    <published>2019-10-25T10:52:27.000Z</published>
    <updated>2020-12-12T11:24:14.560Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> price  = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> weight = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name:<span class="type">String</span> = <span class="string">""</span></span><br><span class="line">    <span class="keyword">var</span> dog:<span class="type">Dog</span> = <span class="type">Dog</span>()</span><br><span class="line">    <span class="keyword">var</span> car:<span class="type">Car?</span> = <span class="type">Car</span>()</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">age</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"person eat"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">getName</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">subscript</span>(index:<span class="type">Int</span>)-&gt;<span class="type">Int</span>&#123;</span><br><span class="line">        index</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person: <span class="type">Person?</span> = <span class="type">Person</span>()</span><br><span class="line"><span class="keyword">var</span> age1 = person!.age()<span class="comment">//Int</span></span><br><span class="line"><span class="keyword">var</span> age2 = person?.age()<span class="comment">//Int?</span></span><br><span class="line"><span class="keyword">var</span> name = person?.name <span class="comment">//String?</span></span><br><span class="line"><span class="keyword">var</span> index = person?[<span class="number">6</span>]<span class="comment">//Int?</span></span><br><span class="line">person?.name = person?.getName() <span class="keyword">as</span>! <span class="type">String</span></span><br></pre></td></tr></table></figure><ol><li>å¦‚æœå¯é€‰é¡¹ä¸ºnil,è°ƒç”¨æ–¹æ³•,ä¸‹æ ‡,å±æ€§å¤±è´¥,ç»“æœä¸ºnil</li><li>å¦‚æœå¯é€‰é¡¹ä¸ä¸ºnil,è°ƒç”¨æ–¹æ³•,ä¸‹æ ‡,å±æ€§æˆåŠŸ,ç»“æœä¼šè¢«åŒ…è£…æˆå¯é€‰é¡¹</li><li>å¦‚æœç»“æœæœ¬æ¥å°±æ˜¯å¯é€‰é¡¹,ä¸ä¼šè¿›è¡Œå†æ¬¡åŒ…è£…</li></ol><a id="more"></a><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> price  = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> weight = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name:<span class="type">String</span> = <span class="string">""</span></span><br><span class="line">    <span class="keyword">var</span> dog:<span class="type">Dog</span> = <span class="type">Dog</span>()</span><br><span class="line">    <span class="keyword">var</span> car:<span class="type">Car?</span> = <span class="type">Car</span>()</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">age</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"person eat"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">getName</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">subscript</span>(index:<span class="type">Int</span>)-&gt;<span class="type">Int</span>&#123;</span><br><span class="line">        index</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person: <span class="type">Person?</span> = <span class="type">Person</span>()</span><br><span class="line"><span class="keyword">var</span> dog = person?.dog</span><br><span class="line"><span class="keyword">var</span> weight = person?.dog.weight</span><br><span class="line"><span class="keyword">var</span> price = person?.car?.price</span><br></pre></td></tr></table></figure><p>å¤šä¸ª?å¯ä»¥é“¾æ¥åœ¨ä¸€èµ·,å¦‚æœé“¾ä¸­ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹æ˜¯nil,é‚£ä¹ˆæ•´ä¸ªé“¾å°±ä¼šè°ƒç”¨å¤±è´¥</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var scores = [<span class="string">"Jack"</span>: [<span class="number">86</span>,<span class="number">82</span>,<span class="number">84</span>],<span class="string">"Rose"</span>: [<span class="number">79</span>,<span class="number">94</span>,<span class="number">81</span>]]</span><br><span class="line">scores[<span class="string">"Jack"</span>]?[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">scores[<span class="string">"Rose"</span>]?[<span class="number">2</span>] = <span class="number">80</span></span><br></pre></td></tr></table></figure><p>å¯é€‰é“¾åœ¨æ•°ç»„ä¸­çš„åº”ç”¨scores[â€œRoseâ€]?ä¸ºnil,åˆ™ä¸å†è¿›è¡Œåç»­çš„èµ‹å€¼æ“ä½œ</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num1:<span class="type">Int?</span> = <span class="number">5</span></span><br><span class="line">num1? = <span class="number">10</span> <span class="comment">//Optional(10)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num2:<span class="type">Int?</span> = <span class="literal">nil</span></span><br><span class="line">num2? = <span class="number">10</span> <span class="comment">//nil</span></span><br></pre></td></tr></table></figure><p>å¯é€‰é¡¹åé¢åŠ ? å¦‚æœnilåˆ™å¯é€‰é“¾è°ƒç”¨å¤±è´¥,ä¸å†åœ¨è¿›è¡Œåé¢çš„èµ‹å€¼</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dict:<span class="type"></span>[<span class="keyword">String</span>:<span class="type"></span>(<span class="keyword">Int</span>,<span class="keyword">Int</span>)-&gt;<span class="keyword">Int</span>] = [</span><br><span class="line">    <span class="string">"sum"</span>: <span class="type"></span>(+),</span><br><span class="line">    <span class="string">"difference"</span>: <span class="type"></span>(-)</span><br><span class="line">]</span><br><span class="line"><span class="keyword">var</span> result = dict[<span class="string">"sum"</span>]?(<span class="number">10</span>,<span class="number">20</span>)</span><br></pre></td></tr></table></figure><p>å¯é€‰é“¾åœ¨å­—å…¸ä¸­çš„åº”ç”¨å¦‚æœdict[â€œsumâ€]?ä¸ºç©ºåˆ™ä¸ä¼šå†è¿›è¡Œåé¢çš„è°ƒç”¨</p>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Car&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; price  = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Dog&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; weight = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Person&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; name:&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; dog:&lt;span class=&quot;type&quot;&gt;Dog&lt;/span&gt; = &lt;span class=&quot;type&quot;&gt;Dog&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; car:&lt;span class=&quot;type&quot;&gt;Car?&lt;/span&gt; = &lt;span class=&quot;type&quot;&gt;Car&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;person eat&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;subscript&lt;/span&gt;(index:&lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;)-&amp;gt;&lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        index&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; person: &lt;span class=&quot;type&quot;&gt;Person?&lt;/span&gt; = &lt;span class=&quot;type&quot;&gt;Person&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; age1 = person!.age()&lt;span class=&quot;comment&quot;&gt;//Int&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; age2 = person?.age()&lt;span class=&quot;comment&quot;&gt;//Int?&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; name = person?.name &lt;span class=&quot;comment&quot;&gt;//String?&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; index = person?[&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;//Int?&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;person?.name = person?.getName() &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt;! &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœå¯é€‰é¡¹ä¸ºnil,è°ƒç”¨æ–¹æ³•,ä¸‹æ ‡,å±æ€§å¤±è´¥,ç»“æœä¸ºnil&lt;/li&gt;
&lt;li&gt;å¦‚æœå¯é€‰é¡¹ä¸ä¸ºnil,è°ƒç”¨æ–¹æ³•,ä¸‹æ ‡,å±æ€§æˆåŠŸ,ç»“æœä¼šè¢«åŒ…è£…æˆå¯é€‰é¡¹&lt;/li&gt;
&lt;li&gt;å¦‚æœç»“æœæœ¬æ¥å°±æ˜¯å¯é€‰é¡¹,ä¸ä¼šè¿›è¡Œå†æ¬¡åŒ…è£…&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swift åˆå§‹åŒ–å™¨</title>
    <link href="http://example.com/2019/10/20/swift-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%99%A8/"/>
    <id>http://example.com/2019/10/20/swift-åˆå§‹åŒ–å™¨/</id>
    <published>2019-10-20T08:39:04.000Z</published>
    <updated>2020-12-12T09:14:34.353Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-åˆå§‹åŒ–å™¨ç§ç±»-åªé’ˆå¯¹ä¸€ç±»"><a href="#ä¸€-åˆå§‹åŒ–å™¨ç§ç±»-åªé’ˆå¯¹ä¸€ç±»" class="headerlink" title="ä¸€ åˆå§‹åŒ–å™¨ç§ç±»(åªé’ˆå¯¹ä¸€ç±»)"></a>ä¸€ åˆå§‹åŒ–å™¨ç§ç±»(åªé’ˆå¯¹ä¸€ç±»)</h5><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">struct Ract &#123;</span><br><span class="line">    <span class="built_in">var</span> <span class="built_in">width</span>:Int = <span class="number">0</span></span><br><span class="line">    <span class="built_in">var</span> <span class="built_in">height</span>:Int = <span class="number">0</span></span><br><span class="line">    init(<span class="built_in">width</span>:Int) &#123;</span><br><span class="line">        self.<span class="built_in">width</span> = <span class="built_in">width</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Size &#123;</span><br><span class="line">    <span class="built_in">var</span> <span class="built_in">width</span>:Int = <span class="number">0</span></span><br><span class="line">    <span class="built_in">var</span> <span class="built_in">height</span>:Int = <span class="number">0</span></span><br><span class="line">    init(<span class="built_in">width</span>:Int) &#123;</span><br><span class="line">        self.<span class="built_in">width</span> = <span class="built_in">width</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">var</span> s = Size(<span class="built_in">width</span>: <span class="number">10</span>)</span><br></pre></td></tr></table></figure><p>ç±»,ç»“æ„ä½“,æšä¸¾éƒ½å¯ä»¥å®šä¹‰åˆå§‹åŒ–å™¨</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Size</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width:<span class="built_in">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> height:<span class="built_in">Int</span> = <span class="number">0</span></span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s = Size()</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬æ²¡æœ‰æŒ‡å®šåˆå§‹åŒ–å™¨,ç¼–è¯‘å™¨ä¼šé»˜è®¤ç»™æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªåˆå§‹åŒ–å™¨,å¦‚æœæˆ‘ä»¬æŒ‡å®šäº†åˆå§‹åŒ–å™¨,ç¼–è¯‘å™¨ä¸ä¼šå†ç»™æˆ‘ä»¬ç”Ÿæˆé»˜è®¤çš„,æŒ‡å®šåˆå§‹åŒ–å™¨,è¦ä¿è¯ç±»çš„æˆå‘˜å˜é‡éƒ½èƒ½å¤Ÿåˆå§‹åŒ–<br><a id="more"></a></p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Size &#123;</span><br><span class="line">    <span class="built_in">var</span> <span class="built_in">width</span>:Int = <span class="number">0</span></span><br><span class="line">    <span class="built_in">var</span> <span class="built_in">height</span>:Int = <span class="number">0</span></span><br><span class="line">    init(<span class="built_in">width</span>:Int,<span class="built_in">height</span>:Int) &#123;</span><br><span class="line">        self.<span class="built_in">width</span> = <span class="built_in">width</span></span><br><span class="line">        self.<span class="built_in">height</span> = <span class="built_in">height</span></span><br><span class="line">    &#125;</span><br><span class="line">    convenience init(<span class="built_in">width</span>:Int) &#123;</span><br><span class="line">        self.init(<span class="built_in">width</span>:<span class="built_in">width</span>,<span class="built_in">height</span>:<span class="number">10</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">var</span> s = Size(<span class="built_in">width</span>: <span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(s.<span class="built_in">width</span>)</span><br></pre></td></tr></table></figure><p>ç±»æœ‰ä¸¤ç§åˆå§‹åŒ–å™¨: æŒ‡å®šåˆå§‹åŒ–å™¨,ä¾¿æ·åˆå§‹åŒ–å™¨,è¿™ä¸¤ç§åˆå§‹åŒ–å™¨åœ¨å®šä¹‰æ—¶æœ‰å¦‚ä¸‹æ³¨æ„ç‚¹âš ï¸:</p><ol><li>æ¯ä¸ªç±»è‡³å°‘æœ‰ä¸€ä¸ªæŒ‡å®šåˆå§‹åŒ–å™¨,æŒ‡å®šåˆå§‹åŒ–å™¨æ—¶ç±»çš„ä¸»è¦åˆå§‹åŒ–å™¨</li><li>é»˜è®¤åˆå§‹åŒ–å™¨æ€»æ˜¯ç±»çš„æŒ‡å®šåˆå§‹åŒ–å™¨</li><li>ç±»åå‘äºå°‘é‡æŒ‡å®šåˆå§‹åŒ–å™¨,ä¸€ä¸ªç±»é€šå¸¸åªå®šä¹‰ä¸€ä¸ªæŒ‡å®šåˆå§‹åŒ–å™¨</li></ol><h5 id="äºŒ-åˆå§‹åŒ–å™¨è°ƒç”¨æµç¨‹"><a href="#äºŒ-åˆå§‹åŒ–å™¨è°ƒç”¨æµç¨‹" class="headerlink" title="äºŒ åˆå§‹åŒ–å™¨è°ƒç”¨æµç¨‹"></a>äºŒ åˆå§‹åŒ–å™¨è°ƒç”¨æµç¨‹</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">init</span>(age:<span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.age = age</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>()&#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(age:<span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Studen</span>: <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> score: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> grade:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">init</span>(score:<span class="type">Int</span>)&#123;</span><br><span class="line">        <span class="keyword">self</span>.score = score</span><br><span class="line">        <span class="keyword">self</span>.grade = <span class="number">0</span></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(age: <span class="number">0</span>). <span class="comment">//æŒ‡å®šåˆå§‹åŒ–å™¨å¿…é¡»ä»å®ƒçš„ç›´ç³»çˆ¶ç±»è°ƒç”¨æŒ‡å®šåˆå§‹åŒ–å™¨</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>()&#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(score:<span class="number">0</span>) <span class="comment">//ä¾¿æ·åˆå§‹åŒ–å™¨æœ€ç»ˆå¿…é¡»è¦è°ƒç”¨ä¸€ä¸ªæŒ‡å®šåˆå§‹åŒ–å™¨</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>(score:<span class="type">Int</span>,age:<span class="type">Int</span>) &#123; <span class="comment">//ä¾¿æ·åˆå§‹åŒ–å™¨å¿…é¡»ä»åŒä¸€ä¸ªç±»é‡Œè°ƒç”¨å¦ä¸€ä¸ªåˆå§‹åŒ–å™¨</span></span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>åˆå§‹åŒ–å™¨çš„ç›¸äº’è°ƒç”¨è§„åˆ™:</strong></p><ol><li>æŒ‡å®šåˆå§‹åŒ–å™¨å¿…é¡»ä»å®ƒçš„ç›´ç³»çˆ¶ç±»è°ƒç”¨æŒ‡å®šåˆå§‹åŒ–å™¨</li><li>ä¾¿æ·åˆå§‹åŒ–å™¨å¿…é¡»ä»åŒä¸€ä¸ªç±»é‡Œè°ƒç”¨å¦ä¸€ä¸ªåˆå§‹åŒ–å™¨</li><li>ä¾¿æ·åˆå§‹åŒ–å™¨æœ€ç»ˆå¿…é¡»è¦è°ƒç”¨ä¸€ä¸ªæŒ‡å®šåˆå§‹åŒ–å™¨</li></ol><p>ä¸‹é¢æ˜¯åˆå§‹åŒ–å™¨ç›¸äº’è°ƒç”¨æµç¨‹å›¾<br><img src="../assets/blogImg/chushihua01.png" alt><br><img src="../assets/blogImg/chushihua02.png" alt><br>è¿™ä¸€å¥—æµç¨‹,ä¿è¯äº†,æˆ‘ä»¬ä½¿ç”¨ä»»æ„çš„åˆå§‹åŒ–,éƒ½å¯ä»¥å®Œæ•´çš„åˆå§‹åŒ–å®ä¾‹</p><h5 id="ä¸‰-ä¸¤æ®µå¼åˆå§‹åŒ–"><a href="#ä¸‰-ä¸¤æ®µå¼åˆå§‹åŒ–" class="headerlink" title="ä¸‰ ä¸¤æ®µå¼åˆå§‹åŒ–"></a>ä¸‰ ä¸¤æ®µå¼åˆå§‹åŒ–</h5><p><img src="../assets/blogImg/chushihua03.png" alt><br>ä¸ºä»€ä¹ˆåœ¨supper.initä¹‹å‰è°ƒç”¨æ–¹æ³•æˆ–è€…æˆ–åˆ™ä¿®æ”¹ç»§æ‰¿çš„å±æ€§éƒ½ä¼šæŠ¥é”™å‘¢? ä¸‹é¢å°±è¦ç‰µæ‰¯åˆ°äº†swift,åˆå§‹åŒ–çš„ä¸¤ä¸ªé˜¶æ®µäº†</p><h6 id="ç¬¬ä¸€é˜¶æ®µ-åˆå§‹åŒ–æ‰€æœ‰å­˜å‚¨å±æ€§"><a href="#ç¬¬ä¸€é˜¶æ®µ-åˆå§‹åŒ–æ‰€æœ‰å­˜å‚¨å±æ€§" class="headerlink" title="ç¬¬ä¸€é˜¶æ®µ: åˆå§‹åŒ–æ‰€æœ‰å­˜å‚¨å±æ€§"></a>ç¬¬ä¸€é˜¶æ®µ: åˆå§‹åŒ–æ‰€æœ‰å­˜å‚¨å±æ€§</h6><ol><li>å¤–å±‚è°ƒç”¨æŒ‡å®šæˆ–è€…ä¾¿æ·åˆå§‹åŒ–å™¨</li><li>åˆ†é…å†…å­˜ç»™å®ä¾‹, ä½†æœªåˆå§‹åŒ–</li><li>æŒ‡å®šåˆå§‹åŒ–å™¨ç¡®ä¿å½“å‰ç±»å®šä¹‰çš„å­˜å‚¨å±æ€§éƒ½åˆå§‹åŒ–</li><li>æŒ‡å®šåˆå§‹åŒ–å™¨è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–å™¨,ä¸æ–­å‘ä¸Šè°ƒç”¨,å½¢æˆåˆå§‹åŒ–é“¾ </li></ol><h6 id="ç¬¬äºŒé˜¶æ®µ-è®¾ç½®æ–°çš„å­˜å‚¨å±æ€§å€¼"><a href="#ç¬¬äºŒé˜¶æ®µ-è®¾ç½®æ–°çš„å­˜å‚¨å±æ€§å€¼" class="headerlink" title="ç¬¬äºŒé˜¶æ®µ: è®¾ç½®æ–°çš„å­˜å‚¨å±æ€§å€¼"></a>ç¬¬äºŒé˜¶æ®µ: è®¾ç½®æ–°çš„å­˜å‚¨å±æ€§å€¼</h6><ol><li>ä»åˆå§‹åŒ–å™¨å¾€ä¸‹,é“¾ä¸­çš„æ¯ä¸€ä¸ªæŒ‡å®šåˆå§‹åŒ–å™¨éƒ½æœ‰æœºä¼šè¿›ä¸€æ­¥å®šåˆ¶å®ä¾‹</li><li>åˆå§‹åŒ–å™¨ç°åœ¨èƒ½å¤Ÿä½¿ç”¨self(è®¿é—®,ä¿®æ”¹å®ƒçš„å±æ€§,è°ƒç”¨å®ƒçš„å®ä¾‹æ–¹æ³•ç­‰ç­‰)</li><li>æœ€ç»ˆé“¾ä¸­ä»»ä½•ä¾¿æ·åˆå§‹åŒ–éƒ½æœ‰æœºä¼šå®šåˆ¶å®ä¾‹ä»¥åŠä½¿ç”¨self</li></ol><p>é€šè¿‡ä¸¤æ®µå¼åˆå§‹åŒ–è°ƒç”¨æµç¨‹,æˆ‘ä»¬å¯ä»¥è§£é‡Šä¸‹ä¸ºä»€ä¹ˆä¸Šé¢æŠ¥é”™äº†,supper.initä¹‹å‰è°ƒç”¨æ–¹æ³•,æ­¤æ—¶ç±»çš„å­˜å‚¨å±æ€§è¿˜æœ‰æœªè¿›è¡Œåˆå§‹åŒ–çš„,ä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€é˜¶æ®µè¿˜æœªå®Œæˆ,æ­¤æ—¶selfæ˜¯ä¸èƒ½ä½¿ç”¨çš„,åªæœ‰ç¬¬ä¸€é˜¶æ®µå®Œæˆ,æ‰èƒ½ä½¿ç”¨</p><h5 id="å››-åˆå§‹åŒ–çš„å®‰å…¨æ£€æŸ¥"><a href="#å››-åˆå§‹åŒ–çš„å®‰å…¨æ£€æŸ¥" class="headerlink" title="å›› åˆå§‹åŒ–çš„å®‰å…¨æ£€æŸ¥"></a>å›› åˆå§‹åŒ–çš„å®‰å…¨æ£€æŸ¥</h5><ol><li><p>æŒ‡å®šåˆå§‹åŒ–å™¨å¿…é¡»ä¿è¯åœ¨è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–ä¹‹å‰,å…¶æ‰€åœ¨ç±»å®šä¹‰çš„æ‰€æœ‰å­˜å‚¨å±æ€§éƒ½è¦åˆå§‹åŒ–å®Œæˆ<br><img src="../assets/blogImg/chushihua04.png" alt></p></li><li><p>æŒ‡å®šåˆå§‹åŒ–å™¨å¿…é¡»å…ˆè°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–å™¨,ç„¶åæ‰èƒ½ä¸ºç»§æ‰¿çš„å±æ€§è®¾ç½®æ–°å€¼<br><img src="../assets/blogImg/chushihua05.png" alt></p></li><li><p>ä¾¿æ·åˆå§‹åŒ–å™¨å¿…é¡»å…ˆè°ƒç”¨åŒç±»ä¸­çš„å…¶ä»–åˆå§‹åŒ–å™¨,ç„¶åå†ä¸ºä»»æ„å±æ€§è®¾ç½®æ–°å€¼<br><img src="../assets/blogImg/chushihua06.png" alt></p></li><li><p>åˆå§‹åŒ–å™¨åœ¨ç¬¬ä¸€é˜¶æ®µåˆå§‹åŒ–å®Œæˆä¹‹å‰,ä¸èƒ½è°ƒç”¨ä»»ä½•å®ä¾‹æ–¹æ³•,ä¸èƒ½å¯¹åŒºä»»ä½•å®ä¾‹å±æ€§çš„å€¼,ä¹Ÿä¸èƒ½å¼•ç”¨self<br><img src="../assets/blogImg/chushihua03.png" alt></p></li></ol><h5 id="äº”-é‡å†™åˆå§‹åŒ–å™¨"><a href="#äº”-é‡å†™åˆå§‹åŒ–å™¨" class="headerlink" title="äº” é‡å†™åˆå§‹åŒ–å™¨"></a>äº” é‡å†™åˆå§‹åŒ–å™¨</h5><p>æ–¹æ³•åç§°,å‚æ•°ä¸ªæ•°,å‚æ•°ç±»å‹,å‚æ•°æ ‡ç­¾éƒ½ç›¸åŒå³ä¸ºé‡å†™<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age:<span class="built_in">Int</span></span><br><span class="line">    <span class="keyword">init</span>(age:<span class="built_in">Int</span>) &#123;</span><br><span class="line">        self.age = age</span><br><span class="line">    &#125;</span><br><span class="line">    convenience <span class="keyword">init</span>()&#123;</span><br><span class="line">        self.<span class="keyword">init</span>(age:<span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Studen</span>: <span class="type">Person &#123;</span></span></span><br><span class="line">    <span class="keyword">var</span> score: <span class="built_in">Int</span></span><br><span class="line">    <span class="keyword">var</span> grade:<span class="built_in">Int</span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(age: <span class="built_in">Int</span>) &#123;</span><br><span class="line">        self.score = <span class="number">0</span></span><br><span class="line">        self.grade = <span class="number">0</span></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(age: age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å½“é‡å†™çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–å™¨æ—¶,å¿…é¡»åŠ ä¸Šoverride<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age:<span class="built_in">Int</span></span><br><span class="line">    <span class="keyword">init</span>(age:<span class="built_in">Int</span>) &#123;</span><br><span class="line">        self.age = age</span><br><span class="line">    &#125;</span><br><span class="line">    convenience <span class="keyword">init</span>()&#123;</span><br><span class="line">        self.<span class="keyword">init</span>(age:<span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Studen</span>: <span class="type">Person &#123;</span></span></span><br><span class="line">    <span class="keyword">var</span> score: <span class="built_in">Int</span></span><br><span class="line">    <span class="keyword">var</span> grade:<span class="built_in">Int</span></span><br><span class="line">    <span class="keyword">init</span>(score:<span class="built_in">Int</span>) &#123;</span><br><span class="line">        self.score = score</span><br><span class="line">        self.grade = <span class="number">0</span></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(age: <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">override</span> convenience <span class="keyword">init</span>(age: <span class="built_in">Int</span>) &#123;</span><br><span class="line">        self.<span class="keyword">init</span>(score:<span class="number">10</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å­ç±»é‡å†™ä¸ºä¾¿æ·åˆå§‹åŒ–å™¨ä¹Ÿè¦å¿…é¡»åŠ ä¸Šoverride</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">init</span>(age:<span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.age = age</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>()&#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(age:<span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Studen</span>: <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> score: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> grade:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">init</span>(score:<span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.score = score</span><br><span class="line">        <span class="keyword">self</span>.grade = <span class="number">0</span></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(age: <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>() &#123;  <span class="comment">//ä¸ç”¨åŠ override</span></span><br><span class="line">        <span class="keyword">self</span>.score = <span class="number">0</span></span><br><span class="line">        <span class="keyword">self</span>.grade = <span class="number">0</span></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(age: <span class="number">10</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå­ç±»å†™äº†ä¸€ä¸ªåŒ¹é…çˆ¶ç±»ä¾¿æ·åˆå§‹åŒ–å™¨çš„åˆå§‹åŒ–å™¨,ä¸ç”¨åŠ ä¸Šoverride, é‚£æ˜¯å› ä¸ºçˆ¶ç±»çš„ä¾¿æ·åˆå§‹åŒ–å™¨æ°¸è¿œä¸ä¼šé€šè¿‡ä¹‹ç±»è°ƒç”¨,å› æ­¤å­ç±»æ— æ³•é‡å†™çˆ¶ç±»çš„ä¾¿æ·åˆå§‹åŒ–å™¨,å› æ­¤è¿™ç§æƒ…å½¢ä¹Ÿä¸å«é‡å†™</p><h5 id="å…­-åˆå§‹åŒ–å™¨è‡ªåŠ¨ç»§æ‰¿"><a href="#å…­-åˆå§‹åŒ–å™¨è‡ªåŠ¨ç»§æ‰¿" class="headerlink" title="å…­ åˆå§‹åŒ–å™¨è‡ªåŠ¨ç»§æ‰¿"></a>å…­ åˆå§‹åŒ–å™¨è‡ªåŠ¨ç»§æ‰¿</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age:<span class="built_in">Int</span></span><br><span class="line">    <span class="keyword">var</span> name:String</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(age:<span class="built_in">Int</span>) &#123;</span><br><span class="line">        self.age = age</span><br><span class="line">        self.name = <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(age:<span class="built_in">Int</span>, name:String) &#123;</span><br><span class="line">        self.age = age</span><br><span class="line">        self.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Studen</span>: <span class="type">Person &#123;</span></span></span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> stu = Studen(age: <span class="number">10</span>)</span><br><span class="line"><span class="keyword">var</span> stu2 = Studen(age: <span class="number">10</span>, name: <span class="string">"zhangshan"</span>)</span><br></pre></td></tr></table></figure><ol><li>å¦‚æœå­ç±»æ²¡æœ‰è‡ªå®šä¹‰ä»»ä½•ç±»å‹çš„æŒ‡å®šåˆå§‹åŒ–å™¨,å®ƒä¼šè‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æ‰€æœ‰çš„æŒ‡å®šåˆå§‹åŒ–å™¨</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> name:<span class="type">String</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(age:<span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.age = age</span><br><span class="line">        <span class="keyword">self</span>.name = <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(age:<span class="type">Int</span>, name:<span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.age = age</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Studen</span>: <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>(no: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(age:no, name:<span class="string">"hello"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> stu = <span class="type">Studen</span>(no: <span class="number">10</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>å­ç±»åªæ·»åŠ äº†ä¾¿æ·åˆå§‹åŒ–å™¨, ä¹Ÿä¼šè‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰æŒ‡å®šåˆå§‹åŒ–å™¨</li></ol><h5 id="ä¸ƒ-requiredä¿®é¥°æŒ‡å®šåˆå§‹åŒ–å™¨"><a href="#ä¸ƒ-requiredä¿®é¥°æŒ‡å®šåˆå§‹åŒ–å™¨" class="headerlink" title="ä¸ƒ requiredä¿®é¥°æŒ‡å®šåˆå§‹åŒ–å™¨"></a>ä¸ƒ requiredä¿®é¥°æŒ‡å®šåˆå§‹åŒ–å™¨</h5> <figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    required <span class="keyword">init</span>() &#123;&#125;</span><br><span class="line">    <span class="keyword">init</span>(age:<span class="built_in">Int</span>) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Studen</span>: <span class="type">Person &#123;</span></span></span><br><span class="line">     required <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨requiredä¿®é¥°æŒ‡å®šåˆå§‹åŒ–å™¨,è¡¨æ˜å…¶æ‰€æœ‰å­ç±»éƒ½å¿…é¡»å®ç°è¯¥åˆå§‹åŒ–å™¨,å­ç±»å¯ä»¥é€šè¿‡ç»§æ‰¿æˆ–è€…é‡å†™æ¥å®ç°,å¦‚æœå­ç±»é‡å†™requiredåˆå§‹åŒ–å™¨,ä¹Ÿå¿…é¡»åŠ ä¸Šrequired,ä¸ç”¨åŠ override,å¦‚æœä½ æƒ³è®©ä¸€ä¸ªåˆå§‹åŒ–å™¨å§‹ç»ˆéƒ½ä¼šè°ƒç”¨,ä¸ç®¡æœ‰å‡ å±‚å­ç±»ç»§æ‰¿å®ƒ,é‚£å°±æŠŠå®ƒå®šä¹‰æˆrequired</p><h5 id="å…«-å±æ€§è§‚å¯Ÿå™¨"><a href="#å…«-å±æ€§è§‚å¯Ÿå™¨" class="headerlink" title="å…« å±æ€§è§‚å¯Ÿå™¨"></a>å…« å±æ€§è§‚å¯Ÿå™¨</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age:<span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"willSet"</span>,newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"didSet"</span>,oldValue,age)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.age = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Studen</span>: <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</span><br><span class="line">        <span class="keyword">self</span>.age = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> stu = <span class="type">Studen</span>()</span><br><span class="line"><span class="comment">//willSet 1</span></span><br><span class="line"><span class="comment">//didSet 0 1</span></span><br></pre></td></tr></table></figure><p>çˆ¶ç±»çš„å±æ€§åœ¨å®ƒè‡ªå·±çš„åˆå§‹åŒ–å™¨ä¸­èµ‹å€¼ä¸ä¼šè§¦å‘å±æ€§è§‚å¯Ÿå™¨,ä½†åœ¨å­ç±»çš„åˆå§‹åŒ–å™¨ä¸­èµ‹å€¼ä¼šè§¦å‘å±æ€§è§‚å¯Ÿå™¨</p><h5 id="ä¹-å¯å¤±è´¥åˆå§‹åŒ–å™¨"><a href="#ä¹-å¯å¤±è´¥åˆå§‹åŒ–å™¨" class="headerlink" title="ä¹ å¯å¤±è´¥åˆå§‹åŒ–å™¨"></a>ä¹ å¯å¤±è´¥åˆå§‹åŒ–å™¨</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name:<span class="built_in">String</span></span><br><span class="line">    init?(name:<span class="built_in">String</span>) &#123;</span><br><span class="line">        self.name = name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = Person(name: <span class="string">""</span>)</span><br><span class="line"><span class="built_in">print</span>(person)<span class="comment">//Optional(sudy.Person)</span></span><br></pre></td></tr></table></figure><p>ç±»,ç»“æ„ä½“,æšä¸¾éƒ½å¯ä»¥ä½¿ç”¨init?å®šä¹‰å¯å¤±è´¥åˆå§‹åŒ–å™¨,ä»–è¿”å›çš„å¯¹è±¡æ˜¯ä¸ªå¯é€‰é¡¹ç±»å‹çš„å¯¹è±¡</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Answer</span> : <span class="title">Int</span>&#123;</span></span><br><span class="line">    <span class="keyword">case</span> wrong, right</span><br><span class="line">&#125;</span><br><span class="line">var an = Answer(<span class="symbol">rawValue:</span><span class="number">1</span>)</span><br><span class="line">print(an)/<span class="regexp">/Optional(sudy.Answer.right)</span></span><br></pre></td></tr></table></figure><p>æšä¸¾çš„å¯å¤±è´¥åˆå§‹åŒ–å™¨</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name:<span class="type">String</span></span><br><span class="line">    <span class="keyword">init</span>?(name:<span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>(name:<span class="type">String</span>) &#123;  <span class="comment">//âŒ</span></span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="type">Person</span>(name: <span class="string">""</span>)</span><br><span class="line"><span class="built_in">print</span>(person)<span class="comment">//Optional(sudy.Person)</span></span><br></pre></td></tr></table></figure><p>ä¸å…è®¸åŒæ—¶å®šä¹‰å‚æ•°æ ‡ç­¾,å‚æ•°ä¸ªæ•°,å‚æ•°ç±»å‹ç›¸åŒçš„å¯å¤±è´¥åˆå§‹åŒ–å™¨å’Œéå¯å¤±è´¥åˆå§‹åŒ–å™¨(çœŸè¦èƒ½å®šä¹‰,é‚£æˆ‘çŸ¥é“ä½ è¦è°ƒç”¨å“ªä¸€ä¸ªåˆå§‹åŒ–å™¨å‘¢)</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">class</span> Person &#123;</span><br><span class="line">    var <span class="built_in">name</span>:String</span><br><span class="line">    init!(<span class="built_in">name</span>:String) &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">name</span>.isEmpty &#123;</span><br><span class="line"><span class="built_in">            return</span> nil</span><br><span class="line">        &#125;</span><br><span class="line">        self.<span class="built_in">name</span> = <span class="built_in">name</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥ç”¨init!å®šä¹‰éšå¼è§£åŒ…çš„å¯å¤±è´¥åˆå§‹åŒ–å™¨</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name:<span class="type">String</span></span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>?(name:<span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="type">Person</span>(name: <span class="string">""</span>)</span><br><span class="line"><span class="built_in">print</span>(person)<span class="comment">//Optional(sudy.Person)</span></span><br></pre></td></tr></table></figure><p>å¯å¤±è´¥åˆå§‹åŒ–å™¨å¯ä»¥è°ƒç”¨éå¯å¤±è´¥åˆå§‹åŒ–å™¨</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name:<span class="type">String</span></span><br><span class="line">     <span class="keyword">init</span>?(name:<span class="type">String</span>) &#123;</span><br><span class="line">       <span class="keyword">self</span>.name = <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(name:<span class="string">"lucy"</span>)!</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="type">Person</span>(name: <span class="string">""</span>)</span><br><span class="line"><span class="built_in">print</span>(person)<span class="comment">//Optional(sudy.Person)</span></span><br></pre></td></tr></table></figure><p>éå¯å¤±è´¥åˆå§‹åŒ–å™¨è°ƒç”¨å¯å¤±è´¥åˆå§‹åŒ–å™¨éœ€è¦è¿›è¡Œè§£åŒ…</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age:<span class="type">Int</span></span><br><span class="line">     <span class="keyword">init</span>?(age:<span class="type">Int</span>) &#123;</span><br><span class="line">       <span class="keyword">self</span>.age = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(age:<span class="type">Int</span>(<span class="string">"1234"</span>)!)!  <span class="comment">//è¿™é‡Œå¦‚æœå¤±è´¥,ä¸‹é¢çš„ä»£ç å°±ä¸ä¼šæ‰§è¡Œäº†</span></span><br><span class="line">        <span class="keyword">self</span>.age = <span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="type">Person</span>()</span><br><span class="line"><span class="built_in">print</span>(person.age)<span class="comment">//Optional(0)</span></span><br></pre></td></tr></table></figure><p>å¦‚æœåˆå§‹åŒ–å™¨è°ƒç”¨ä¸€ä¸ªå¯å¤±è´¥åˆå§‹åŒ–å™¨å¯¼è‡´åˆå§‹åŒ–å¤±è´¥ï¼Œé‚£ä¹ˆæ•´ä¸ªåˆå§‹åŒ–è¿‡ç¨‹éƒ½å¤±è´¥ï¼Œå¹¶ä¸”ä¹‹åçš„ä»£ç éƒ½åœæ­¢æ‰§è¡Œ </p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age:<span class="built_in">Int</span></span><br><span class="line">     <span class="keyword">init</span>?(age:<span class="built_in">Int</span>) &#123;</span><br><span class="line">       self.age = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        self.age = <span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="type">Person &#123;</span></span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(age: <span class="built_in">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = Person()</span><br><span class="line">print(person.age)<span class="comment">//Optional(0)</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ç”¨ä¸€ä¸ªéå¯å¤±è´¥åˆå§‹åŒ–å™¨é‡å†™ä¸€ä¸ªå¯å¤±è´¥åˆå§‹åŒ–å™¨ï¼Œä½†åè¿‡æ¥æ˜¯ä¸è¡Œçš„</p><h5 id="å-ååˆå§‹åŒ–å™¨"><a href="#å-ååˆå§‹åŒ–å™¨" class="headerlink" title="å ååˆå§‹åŒ–å™¨"></a>å ååˆå§‹åŒ–å™¨</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age:<span class="type">Int</span></span><br><span class="line">     <span class="keyword">init</span>?(age:<span class="type">Int</span>) &#123;</span><br><span class="line">       <span class="keyword">self</span>.age = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.age = <span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">deinit</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"person over"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(age: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">deinit</span> &#123;</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">"student over"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> person = <span class="type">Student</span>(age: <span class="number">10</span>)</span><br><span class="line">    <span class="built_in">print</span>(person.age)</span><br><span class="line">&#125;</span><br><span class="line">test()</span><br><span class="line"><span class="comment">//20</span></span><br><span class="line"><span class="comment">//student over</span></span><br><span class="line"><span class="comment">//person over</span></span><br></pre></td></tr></table></figure><p>deinitå«åšååˆå§‹åŒ–å™¨ï¼Œç±»ä¼¼äºC++çš„ææ„å‡½æ•°ã€OCä¸­çš„deallocæ–¹æ³• på½“ç±»çš„å®ä¾‹å¯¹è±¡è¢«é‡Šæ”¾å†…å­˜æ—¶ï¼Œå°±ä¼šè°ƒç”¨å®ä¾‹å¯¹è±¡çš„deinitæ–¹æ³•</p><p>deinitä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œä¸èƒ½å†™å°æ‹¬å·ï¼Œä¸èƒ½è‡ªè¡Œè°ƒç”¨ n çˆ¶ç±»çš„deinitèƒ½è¢«å­ç±»ç»§æ‰¿</p><p>å­ç±»çš„deinitå®ç°æ‰§è¡Œå®Œæ¯•åä¼šè°ƒç”¨çˆ¶ç±»çš„deinit</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-åˆå§‹åŒ–å™¨ç§ç±»-åªé’ˆå¯¹ä¸€ç±»&quot;&gt;&lt;a href=&quot;#ä¸€-åˆå§‹åŒ–å™¨ç§ç±»-åªé’ˆå¯¹ä¸€ç±»&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ åˆå§‹åŒ–å™¨ç§ç±»(åªé’ˆå¯¹ä¸€ç±»)&quot;&gt;&lt;/a&gt;ä¸€ åˆå§‹åŒ–å™¨ç§ç±»(åªé’ˆå¯¹ä¸€ç±»)&lt;/h5&gt;&lt;figure class=&quot;highlight maxima&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;struct Ract &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;width&lt;/span&gt;:Int = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;height&lt;/span&gt;:Int = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    init(&lt;span class=&quot;built_in&quot;&gt;width&lt;/span&gt;:Int) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        self.&lt;span class=&quot;built_in&quot;&gt;width&lt;/span&gt; = &lt;span class=&quot;built_in&quot;&gt;width&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;class Size &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;width&lt;/span&gt;:Int = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;height&lt;/span&gt;:Int = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    init(&lt;span class=&quot;built_in&quot;&gt;width&lt;/span&gt;:Int) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        self.&lt;span class=&quot;built_in&quot;&gt;width&lt;/span&gt; = &lt;span class=&quot;built_in&quot;&gt;width&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; s = Size(&lt;span class=&quot;built_in&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç±»,ç»“æ„ä½“,æšä¸¾éƒ½å¯ä»¥å®šä¹‰åˆå§‹åŒ–å™¨&lt;/p&gt;
&lt;figure class=&quot;highlight kotlin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Size&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; width:&lt;span class=&quot;built_in&quot;&gt;Int&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; height:&lt;span class=&quot;built_in&quot;&gt;Int&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; s = Size()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æ²¡æœ‰æŒ‡å®šåˆå§‹åŒ–å™¨,ç¼–è¯‘å™¨ä¼šé»˜è®¤ç»™æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªåˆå§‹åŒ–å™¨,å¦‚æœæˆ‘ä»¬æŒ‡å®šäº†åˆå§‹åŒ–å™¨,ç¼–è¯‘å™¨ä¸ä¼šå†ç»™æˆ‘ä»¬ç”Ÿæˆé»˜è®¤çš„,æŒ‡å®šåˆå§‹åŒ–å™¨,è¦ä¿è¯ç±»çš„æˆå‘˜å˜é‡éƒ½èƒ½å¤Ÿåˆå§‹åŒ–&lt;br&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swift å¤šæ€</title>
    <link href="http://example.com/2019/10/15/swift-%E5%A4%9A%E6%80%81/"/>
    <id>http://example.com/2019/10/15/swift-å¤šæ€/</id>
    <published>2019-10-15T02:39:04.000Z</published>
    <updated>2020-12-12T04:47:36.388Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-å¤šæ€æ¦‚å¿µ"><a href="#ä¸€-å¤šæ€æ¦‚å¿µ" class="headerlink" title="ä¸€ å¤šæ€æ¦‚å¿µ"></a>ä¸€ å¤šæ€æ¦‚å¿µ</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">speak</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Animal speak"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Animal eat"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sleep</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Animal sleep"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:<span class="title">Animal</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">speak</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Dog speak"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Dog eat"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Dog run"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> anim = <span class="type">Animal</span>()</span><br><span class="line">anim.speak()</span><br><span class="line">anim.eat()</span><br><span class="line">anim.sleep()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"----------"</span>)</span><br><span class="line">anim = <span class="type">Dog</span>()</span><br><span class="line">anim.speak()</span><br><span class="line">anim.eat()</span><br><span class="line">anim.sleep()</span><br><span class="line"><span class="comment">//Animal speak</span></span><br><span class="line"><span class="comment">//Animal eat</span></span><br><span class="line"><span class="comment">//Animal sleep</span></span><br><span class="line"><span class="comment">//----------</span></span><br><span class="line"><span class="comment">//Dog speak</span></span><br><span class="line"><span class="comment">//Dog eat</span></span><br><span class="line"><span class="comment">//Animal sleep</span></span><br></pre></td></tr></table></figure><p><strong>å¤šæ€</strong>: çˆ¶ç±»å‹çš„å¼•ç”¨æŒ‡å‘å­ç±»å‹çš„å¯¹è±¡<br><a id="more"></a></p><h5 id="äºŒ-å¤šæ€å®ç°åŸç†"><a href="#äºŒ-å¤šæ€å®ç°åŸç†" class="headerlink" title="äºŒ å¤šæ€å®ç°åŸç†"></a>äºŒ å¤šæ€å®ç°åŸç†</h5><p>æˆ‘ä»¬ä½¿ç”¨ä¸Šé¢çš„ä»£ç ,åœ¨anim.speak()æ‰“ä¸Šæ–­ç‚¹,æˆ‘ä»¬æŸ¥çœ‹æ±‡ç¼–å¦‚ä¸‹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">    <span class="number">0x100001a9a</span> <span class="string">&lt;+714&gt;:</span>  <span class="string">movq</span>   <span class="number">0x69ef</span><span class="string">(%rip),</span> <span class="string">%rax</span>        <span class="string">;</span> <span class="attr">sudy.anim :</span> <span class="string">sudy.Animal</span>  <span class="string">animå˜é‡é‡Œçš„å†…å®¹ç»™%rax</span></span><br><span class="line">    <span class="number">0x100001aa1</span> <span class="string">&lt;+721&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rcx</span></span><br><span class="line">    <span class="number">0x100001aa4</span> <span class="string">&lt;+724&gt;:</span>  <span class="string">movq</span>   <span class="string">%rcx,</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100001aa7</span> <span class="string">&lt;+727&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x148</span><span class="string">(%rbp)</span>  <span class="string">raxå†…å®¹ç»™</span> <span class="number">-0x148</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100001aae</span> <span class="string">&lt;+734&gt;:</span>  <span class="string">callq</span>  <span class="number">0x100006368</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_retain</span></span><br><span class="line">    <span class="number">0x100001ab3</span> <span class="string">&lt;+739&gt;:</span>  <span class="string">leaq</span>   <span class="number">-0x80</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100001ab7</span> <span class="string">&lt;+743&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x150</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100001abe</span> <span class="string">&lt;+750&gt;:</span>  <span class="string">callq</span>  <span class="number">0x10000631a</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_endAccess</span></span><br><span class="line">    <span class="number">0x100001ac3</span> <span class="string">&lt;+755&gt;:</span>  <span class="string">movq</span>   <span class="number">-0x148</span><span class="string">(%rbp),</span> <span class="string">%rax</span>  <span class="number">-0x148</span><span class="string">(%rbp)å†…å®¹ç»™rax</span></span><br><span class="line">    <span class="number">0x100001aca</span> <span class="string">&lt;+762&gt;:</span>  <span class="string">movq</span>   <span class="string">(%rax),</span> <span class="string">%rcx.</span>   <span class="string">raxå†…å®¹ç»™rcx</span></span><br><span class="line">    <span class="number">0x100001acd</span> <span class="string">&lt;+765&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%r13</span></span><br><span class="line">    <span class="number">0x100001ad0</span> <span class="string">&lt;+768&gt;:</span>  <span class="string">callq</span>  <span class="string">*0x50(%rcx).</span> <span class="string">è°ƒç”¨0x50+rcxçš„æ–¹æ³•åœ°å€</span> <span class="string">,å°±æ˜¯speakæ–¹æ³•</span></span><br><span class="line"><span class="string">-&gt;</span>  <span class="number">0x100001ad3</span> <span class="string">&lt;+771&gt;:</span>  <span class="string">movq</span>   <span class="number">-0x148</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">sudy`Dog.speak():</span></span><br><span class="line"><span class="string">-&gt;</span>  <span class="number">0x100001fb0</span> <span class="string">&lt;+0&gt;:</span>   <span class="string">pushq</span>  <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100001fb1</span> <span class="string">&lt;+1&gt;:</span>   <span class="string">movq</span>   <span class="string">%rsp,</span> <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100001fb4</span> <span class="string">&lt;+4&gt;:</span>   <span class="string">pushq</span>  <span class="string">%r13</span></span><br><span class="line">    <span class="number">0x100001fb6</span> <span class="string">&lt;+6&gt;:</span>   <span class="string">subq</span>   <span class="string">$0x38,</span> <span class="string">%rsp</span></span><br><span class="line">    <span class="number">0x100001fba</span> <span class="string">&lt;+10&gt;:</span>  <span class="string">movq</span>   <span class="string">$0x0,</span> <span class="number">-0x10</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100001fc2</span> <span class="string">&lt;+18&gt;:</span>  <span class="string">movq</span>   <span class="string">%r13,</span> <span class="number">-0x10</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100001fc6</span> <span class="string">&lt;+22&gt;:</span>  <span class="string">movq</span>   <span class="number">0x514b</span><span class="string">(%rip),</span> <span class="string">%r13</span>        <span class="string">;</span> <span class="string">(void</span> <span class="string">*)0x00007fff8451ea08:</span> <span class="string">type</span> <span class="string">metadata</span> <span class="string">for</span> <span class="string">Any</span></span><br><span class="line">    <span class="number">0x100001fcd</span> <span class="string">&lt;+29&gt;:</span>  <span class="string">addq</span>   <span class="string">$0x8,</span> <span class="string">%r13</span></span><br><span class="line">    <span class="number">0x100001fd1</span> <span class="string">&lt;+33&gt;:</span>  <span class="string">movl</span>   <span class="string">$0x1,</span> <span class="string">%edi</span></span><br><span class="line">    <span class="number">0x100001fd6</span> <span class="string">&lt;+38&gt;:</span>  <span class="string">movq</span>   <span class="string">%r13,</span> <span class="string">%rsi</span></span><br><span class="line">    <span class="number">0x100001fd9</span> <span class="string">&lt;+41&gt;:</span>  <span class="string">callq</span>  <span class="number">0x1000062ba</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">Swift._allocateUninitializedArray&lt;A&gt;(Builtin.Word)</span> <span class="string">-&gt;</span> <span class="string">(Swift.Array&lt;A&gt;,</span> <span class="string">Builtin.RawPointer)</span></span><br><span class="line">    <span class="number">0x100001fde</span> <span class="string">&lt;+46&gt;:</span>  <span class="string">leaq</span>   <span class="number">0x45fb</span><span class="string">(%rip),</span> <span class="string">%rdi</span>        <span class="string">;</span> <span class="string">"Dog speak"</span></span><br><span class="line">    <span class="number">0x100001fe5</span> <span class="string">&lt;+53&gt;:</span>  <span class="string">movl</span>   <span class="string">$0x9,</span> <span class="string">%esi</span></span><br><span class="line">    <span class="number">0x100001fea</span> <span class="string">&lt;+58&gt;:</span>  <span class="string">movl</span>   <span class="string">$0x1,</span> <span class="string">%ecx</span></span><br><span class="line">    <span class="number">0x100001fef</span> <span class="string">&lt;+63&gt;:</span>  <span class="string">movq</span>   <span class="string">%rdx,</span> <span class="number">-0x18</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100001ff3</span> <span class="string">&lt;+67&gt;:</span>  <span class="string">movl</span>   <span class="string">%ecx,</span> <span class="string">%edx</span></span><br><span class="line">    <span class="number">0x100001ff5</span> <span class="string">&lt;+69&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x20</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100001ff9</span> <span class="string">&lt;+73&gt;:</span>  <span class="string">callq</span>  <span class="number">0x100006242</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">Swift.String.init(_builtinStringLiteral:</span> <span class="string">Builtin.RawPointer,</span> <span class="attr">utf8CodeUnitCount:</span> <span class="string">Builtin.Word,</span> <span class="attr">isASCII:</span> <span class="string">Builtin.Int1)</span> <span class="string">-&gt;</span> <span class="string">Swift.String</span></span><br><span class="line">    <span class="number">0x100001ffe</span> <span class="string">&lt;+78&gt;:</span>  <span class="string">movq</span>   <span class="number">0x5043</span><span class="string">(%rip),</span> <span class="string">%rsi</span>        <span class="string">;</span> <span class="string">(void</span> <span class="string">*)0x00007fff84516cc8:</span> <span class="string">type</span> <span class="string">metadata</span> <span class="string">for</span> <span class="string">Swift.String</span></span><br><span class="line">    <span class="number">0x100002005</span> <span class="string">&lt;+85&gt;:</span>  <span class="string">movq</span>   <span class="number">-0x18</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100002009</span> <span class="string">&lt;+89&gt;:</span>  <span class="string">movq</span>   <span class="string">%rsi,</span> <span class="number">0x18</span><span class="string">(%rdi)</span></span><br><span class="line">    <span class="number">0x10000200d</span> <span class="string">&lt;+93&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">(%rdi)</span></span><br><span class="line">    <span class="number">0x100002010</span> <span class="string">&lt;+96&gt;:</span>  <span class="string">movq</span>   <span class="string">%rdx,</span> <span class="number">0x8</span><span class="string">(%rdi)</span></span><br><span class="line">    <span class="number">0x100002014</span> <span class="string">&lt;+100&gt;:</span> <span class="string">callq</span>  <span class="number">0x100001cd0</span>               <span class="string">;</span> <span class="string">default</span> <span class="string">argument</span> <span class="number">1</span> <span class="string">of</span> <span class="string">Swift.print(_:</span> <span class="string">Any...,</span> <span class="attr">separator:</span> <span class="string">Swift.String,</span> <span class="attr">terminator:</span> <span class="string">Swift.String)</span> <span class="string">-&gt;</span> <span class="string">()</span> <span class="string">at</span> <span class="string">&lt;compiler-generated&gt;</span></span><br><span class="line">    <span class="number">0x100002019</span> <span class="string">&lt;+105&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x28</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x10000201d</span> <span class="string">&lt;+109&gt;:</span> <span class="string">movq</span>   <span class="string">%rdx,</span> <span class="number">-0x30</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100002021</span> <span class="string">&lt;+113&gt;:</span> <span class="string">callq</span>  <span class="number">0x100001cf0</span>               <span class="string">;</span> <span class="string">default</span> <span class="string">argument</span> <span class="number">2</span> <span class="string">of</span> <span class="string">Swift.print(_:</span> <span class="string">Any...,</span> <span class="attr">separator:</span> <span class="string">Swift.String,</span> <span class="attr">terminator:</span> <span class="string">Swift.String)</span> <span class="string">-&gt;</span> <span class="string">()</span> <span class="string">at</span> <span class="string">&lt;compiler-generated&gt;</span></span><br><span class="line">    <span class="number">0x100002026</span> <span class="string">&lt;+118&gt;:</span> <span class="string">movq</span>   <span class="number">-0x20</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x10000202a</span> <span class="string">&lt;+122&gt;:</span> <span class="string">movq</span>   <span class="number">-0x28</span><span class="string">(%rbp),</span> <span class="string">%rsi</span></span><br><span class="line">    <span class="number">0x10000202e</span> <span class="string">&lt;+126&gt;:</span> <span class="string">movq</span>   <span class="number">-0x30</span><span class="string">(%rbp),</span> <span class="string">%r13</span></span><br><span class="line">    <span class="number">0x100002032</span> <span class="string">&lt;+130&gt;:</span> <span class="string">movq</span>   <span class="string">%rdx,</span> <span class="number">-0x38</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100002036</span> <span class="string">&lt;+134&gt;:</span> <span class="string">movq</span>   <span class="string">%r13,</span> <span class="string">%rdx</span></span><br><span class="line">    <span class="number">0x100002039</span> <span class="string">&lt;+137&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rcx</span></span><br><span class="line">    <span class="number">0x10000203c</span> <span class="string">&lt;+140&gt;:</span> <span class="string">movq</span>   <span class="number">-0x38</span><span class="string">(%rbp),</span> <span class="string">%r8</span></span><br><span class="line">    <span class="number">0x100002040</span> <span class="string">&lt;+144&gt;:</span> <span class="string">callq</span>  <span class="number">0x1000062c6</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">Swift.print(_:</span> <span class="string">Any...,</span> <span class="attr">separator:</span> <span class="string">Swift.String,</span> <span class="attr">terminator:</span> <span class="string">Swift.String)</span> <span class="string">-&gt;</span> <span class="string">()</span></span><br><span class="line">    <span class="number">0x100002045</span> <span class="string">&lt;+149&gt;:</span> <span class="string">movq</span>   <span class="number">-0x38</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100002049</span> <span class="string">&lt;+153&gt;:</span> <span class="string">callq</span>  <span class="number">0x1000062fc</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_bridgeObjectRelease</span></span><br><span class="line">    <span class="number">0x10000204e</span> <span class="string">&lt;+158&gt;:</span> <span class="string">movq</span>   <span class="number">-0x30</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100002052</span> <span class="string">&lt;+162&gt;:</span> <span class="string">callq</span>  <span class="number">0x1000062fc</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_bridgeObjectRelease</span></span><br><span class="line">    <span class="number">0x100002057</span> <span class="string">&lt;+167&gt;:</span> <span class="string">movq</span>   <span class="number">-0x20</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x10000205b</span> <span class="string">&lt;+171&gt;:</span> <span class="string">callq</span>  <span class="number">0x1000062fc</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_bridgeObjectRelease</span></span><br><span class="line">    <span class="number">0x100002060</span> <span class="string">&lt;+176&gt;:</span> <span class="string">addq</span>   <span class="string">$0x38,</span> <span class="string">%rsp</span></span><br><span class="line">    <span class="number">0x100002064</span> <span class="string">&lt;+180&gt;:</span> <span class="string">popq</span>   <span class="string">%r13</span></span><br><span class="line">    <span class="number">0x100002066</span> <span class="string">&lt;+182&gt;:</span> <span class="string">popq</span>   <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100002067</span> <span class="string">&lt;+183&gt;:</span> <span class="string">retq</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬æ€»ç»“ä¸‹è°ƒç”¨æµç¨‹<br><img src="../assets/blogImg/duotai01.png" alt></p><ol><li>å–å‡ºanimal å‰8ä¸ªå­—èŠ‚,ä¹Ÿå°±æ˜¯Dogçš„ç±»å‹ä¿¡æ¯</li><li>å–å‡ºç±»å‹ä¿¡æ¯å0x50çš„åœ°å€è¿›è¡Œè°ƒç”¨</li><li>è·Ÿè¿›å»æˆ‘ä»¬å‘ç°è¿™ä¸ªå‡½æ•°å°±æ˜¯speak()å‡½æ•°</li></ol><h5 id="ä¸‰-å¯¹è±¡çš„æ–¹æ³•æ”¾åœ¨å“ª"><a href="#ä¸‰-å¯¹è±¡çš„æ–¹æ³•æ”¾åœ¨å“ª" class="headerlink" title="ä¸‰ å¯¹è±¡çš„æ–¹æ³•æ”¾åœ¨å“ª"></a>ä¸‰ å¯¹è±¡çš„æ–¹æ³•æ”¾åœ¨å“ª</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">speak</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Animal speak"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Animal eat"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sleep</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Animal sleep"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:<span class="title">Animal</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">speak</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Dog speak"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Dog eat"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Dog run"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> anim = <span class="type">Dog</span>()</span><br><span class="line">anim.speak()</span><br></pre></td></tr></table></figure><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0x100001a89</span> &lt;+<span class="number">41</span>&gt;:  leaq   <span class="number">0x6a08</span>(<span class="symbol">%rip</span>), <span class="symbol">%rcx</span>        <span class="comment">; sudy.anim : sudy.Dog</span></span><br><span class="line"><span class="comment">0x100001a90 &lt;+48&gt;:  xorl   %r8d, %r8d</span></span><br><span class="line"><span class="comment">0x100001a93 &lt;+51&gt;:  movl   %r8d, %edx</span></span><br><span class="line"><span class="comment">0x100001a96 &lt;+54&gt;:  movq   %rax, 0x69fb(%rip)        ; sudy.anim : sudy.Dog</span></span><br><span class="line"><span class="comment">0x100001a9d &lt;+61&gt;:  movq   %rcx, %rdi</span></span><br><span class="line"><span class="comment">0x100001aa0 &lt;+64&gt;:  leaq   -0x20(%rbp), %rsi</span></span><br><span class="line"><span class="comment">0x100001aa4 &lt;+68&gt;:  movl   $0x20, %eax</span></span><br><span class="line"><span class="comment">0x100001aa9 &lt;+73&gt;:  movq   %rdx, -0x40(%rbp)</span></span><br><span class="line"><span class="comment">0x100001aad &lt;+77&gt;:  movq   %rax, %rdx</span></span><br><span class="line"><span class="comment">0x100001ab0 &lt;+80&gt;:  movq   -0x40(%rbp), %rcx</span></span><br><span class="line"><span class="comment">0x100001ab4 &lt;+84&gt;:  callq  0x1000062f6               ; symbol stub for: swift_beginAccess</span></span><br><span class="line"><span class="comment">0x100001ab9 &lt;+89&gt;:  movq   0x69d8(%rip), %rax        ; sudy.anim : sudy.Dog</span></span><br><span class="line"><span class="comment">0x100001ac0 &lt;+96&gt;:  movq   %rax, %rcx</span></span><br><span class="line"><span class="comment">0x100001ac3 &lt;+99&gt;:  movq   %rcx, %rdi</span></span><br><span class="line"><span class="comment">0x100001ac6 &lt;+102&gt;: movq   %rax, -0x48(%rbp)</span></span><br><span class="line"><span class="comment">0x100001aca &lt;+106&gt;: callq  0x100006368               ; symbol stub for: swift_retain</span></span><br><span class="line"><span class="comment">0x100001acf &lt;+111&gt;: leaq   -0x20(%rbp), %rdi</span></span><br><span class="line"><span class="comment">0x100001ad3 &lt;+115&gt;: movq   %rax, -0x50(%rbp)</span></span><br><span class="line"><span class="comment">0x100001ad7 &lt;+119&gt;: callq  0x10000631a               ; symbol stub for: swift_endAccess</span></span><br><span class="line"><span class="comment">0x100001adc &lt;+124&gt;: movq   -0x48(%rbp), %rax</span></span><br><span class="line"><span class="comment">0x100001ae0 &lt;+128&gt;: movq   (%rax), %rcx</span></span><br><span class="line"><span class="comment">0x100001ae3 &lt;+131&gt;: movq   %rax, %r13</span></span><br><span class="line"><span class="comment">0x100001ae6 &lt;+134&gt;: callq  *0x50(%rcx)</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">anim:</span> <span class="number">0x100008498</span></span><br><span class="line"><span class="attr">anim-metadata:</span> <span class="number">0x10058c0a0</span></span><br><span class="line"><span class="string">speak():0x100001ea0</span></span><br></pre></td></tr></table></figure><p>animæ˜¯å…¨å±€å˜é‡,speak()æ–¹æ³•åœ°å€è·Ÿå®ƒæœ€æ¥è¿‘,è€Œä¸”æ¯”animåœ°å€å°äº›.æ ¹æ®iOSå†…å­˜ç»“æ„æˆ‘ä»¬å¯ä»¥æ¨æ–­,speakè¦ä¹ˆåœ¨å…¨å±€åŒº,è¦ä¹ˆåœ¨ä»£ç æ®µ<br><img src="../assets/blogImg/duotai02.png" alt></p><p>speakå‡½æ•°åœ°å€æ˜¯:0x100001ea0,é‚£æˆ‘ä»¬ç›´æ¥çœ‹ä¸€ä¸‹å®ƒåœ¨Mach-Oæ–‡ä»¶çš„åˆ†å¸ƒåŒºåŸŸ</p><p><img src="../assets/blogImg/duotai03.png" alt><br>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°seakå‡½æ•°æ˜¯åœ¨ä»£ç æ®µ</p><p>animæ˜¯å…¨å±€å˜é‡å®ƒçš„åœ°å€æ˜¯:0x100008498,å®ƒåº”è¯¥åœ¨æ•°æ®æ®µ(_DATA),æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯<br><img src="../assets/blogImg/duotai04.png" alt><br><img src="../assets/blogImg/duotai05.png" alt><br>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒæ˜¯åœ¨DATAæ®µ,å¹¶ä¸”å¤„åœ¨DATAæœ«å°¾</p><p>æœ€å,swiftå¤šæ€å®ç°ç±»ä¼¼äºC++çš„è™šè¡¨,C++ä¸­è™šå‡½æ•°æ˜¯é€šè¿‡ä¸€å¼ è™šå‡½æ•°è¡¨(Virtual Table)æ¥å®ç°çš„ï¼Œåœ¨è¿™ä¸ªè¡¨ä¸­ï¼Œä¸»è¦æ˜¯ä¸€ä¸ªç±»çš„è™šå‡½æ•°è¡¨çš„åœ°å€è¡¨ï¼›è¿™å¼ è¡¨è§£å†³äº†ç»§æ‰¿ã€è¦†ç›–çš„é—®é¢˜ã€‚åœ¨æœ‰è™šå‡½æ•°çš„ç±»çš„å®ä¾‹ä¸­è¿™ä¸ªè¡¨è¢«åˆ†é…åœ¨äº†è¿™ä¸ªå®ä¾‹çš„å†…å­˜ä¸­ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬ç”¨çˆ¶ç±»çš„æŒ‡é’ˆæ¥æ“ä½œä¸€ä¸ªå­ç±»çš„æ—¶å€™ï¼Œè¿™å¼ è™šå‡½æ•°è¡¨å°±åƒä¸€å¼ åœ°å›¾ä¸€æ ·æŒ‡æ˜äº†å®é™…æ‰€åº”è¯¥è°ƒç”¨çš„å‡½æ•°ã€‚</p><p>C++ç¼–è¯‘å™¨æ˜¯ä¿è¯è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆå­˜åœ¨äºå¯¹è±¡å®ä¾‹ä¸­æœ€å‰é¢çš„ä½ç½®(æ˜¯ä¸ºäº†ä¿è¯å–åˆ°è™šå‡½æ•°è¡¨çš„æœ€é«˜çš„æ€§èƒ½)ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½é€šè¿‡å·²ç»å®ä¾‹åŒ–çš„å¯¹è±¡çš„åœ°å€å¾—åˆ°è¿™å¼ è™šå‡½æ•°è¡¨ï¼Œå†éå†å…¶ä¸­çš„å‡½æ•°æŒ‡é’ˆï¼Œå¹¶è°ƒç”¨ç›¸åº”çš„å‡½æ•°ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-å¤šæ€æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#ä¸€-å¤šæ€æ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ å¤šæ€æ¦‚å¿µ&quot;&gt;&lt;/a&gt;ä¸€ å¤šæ€æ¦‚å¿µ&lt;/h5&gt;&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Animal&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;speak&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Animal speak&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Animal eat&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Animal sleep&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Dog&lt;/span&gt;:&lt;span class=&quot;title&quot;&gt;Animal&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;speak&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Dog speak&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Dog eat&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Dog run&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; anim = &lt;span class=&quot;type&quot;&gt;Animal&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;anim.speak()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;anim.eat()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;anim.sleep()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;----------&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;anim = &lt;span class=&quot;type&quot;&gt;Dog&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;anim.speak()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;anim.eat()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;anim.sleep()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Animal speak&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Animal eat&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Animal sleep&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//----------&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Dog speak&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Dog eat&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Animal sleep&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;å¤šæ€&lt;/strong&gt;: çˆ¶ç±»å‹çš„å¼•ç”¨æŒ‡å‘å­ç±»å‹çš„å¯¹è±¡&lt;br&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swift ç»§æ‰¿</title>
    <link href="http://example.com/2019/10/06/swift-%E7%BB%A7%E6%89%BF/"/>
    <id>http://example.com/2019/10/06/swift-ç»§æ‰¿/</id>
    <published>2019-10-06T06:56:29.000Z</published>
    <updated>2020-12-09T14:04:56.495Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-ç»§æ‰¿åˆæ¢"><a href="#ä¸€-ç»§æ‰¿åˆæ¢" class="headerlink" title="ä¸€ ç»§æ‰¿åˆæ¢"></a>ä¸€ ç»§æ‰¿åˆæ¢</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:<span class="type">Animal &#123;</span></span></span><br><span class="line">    <span class="keyword">var</span> weight = <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰ç±»åœ¨ç±»åååŠ :çˆ¶ç±» å°±å½¢æˆäº†ç»§æ‰¿å…³ç³».</p><ol><li>å€¼ç±»å‹ä¸æ”¯æŒç»§æ‰¿,åªæœ‰ç±»æ”¯æŒç»§æ‰¿(æšä¸¾,ç»“æ„ä½“éƒ½ä¸æ”¯æŒç»§æ‰¿)</li><li>æ²¡æœ‰çˆ¶ç±»çš„ç±»ç§°åŸºç±»,swiftä¸åƒOCé‚£æ ·ä»»ä½•ç±»æœ€ç»ˆéƒ½è¦ç»§æ‰¿è‡ªæŸä¸ªåŸºç±»</li></ol><a id="more"></a><h5 id="äºŒ-ç»§æ‰¿åç±»å®ä¾‹çš„å†…å­˜ç»“æ„"><a href="#äºŒ-ç»§æ‰¿åç±»å®ä¾‹çš„å†…å­˜ç»“æ„" class="headerlink" title="äºŒ ç»§æ‰¿åç±»å®ä¾‹çš„å†…å­˜ç»“æ„"></a>äºŒ ç»§æ‰¿åç±»å®ä¾‹çš„å†…å­˜ç»“æ„</h5><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">class Animal &#123;</span><br><span class="line">    <span class="selector-tag">var</span> age = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Dog:Animal &#123;</span><br><span class="line">    <span class="selector-tag">var</span> weight = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class ErVa:Dog &#123;</span><br><span class="line">    <span class="selector-tag">var</span> iq = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let <span class="selector-tag">a</span> = Animal()</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.age</span> = <span class="number">10</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Mems.size(ofRef: a)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Mems.memStr(ofRef: a)</span></span>)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 0x0000000100008418</span></span><br><span class="line"><span class="comment"> 0x0000000000000002</span></span><br><span class="line"><span class="comment"> 0x000000000000000a //age</span></span><br><span class="line"><span class="comment"> 0x0000000000000000</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">let d = Dog()</span><br><span class="line">d<span class="selector-class">.age</span> = <span class="number">10</span></span><br><span class="line">d<span class="selector-class">.weight</span> = <span class="number">20</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Mems.size(ofRef: d)</span></span>) <span class="comment">//32</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Mems.memStr(ofRef: d)</span></span>)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 0x00000001000084c8</span></span><br><span class="line"><span class="comment"> 0x0000000000000002</span></span><br><span class="line"><span class="comment"> 0x000000000000000a //age</span></span><br><span class="line"><span class="comment"> 0x0000000000000014 //weight</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">let e = ErVa()</span><br><span class="line">e<span class="selector-class">.age</span> = <span class="number">10</span></span><br><span class="line">e<span class="selector-class">.weight</span> = <span class="number">20</span></span><br><span class="line">e<span class="selector-class">.iq</span> = <span class="number">30</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Mems.size(ofRef: e)</span></span>) <span class="comment">//48</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Mems.memStr(ofRef: e)</span></span>)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 0x0000000100008598</span></span><br><span class="line"><span class="comment"> 0x0000000000000002</span></span><br><span class="line"><span class="comment"> 0x000000000000000a //age</span></span><br><span class="line"><span class="comment"> 0x0000000000000014 //weight</span></span><br><span class="line"><span class="comment"> 0x000000000000001e //iq</span></span><br><span class="line"><span class="comment"> 0x0000000000000000</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p>å­ç±»ç»§æ‰¿çˆ¶ç±»çš„å­˜å‚¨å±æ€§,éƒ½ä¼šåœ¨è‡ªå·±çš„å†…å­˜ä¸­ä¿å­˜ä¸€ä»½</p><h5 id="ä¸‰-é‡å†™å®ä¾‹æ–¹æ³•-ä¸‹æ ‡"><a href="#ä¸‰-é‡å†™å®ä¾‹æ–¹æ³•-ä¸‹æ ‡" class="headerlink" title="ä¸‰ é‡å†™å®ä¾‹æ–¹æ³•,ä¸‹æ ‡"></a>ä¸‰ é‡å†™å®ä¾‹æ–¹æ³•,ä¸‹æ ‡</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>: <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">speak</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.speak()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Cat speak"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">subscript</span>(index: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>[index] + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> anim:<span class="type">Animal</span></span><br><span class="line">anim = <span class="type">Animal</span>()</span><br><span class="line">anim.speak()</span><br><span class="line"><span class="built_in">print</span>(anim[<span class="number">6</span>])</span><br><span class="line"><span class="comment">//Animal speak</span></span><br><span class="line"><span class="comment">//6</span></span><br><span class="line"></span><br><span class="line">anim = <span class="type">Cat</span>()</span><br><span class="line">anim.speak()</span><br><span class="line"><span class="built_in">print</span>(anim[<span class="number">6</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">//Animal speak</span></span><br><span class="line"><span class="comment">//Cat speak</span></span><br><span class="line"><span class="comment">//7</span></span><br></pre></td></tr></table></figure><h5 id="å››-é‡å†™ç±»å‹æ–¹æ³•-ä¸‹æ ‡"><a href="#å››-é‡å†™ç±»å‹æ–¹æ³•-ä¸‹æ ‡" class="headerlink" title="å›› é‡å†™ç±»å‹æ–¹æ³•,ä¸‹æ ‡"></a>å›› é‡å†™ç±»å‹æ–¹æ³•,ä¸‹æ ‡</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">speak</span></span>()  &#123;</span><br><span class="line">        print(<span class="string">"Animal speak"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">subscript</span></span>(index:<span class="built_in">Int</span>) -&gt; <span class="built_in">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> index</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>: <span class="type">Animal &#123;</span></span></span><br><span class="line">    <span class="keyword">override</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">speak</span></span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>.speak()</span><br><span class="line">        print(<span class="string">"Cat speak"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">override</span> static subscript(index: <span class="built_in">Int</span>) -&gt; <span class="built_in">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>[index] + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Animal.speak()</span><br><span class="line">print(Animal[<span class="number">6</span>])</span><br><span class="line"><span class="comment">//Animal speak</span></span><br><span class="line"><span class="comment">//6</span></span><br><span class="line"></span><br><span class="line">Cat.speak()</span><br><span class="line">print(Cat[<span class="number">6</span>])</span><br><span class="line"><span class="comment">//Animal speak</span></span><br><span class="line"><span class="comment">//Cat speak</span></span><br><span class="line"><span class="comment">//7</span></span><br></pre></td></tr></table></figure><p>è¢«classä¿®é¥°çš„ç±»å‹æ–¹æ³•,ä¸‹æ ‡,å…è®¸è¢«å­ç±»é‡å†™</p><p>è¢«staticä¿®é¥°çš„ç±»å‹æ–¹æ³•,ä¸‹æ ‡,ä¸å…è®¸è¢«å­ç±»é‡å†™</p><h5 id="äº”-é‡å†™å±æ€§"><a href="#äº”-é‡å†™å±æ€§" class="headerlink" title="äº” é‡å†™å±æ€§"></a>äº” é‡å†™å±æ€§</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">å­ç±»å¯ä»¥å°†çˆ¶ç±»çš„å±æ€§(å­˜å‚¨å±æ€§,è®¡ç®—å±æ€§)é‡å†™ä¸ºè®¡ç®—å±æ€§</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name:String=<span class="string">""</span></span><br><span class="line">    <span class="keyword">var</span> age:<span class="built_in">Int</span> &#123;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>: <span class="type">Animal &#123;</span></span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> name: String&#123;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"Dog"</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> age: <span class="built_in">Int</span>&#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-----------------</span><br><span class="line">å­ç±»ä¸å¯ä»¥å°†çˆ¶ç±»å±æ€§é‡å†™ä¸ºå­˜å‚¨å±æ€§</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name:String=<span class="string">""</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>: <span class="type">Animal &#123;</span></span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> name: String=<span class="string">""</span> <span class="comment">//âŒ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line">åªèƒ½é‡å†™<span class="keyword">var</span>å±æ€§, ä¸èƒ½é‡å†™letå±æ€§</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    let name:String=<span class="string">""</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>: <span class="type">Animal &#123;</span></span></span><br><span class="line">     <span class="keyword">override</span> <span class="keyword">var</span> name: String&#123; <span class="comment">//âŒ</span></span><br><span class="line">           <span class="keyword">get</span>&#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="string">"Dog"</span></span><br><span class="line">           &#125;</span><br><span class="line">           </span><br><span class="line">           <span class="keyword">set</span> &#123;</span><br><span class="line">               </span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p>å­ç±»å¯ä»¥å°†çˆ¶ç±»çš„å±æ€§(å­˜å‚¨ã€è®¡ç®—)é‡å†™ä¸ºè®¡ç®—å±æ€§</p></li><li><p>å­ç±»ä¸å¯ä»¥å°†çˆ¶ç±»å±æ€§é‡å†™ä¸ºå­˜å‚¨å±æ€§</p></li><li><p>åªèƒ½é‡å†™varå±æ€§ï¼Œä¸èƒ½é‡å†™letå±æ€§</p></li><li><p>é‡å†™æ—¶ï¼Œå±æ€§åã€ç±»å‹è¦ä¸€è‡´</p></li><li><p>å­ç±»é‡å†™åçš„å±æ€§æƒé™ ä¸èƒ½å°äº çˆ¶ç±»å±æ€§çš„æƒé™</p></li></ol><ul><li><p>å¦‚æœçˆ¶ç±»å±æ€§æ˜¯åªè¯»çš„ï¼Œé‚£ä¹ˆå­ç±»é‡å†™åçš„å±æ€§å¯ä»¥æ˜¯åªè¯»çš„ã€ä¹Ÿå¯ä»¥æ˜¯å¯è¯»å†™çš„</p></li><li><p>å¦‚æœçˆ¶ç±»å±æ€§æ˜¯å¯è¯»å†™çš„ï¼Œé‚£ä¹ˆå­ç±»é‡å†™åçš„å±æ€§ä¹Ÿå¿…é¡»æ˜¯å¯è¯»å†™çš„</p></li></ul><h5 id="å…­-é‡å†™ç±»å‹å±æ€§"><a href="#å…­-é‡å†™ç±»å‹å±æ€§" class="headerlink" title="å…­ é‡å†™ç±»å‹å±æ€§"></a>å…­ é‡å†™ç±»å‹å±æ€§</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> radiu:<span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">diameter</span>:<span class="title">Int</span> </span>&#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Circle setDiameter"</span>)</span><br><span class="line">            radiu = newValue / <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Circle getDiameter"</span>)</span><br><span class="line">            <span class="keyword">return</span> radiu * <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubCircle</span>: <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">static</span> <span class="keyword">var</span> diameter: <span class="type">Int</span>&#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"SubCircle setDiameter"</span>)</span><br><span class="line">            <span class="keyword">super</span>.diameter = newValue &gt; <span class="number">0</span> ? newValue : <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Subcircle getDiameter"</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.diameter</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Circle</span>.radiu = <span class="number">6</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">Circle</span>.diameter)</span><br><span class="line"><span class="type">Circle</span>.diameter = <span class="number">20</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">Circle</span>.radiu)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"----------------"</span>)</span><br><span class="line"><span class="type">SubCircle</span>.radiu = <span class="number">6</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">SubCircle</span>.diameter)</span><br><span class="line"><span class="type">SubCircle</span>.diameter = <span class="number">20</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">SubCircle</span>.radiu)</span><br><span class="line"><span class="comment">//Circle getDiameter</span></span><br><span class="line"><span class="comment">//12</span></span><br><span class="line"><span class="comment">//Circle setDiameter</span></span><br><span class="line"><span class="comment">//10</span></span><br><span class="line"><span class="comment">//----------------</span></span><br><span class="line"><span class="comment">//Subcircle getDiameter</span></span><br><span class="line"><span class="comment">//Circle getDiameter</span></span><br><span class="line"><span class="comment">//12</span></span><br><span class="line"><span class="comment">//SubCircle setDiameter</span></span><br><span class="line"><span class="comment">//Circle setDiameter</span></span><br><span class="line"><span class="comment">//10</span></span><br></pre></td></tr></table></figure><p>è¢« class ä¿®é¥°çš„è®¡ç®—å±æ€§,å¯ä»¥è¢«å­ç±»é‡å†™</p><p>è¢«staticä¿®é¥°çš„ç±»å‹å±æ€§(å­˜å‚¨,è®¡ç®—),ä¸å¯ä»¥è¢«å­ç±»é‡å†™</p><h5 id="ä¸ƒ-æ·»åŠ å±æ€§è§‚å¯Ÿå™¨"><a href="#ä¸ƒ-æ·»åŠ å±æ€§è§‚å¯Ÿå™¨" class="headerlink" title="ä¸ƒ æ·»åŠ å±æ€§è§‚å¯Ÿå™¨"></a>ä¸ƒ æ·»åŠ å±æ€§è§‚å¯Ÿå™¨</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> radius: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubCircle</span> : <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> radius:<span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"SubCircle willSetRadius"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"SubCircle didSetRadius"</span>, oldValue,radius)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> circle = <span class="type">SubCircle</span>()</span><br><span class="line">circle.radius = <span class="number">10</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨å­ç±»ä¸­ä¸ºçˆ¶ç±»å±æ€§(é™¤äº†åªè¯»è®¡ç®—å±æ€§,letå±æ€§)å¢åŠ å±æ€§è§‚å¯Ÿå™¨</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> radius: <span class="type">Int</span> = <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Circle willSetRadius"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Circle didSetRadius"</span>, oldValue,radius)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubCircle</span> : <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> radius:<span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"SubCircle willSetRadius"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"SubCircle didSetRadius"</span>, oldValue,radius)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> circle = <span class="type">SubCircle</span>()</span><br><span class="line">circle.radius = <span class="number">10</span></span><br><span class="line"><span class="comment">//SubCircle willSetRadius 10</span></span><br><span class="line"><span class="comment">//Circle willSetRadius 10</span></span><br><span class="line"><span class="comment">//Circle didSetRadius 1 10</span></span><br><span class="line"><span class="comment">//SubCircle didSetRadius 1 10</span></span><br><span class="line"><span class="comment">//Program ended with exit code: 0</span></span><br></pre></td></tr></table></figure><p>çˆ¶ç±»å­ç±»éƒ½æœ‰å±æ€§è§‚å¯Ÿå™¨çš„æƒ…å†µ, å…ˆè°ƒç”¨å­ç±»willset ç„¶åè°ƒç”¨çˆ¶ç±»willset æ¥ç€è°ƒç”¨çˆ¶ç±»didset æœ€åè°ƒç”¨å­ç±»didset</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> radius: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Circle willSetRadius"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Circle getRadius"</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">20</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubCircle</span> : <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> radius:<span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"SubCircle willSetRadius"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"SubCircle didSetRadius"</span>, oldValue,radius)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> circle = <span class="type">SubCircle</span>()</span><br><span class="line">circle.radius = <span class="number">10</span></span><br><span class="line"><span class="comment">//Circle getRadius</span></span><br><span class="line"><span class="comment">//SubCircle willSetRadius 10</span></span><br><span class="line"><span class="comment">//Circle willSetRadius 10</span></span><br><span class="line"><span class="comment">//Circle getRadius</span></span><br><span class="line"><span class="comment">//SubCircle didSetRadius 20 20</span></span><br></pre></td></tr></table></figure><p>Circle getRadius æ˜¯ä¸ºäº†è·å–oldValue willsetå‰è¦å…ˆè·å–å®ƒåŸæ¥çš„å€¼</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">radius</span>: <span class="title">Int</span> </span>&#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Circle willSetRadius"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Circle getRadius"</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">20</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubCircle</span> : <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">static</span>  <span class="keyword">var</span> radius:<span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"SubCircle willSetRadius"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"SubCircle didSetRadius"</span>, oldValue,radius)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">SubCircle</span>.radius = <span class="number">10</span></span><br><span class="line"><span class="comment">//Circle getRadius</span></span><br><span class="line"><span class="comment">//SubCircle willSetRadius 10</span></span><br><span class="line"><span class="comment">//Circle willSetRadius 10</span></span><br><span class="line"><span class="comment">//Circle getRadius</span></span><br><span class="line"><span class="comment">//SubCircle didSetRadius 20 20</span></span><br></pre></td></tr></table></figure><h5 id="å…«-final"><a href="#å…«-final" class="headerlink" title="å…« final"></a>å…« final</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">var</span> radius: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Circle willSetRadius"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Circle getRadius"</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">20</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubCircle</span> : <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> radius:<span class="type">Int</span> &#123; <span class="comment">//âŒ</span></span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"SubCircle willSetRadius"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"SubCircle didSetRadius"</span>, oldValue,radius)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¢«finalä¿®é¥°çš„æ–¹æ³•,ä¸‹æ ‡,å±æ€§,ç¦æ­¢è¢«é‡å†™<br>è¢«finalä¿®é¥°çš„ç±»,ç¦æ­¢è¢«ç»§æ‰¿</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-ç»§æ‰¿åˆæ¢&quot;&gt;&lt;a href=&quot;#ä¸€-ç»§æ‰¿åˆæ¢&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ ç»§æ‰¿åˆæ¢&quot;&gt;&lt;/a&gt;ä¸€ ç»§æ‰¿åˆæ¢&lt;/h5&gt;&lt;figure class=&quot;highlight kotlin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Animal&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; age = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Dog&lt;/span&gt;:&lt;span class=&quot;type&quot;&gt;Animal &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; weight = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å®šä¹‰ç±»åœ¨ç±»åååŠ :çˆ¶ç±» å°±å½¢æˆäº†ç»§æ‰¿å…³ç³».&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å€¼ç±»å‹ä¸æ”¯æŒç»§æ‰¿,åªæœ‰ç±»æ”¯æŒç»§æ‰¿(æšä¸¾,ç»“æ„ä½“éƒ½ä¸æ”¯æŒç»§æ‰¿)&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰çˆ¶ç±»çš„ç±»ç§°åŸºç±»,swiftä¸åƒOCé‚£æ ·ä»»ä½•ç±»æœ€ç»ˆéƒ½è¦ç»§æ‰¿è‡ªæŸä¸ªåŸºç±»&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swift ä¸‹æ ‡</title>
    <link href="http://example.com/2019/10/01/swift-%E4%B8%8B%E6%A0%87/"/>
    <id>http://example.com/2019/10/01/swift-ä¸‹æ ‡/</id>
    <published>2019-10-01T03:44:11.000Z</published>
    <updated>2020-12-09T14:10:40.587Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-ä¸‹æ ‡çš„å®šä¹‰"><a href="#ä¸€-ä¸‹æ ‡çš„å®šä¹‰" class="headerlink" title="ä¸€ ä¸‹æ ‡çš„å®šä¹‰"></a>ä¸€ ä¸‹æ ‡çš„å®šä¹‰</h5><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x=<span class="number">0.0</span>, y=<span class="number">0.0</span></span><br><span class="line">    subscript(index:<span class="type">Int</span>) -&gt;Double &#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> index % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">               x = <span class="keyword">new</span><span class="type">Value</span></span><br><span class="line"><span class="type"></span>            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               y = <span class="keyword">new</span><span class="type">Value</span></span><br><span class="line"><span class="type"></span>            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">           <span class="keyword">if</span> index % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> x</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> y</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = Point()</span><br><span class="line">p[<span class="number">0</span>] = <span class="number">22.2</span></span><br><span class="line">p[<span class="number">1</span>] = <span class="number">33.3</span></span><br><span class="line">print(p.x,p[<span class="number">0</span>]) <span class="comment">//22.2 22.2</span></span><br><span class="line">print(p.y,p[<span class="number">1</span>]) <span class="comment">//33.3 33.3</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨subscriptå¯ä»¥ç»™ä»»æ„ç±»å‹,æšä¸¾,ç»“æ„ä½“,ç±»å¢åŠ ä¸‹æ ‡åŠŸèƒ½,ä¹Ÿå¯å«åšä¸‹æ ‡è„šæœ¬</p><p>subscript ä¸­å®šä¹‰çš„è¿”å›å€¼ç±»å‹å†³å®šäº†:</p><ul><li>getæ–¹æ³•çš„è¿”å›å€¼ç±»å‹</li><li>setæ–¹æ³•ä¸­newValueçš„ç±»å‹<a id="more"></a></li></ul><h5 id="äºŒ-ä¸‹æ ‡çš„æœ¬è´¨"><a href="#äºŒ-ä¸‹æ ‡çš„æœ¬è´¨" class="headerlink" title="äºŒ ä¸‹æ ‡çš„æœ¬è´¨"></a>äºŒ ä¸‹æ ‡çš„æœ¬è´¨</h5><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x=<span class="number">0.0</span>, y=<span class="number">0.0</span></span><br><span class="line">    subscript(index:<span class="type">Int</span>) -&gt;Double &#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> index % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">               x = <span class="keyword">new</span><span class="type">Value</span></span><br><span class="line"><span class="type"></span>            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               y = <span class="keyword">new</span><span class="type">Value</span></span><br><span class="line"><span class="type"></span>            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">           <span class="keyword">if</span> index % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> x</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> y</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = Point()</span><br><span class="line">p[<span class="number">0</span>] = <span class="number">22.2</span></span><br><span class="line">let x = p[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">     <span class="number">0x100001904</span> &lt;+<span class="number">132</span>&gt;: xorl   <span class="symbol">%r8d</span>, <span class="symbol">%r8d</span></span><br><span class="line">    <span class="number">0x100001907</span> &lt;+<span class="number">135</span>&gt;: movl   <span class="symbol">%r8d</span>, <span class="symbol">%edi</span></span><br><span class="line">    <span class="number">0x10000190a</span> &lt;+<span class="number">138</span>&gt;: movq   <span class="number">-0</span><span class="keyword">x</span><span class="number">60</span>(<span class="symbol">%rbp</span>), <span class="symbol">%rax</span></span><br><span class="line">    <span class="number">0x10000190e</span> &lt;+<span class="number">142</span>&gt;: movq   (<span class="symbol">%rax</span>), <span class="symbol">%rcx</span></span><br><span class="line">    <span class="number">0x100001911</span> &lt;+<span class="number">145</span>&gt;: movq   <span class="symbol">%rax</span>, <span class="symbol">%r13</span></span><br><span class="line">    <span class="number">0x100001914</span> &lt;+<span class="number">148</span>&gt;: callq  *<span class="number">0x90</span>(<span class="symbol">%rcx</span>) //è°ƒç”¨getæ–¹æ³•</span><br><span class="line">    <span class="number">0x10000191a</span> &lt;+<span class="number">154</span>&gt;: movq   <span class="number">-0</span><span class="keyword">x</span><span class="number">60</span>(<span class="symbol">%rbp</span>), <span class="symbol">%rdi</span></span><br><span class="line">    <span class="number">0x10000191e</span> &lt;+<span class="number">158</span>&gt;: callq  <span class="number">0x10000634c</span>               <span class="comment">; symbol stub for: swift_release</span></span><br><span class="line"><span class="comment">    0x100001923 &lt;+163&gt;: leaq   0x6aae(%rip), %rax        ; sudy.p : sudy.Point</span></span><br><span class="line"><span class="comment">    0x10000192a &lt;+170&gt;: xorl   %r8d, %r8d</span></span><br><span class="line"><span class="comment">    0x10000192d &lt;+173&gt;: movl   %r8d, %ecx</span></span><br><span class="line"><span class="comment">    0x100001930 &lt;+176&gt;: movq   %rax, %rdi</span></span><br><span class="line"><span class="comment">    0x100001933 &lt;+179&gt;: leaq   -0x38(%rbp), %rsi</span></span><br><span class="line"><span class="comment">    0x100001937 &lt;+183&gt;: movl   $0x20, %edx</span></span><br><span class="line"><span class="comment">    0x10000193c &lt;+188&gt;: callq  0x1000062e0               ; symbol stub for: swift_beginAccess</span></span><br><span class="line"><span class="comment">    0x100001941 &lt;+193&gt;: movq   0x6a90(%rip), %rax        ; sudy.p : sudy.Point</span></span><br><span class="line"><span class="comment">    0x100001948 &lt;+200&gt;: movq   %rax, %rcx</span></span><br><span class="line"><span class="comment">    0x10000194b &lt;+203&gt;: movq   %rcx, %rdi</span></span><br><span class="line"><span class="comment">    0x10000194e &lt;+206&gt;: movq   %rax, -0x70(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001952 &lt;+210&gt;: callq  0x100006352               ; symbol stub for: swift_retain</span></span><br><span class="line"><span class="comment">    0x100001957 &lt;+215&gt;: leaq   -0x38(%rbp), %rdi</span></span><br><span class="line"><span class="comment">    0x10000195b &lt;+219&gt;: movq   %rax, -0x78(%rbp)</span></span><br><span class="line"><span class="comment">    0x10000195f &lt;+223&gt;: callq  0x100006304               ; symbol stub for: swift_endAccess</span></span><br><span class="line"><span class="comment">    0x100001964 &lt;+228&gt;: xorl   %r8d, %r8d</span></span><br><span class="line"><span class="comment">    0x100001967 &lt;+231&gt;: movl   %r8d, %edi</span></span><br><span class="line"><span class="comment">    0x10000196a &lt;+234&gt;: movq   -0x70(%rbp), %rax</span></span><br><span class="line"><span class="comment">    0x10000196e &lt;+238&gt;: movq   (%rax), %rcx</span></span><br><span class="line"><span class="comment">    0x100001971 &lt;+241&gt;: movq   %rax, %r13</span></span><br><span class="line"><span class="comment">    0x100001974 &lt;+244&gt;: callq  *0xa0(%rcx) //è°ƒç”¨setæ–¹æ³•</span></span><br><span class="line"><span class="comment">    0x10000197a &lt;+250&gt;: movsd  %xmm0, 0x6a5e(%rip)       ; sudy.x : Swift.Double</span></span><br><span class="line"><span class="comment">    0x100001982 &lt;+258&gt;: movq   -0x70(%rbp), %rdi</span></span><br><span class="line"><span class="comment">    0x100001986 &lt;+262&gt;: callq  0x10000634c               ; symbol stub for: swift_release</span></span><br><span class="line"><span class="comment">    0x10000198b &lt;+267&gt;: xorl   %eax, %eax</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">sudy`Point.subscript.setter:</span></span><br><span class="line"><span class="comment">-&gt;  0x100001e10 &lt;+0&gt;:   pushq  %rbp</span></span><br><span class="line"><span class="comment">    0x100001e11 &lt;+1&gt;:   movq   %rsp, %rbp</span></span><br><span class="line"><span class="comment">    0x100001e14 &lt;+4&gt;:   pushq  %r13</span></span><br><span class="line"><span class="comment">    0x100001e16 &lt;+6&gt;:   subq   $0x48, %rsp</span></span><br><span class="line"><span class="comment">    0x100001e1a &lt;+10&gt;:  xorl   %eax, %eax</span></span><br><span class="line"><span class="comment">    0x100001e1c &lt;+12&gt;:  leaq   -0x10(%rbp), %rcx</span></span><br><span class="line"><span class="comment">    0x100001e20 &lt;+16&gt;:  movq   %rdi, -0x28(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001e24 &lt;+20&gt;:  movq   %rcx, %rdi</span></span><br><span class="line"><span class="comment">    0x100001e27 &lt;+23&gt;:  movl   %eax, %esi</span></span><br><span class="line"><span class="comment">    0x100001e29 &lt;+25&gt;:  movl   $0x8, %ecx</span></span><br><span class="line"><span class="comment">    0x100001e2e &lt;+30&gt;:  movq   %rcx, %rdx</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment"> sudy`Point.subscript.getter:</span></span><br><span class="line"><span class="comment">-&gt;  0x100001fc0 &lt;+0&gt;:   pushq  %rbp</span></span><br><span class="line"><span class="comment">    0x100001fc1 &lt;+1&gt;:   movq   %rsp, %rbp</span></span><br><span class="line"><span class="comment">    0x100001fc4 &lt;+4&gt;:   pushq  %r13</span></span><br><span class="line"><span class="comment">    0x100001fc6 &lt;+6&gt;:   subq   $0x38, %rsp</span></span><br><span class="line"><span class="comment">    0x100001fca &lt;+10&gt;:  xorl   %eax, %eax</span></span><br><span class="line"><span class="comment">    0x100001fcc &lt;+12&gt;:  leaq   -0x10(%rbp), %rcx</span></span><br><span class="line"><span class="comment">    0x100001fd0 &lt;+16&gt;:  movq   %rdi, -0x20(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001fd4 &lt;+20&gt;:  movq   %rcx, %rdi</span></span><br><span class="line"><span class="comment">    0x100001fd7 &lt;+23&gt;:  movl   %eax, %esi</span></span><br><span class="line"><span class="comment">    0x100001fd9 &lt;+25&gt;:  movl   $0x8, %ecx</span></span><br><span class="line"><span class="comment">    0x100001fde &lt;+30&gt;:  movq   %rcx, %rdx</span></span><br><span class="line"><span class="comment">    0x100001fe1 &lt;+33&gt;:  movq   %r13, -0x28(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001fe5 &lt;+37&gt;:  movl   %eax, -0x2c(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001fe8 &lt;+40&gt;:  movq   %rcx, -0x38(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001fec &lt;+44&gt;:  callq  0x1000062ce               ; symbol stub for: memset</span></span><br><span class="line"><span class="comment">    0x100001ff1 &lt;+49&gt;:  leaq   -0x18(%rbp), %rcx</span></span><br><span class="line"><span class="comment">    0x100001ff5 &lt;+53&gt;:  movq   %rcx, %rdi</span></span><br><span class="line"><span class="comment">    0x100001ff8 &lt;+56&gt;:  movl   -0x2c(%rbp), %esi</span></span><br><span class="line"><span class="comment">    0x100001ffb &lt;+59&gt;:  movq   -0x38(%rbp), %rdx</span></span><br><span class="line"><span class="comment">    0x100001fff &lt;+63&gt;:  callq  0x1000062ce               ; symbol stub for: memset</span></span><br><span class="line"><span class="comment">    0x100002004 &lt;+68&gt;:  movq   -0x20(%rbp), %rcx</span></span><br><span class="line"><span class="comment">    0x100002008 &lt;+72&gt;:  movq   %rcx, -0x10(%rbp)</span></span><br><span class="line"><span class="comment">    0x10000200c &lt;+76&gt;:  movq   -0x28(%rbp), %rdx</span></span><br></pre></td></tr></table></figure><p>subscriptçš„è¯­æ³•ç±»ä¼¼äºå®ä¾‹æ–¹æ³•,è®¡ç®—å±æ€§,å…¶å®å®ƒçš„æœ¬è´¨å°±æ˜¯æ–¹æ³•,æ—¢ç„¶ç±»ä¼¼äºè®¡ç®—å±æ€§,é‚£å®ƒå°±æœ‰ç±»ä¼¼è®¡ç®—å±æ€§çš„é™åˆ¶,æ¯”å¦‚å®ƒå¯ä»¥æ²¡æœ‰setæ–¹æ³•,ä½†å¿…é¡»è¦æœ‰getæ–¹æ³•</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x=<span class="number">0.0</span>, y=<span class="number">0.0</span></span><br><span class="line">    subscript(index:<span class="built_in">Int</span>) -&gt;<span class="built_in">Double</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">           <span class="keyword">if</span> index % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> x</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> y</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = Point()</span><br><span class="line">let x = p[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><h5 id="ä¸‰-ä¸‹æ ‡è®¾ç½®å‚æ•°æ ‡ç­¾"><a href="#ä¸‰-ä¸‹æ ‡è®¾ç½®å‚æ•°æ ‡ç­¾" class="headerlink" title="ä¸‰ ä¸‹æ ‡è®¾ç½®å‚æ•°æ ‡ç­¾"></a>ä¸‰ ä¸‹æ ‡è®¾ç½®å‚æ•°æ ‡ç­¾</h5><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x=<span class="number">0.0</span>, y=<span class="number">0.0</span></span><br><span class="line">    subscript(index i:<span class="type">Int</span>) -&gt;Double &#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">               x = <span class="keyword">new</span><span class="type">Value</span></span><br><span class="line"><span class="type"></span>            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               y = <span class="keyword">new</span><span class="type">Value</span></span><br><span class="line"><span class="type"></span>            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">           <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> x</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> y</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = Point()</span><br><span class="line">p[index:<span class="type">0</span>] = <span class="number">22.2</span></span><br><span class="line">let x = p[index:<span class="type">0</span>]</span><br></pre></td></tr></table></figure><h5 id="å››-ç±»å‹æ–¹æ³•ä¸‹æ ‡"><a href="#å››-ç±»å‹æ–¹æ³•ä¸‹æ ‡" class="headerlink" title="å›› ç±»å‹æ–¹æ³•ä¸‹æ ‡"></a>å›› ç±»å‹æ–¹æ³•ä¸‹æ ‡</h5><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="built_in">Sum</span> &#123;</span><br><span class="line">    static subscript(v1:<span class="built_in">Int</span>,v2:<span class="built_in">Int</span>) -&gt; <span class="built_in">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> v1 + v2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">Sum</span>[<span class="number">10</span>,<span class="number">20</span>])</span><br></pre></td></tr></table></figure><blockquote><p>åªæœ‰ get , getå¯ä»¥çœç•¥ä¸å†™</p></blockquote><h5 id="äº”-æ¥å—å¤šä¸ªå‚æ•°çš„ä¸‹æ ‡"><a href="#äº”-æ¥å—å¤šä¸ªå‚æ•°çš„ä¸‹æ ‡" class="headerlink" title="äº” æ¥å—å¤šä¸ªå‚æ•°çš„ä¸‹æ ‡"></a>äº” æ¥å—å¤šä¸ªå‚æ•°çš„ä¸‹æ ‡</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Grid</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">data</span> = [</span><br><span class="line">     [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],</span><br><span class="line">     [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],</span><br><span class="line">     [<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line">    ]</span><br><span class="line">    </span><br><span class="line">    subscript(row:<span class="built_in">Int</span>, column:<span class="built_in">Int</span>) -&gt; <span class="built_in">Int</span> &#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            </span><br><span class="line">            guard row &gt;= <span class="number">0</span> &amp;&amp; row &lt; <span class="number">3</span> &amp;&amp; column &gt;= <span class="number">0</span> &amp;&amp; column &lt; <span class="number">3</span> <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">data</span>[row][column] = newValue</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            guard row &gt;= <span class="number">0</span> &amp;&amp; row &lt; <span class="number">3</span> &amp;&amp; column &gt;= <span class="number">0</span> &amp;&amp; column &lt; <span class="number">3</span> <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>  <span class="keyword">data</span>[row][column]</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> grid = Grid()</span><br><span class="line">grid[<span class="number">0</span>,<span class="number">1</span>] = <span class="number">77</span></span><br><span class="line">grid[<span class="number">1</span>,<span class="number">2</span>] = <span class="number">88</span></span><br><span class="line">grid[<span class="number">2</span>,<span class="number">0</span>] = <span class="number">99</span></span><br><span class="line">print(grid.<span class="keyword">data</span>) <span class="comment">//[[0, 77, 2], [3, 4, 88], [99, 7, 8]]</span></span><br></pre></td></tr></table></figure><h5 id="å…­-ä¸‹æ ‡è¿”å›å€¼ä¸ºç»“æ„ä½“å’Œç±»çš„å·®å¼‚"><a href="#å…­-ä¸‹æ ‡è¿”å›å€¼ä¸ºç»“æ„ä½“å’Œç±»çš„å·®å¼‚" class="headerlink" title="å…­ ä¸‹æ ‡è¿”å›å€¼ä¸ºç»“æ„ä½“å’Œç±»çš„å·®å¼‚"></a>å…­ ä¸‹æ ‡è¿”å›å€¼ä¸ºç»“æ„ä½“å’Œç±»çš„å·®å¼‚</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">0</span>, y = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PointManager</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> point = <span class="type">Point</span>()</span><br><span class="line">    <span class="keyword">subscript</span>(index:<span class="type">Int</span>) -&gt; <span class="type">Point</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            point</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> pm = <span class="type">PointManager</span>()</span><br><span class="line">pm[<span class="number">0</span>].x = <span class="number">11</span></span><br><span class="line">pm[<span class="number">0</span>].y = <span class="number">22</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span>  <span class="title">Point2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">0</span>, y = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PointManager2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> point = <span class="type">Point2</span>()</span><br><span class="line">    <span class="keyword">subscript</span>(index:<span class="type">Int</span>) -&gt; <span class="type">Point2</span> &#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;point = newValue&#125; <span class="comment">//ä¸å†™setæ–¹æ³•æ— æ³•èµ‹å€¼ èµ‹å€¼ä¸ç”¨å…·ä½“åˆ°å…·ä½“å±æ€§</span></span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            point</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span>  pm2 = <span class="type">PointManager2</span>()</span><br><span class="line">pm2[<span class="number">0</span>].x = <span class="number">33</span></span><br><span class="line">pm2[<span class="number">0</span>].y = <span class="number">44</span></span><br><span class="line"><span class="built_in">print</span>(pm2[<span class="number">0</span>].x,pm2[<span class="number">0</span>].y)</span><br></pre></td></tr></table></figure><p>ç»“æ„ä½“æ˜¯å€¼ç±»å‹,ç±»æ˜¯æŒ‡é’ˆç±»å‹,ç»“æ„ä½“ä¸‹æ ‡ç»™ç»“æ„ä½“å±æ€§èµ‹å€¼å¿…é¡»è¦å®ç°set,è€Œç±»ä¸éœ€è¦</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-ä¸‹æ ‡çš„å®šä¹‰&quot;&gt;&lt;a href=&quot;#ä¸€-ä¸‹æ ‡çš„å®šä¹‰&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ ä¸‹æ ‡çš„å®šä¹‰&quot;&gt;&lt;/a&gt;ä¸€ ä¸‹æ ‡çš„å®šä¹‰&lt;/h5&gt;&lt;figure class=&quot;highlight haxe&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Point&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; x=&lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;, y=&lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    subscript(index:&lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;) -&amp;gt;Double &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; index % &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               x = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;type&quot;&gt;Value&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;&lt;/span&gt;            &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               y = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;type&quot;&gt;Value&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;&lt;/span&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; index % &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; x&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; y&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; p = Point()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;p[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;number&quot;&gt;22.2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;p[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] = &lt;span class=&quot;number&quot;&gt;33.3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(p.x,p[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]) &lt;span class=&quot;comment&quot;&gt;//22.2 22.2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(p.y,p[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]) &lt;span class=&quot;comment&quot;&gt;//33.3 33.3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½¿ç”¨subscriptå¯ä»¥ç»™ä»»æ„ç±»å‹,æšä¸¾,ç»“æ„ä½“,ç±»å¢åŠ ä¸‹æ ‡åŠŸèƒ½,ä¹Ÿå¯å«åšä¸‹æ ‡è„šæœ¬&lt;/p&gt;
&lt;p&gt;subscript ä¸­å®šä¹‰çš„è¿”å›å€¼ç±»å‹å†³å®šäº†:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;getæ–¹æ³•çš„è¿”å›å€¼ç±»å‹&lt;/li&gt;
&lt;li&gt;setæ–¹æ³•ä¸­newValueçš„ç±»å‹
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swift æ–¹æ³•</title>
    <link href="http://example.com/2019/09/30/swift-%E6%96%B9%E6%B3%95/"/>
    <id>http://example.com/2019/09/30/swift-æ–¹æ³•/</id>
    <published>2019-09-30T03:44:11.000Z</published>
    <updated>2020-12-06T04:16:05.799Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-æ–¹æ³•ç®€ä»‹"><a href="#ä¸€-æ–¹æ³•ç®€ä»‹" class="headerlink" title="ä¸€ æ–¹æ³•ç®€ä»‹"></a>ä¸€ æ–¹æ³•ç®€ä»‹</h5><p>æ–¹æ³•åˆ†ä¸ºå®ä¾‹æ–¹æ³•å’Œç±»å‹æ–¹æ³•,æšä¸¾,ç»“æ„ä½“,ç±»éƒ½å¯ä»¥å®šä¹‰å®ä¾‹æ–¹æ³•,ç±»å‹æ–¹æ³•</p><p><strong>å®ä¾‹æ–¹æ³•:</strong> é€šè¿‡å®ä¾‹å¯¹è±¡è°ƒç”¨</p><p><strong>ç±»å‹æ–¹æ³•:</strong> é€šè¿‡ç±»å‹è°ƒç”¨,ç”¨staticæˆ–è€…classå…³é”®å­—å®šä¹‰</p><h5 id="äºŒ-å®ä¾‹æ–¹æ³•"><a href="#äºŒ-å®ä¾‹æ–¹æ³•" class="headerlink" title="äºŒ å®ä¾‹æ–¹æ³•"></a>äºŒ å®ä¾‹æ–¹æ³•</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">count</span>:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="built_in">count</span> = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">getCount</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="built_in">count</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> car = <span class="type">Car</span>()</span><br><span class="line">car.<span class="built_in">count</span> = <span class="number">20</span></span><br><span class="line"><span class="built_in">print</span>(car.getCount())<span class="comment">//20</span></span><br></pre></td></tr></table></figure><p>å®ä¾‹æ–¹æ³•ä¸­,selfä»£è¡¨å®ä¾‹å¯¹è±¡</p><a id="more"></a><h5 id="ä¸‰-ç±»å‹æ–¹æ³•"><a href="#ä¸‰-ç±»å‹æ–¹æ³•" class="headerlink" title="ä¸‰ ç±»å‹æ–¹æ³•"></a>ä¸‰ ç±»å‹æ–¹æ³•</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="built_in">count</span>:<span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">getCount</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="built_in">count</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">Car</span>.<span class="built_in">count</span> = <span class="number">20</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">Car</span>.getCount())<span class="comment">//20</span></span><br></pre></td></tr></table></figure><p>åœ¨ç±»å‹æ–¹æ³•ä¸­,selfä»£è¡¨ç±»å‹</p><h5 id="å››-mutating"><a href="#å››-mutating" class="headerlink" title="å›› mutating"></a>å›› mutating</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x=<span class="number">0.0</span>, y=<span class="number">0.0</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">moveBy</span><span class="params">(deltaX:Double, deltaY: Double)</span></span>  &#123;</span><br><span class="line">        x += deltaX</span><br><span class="line">        y += deltaY</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="type">Point</span>(x: <span class="number">20</span>, y: <span class="number">30</span>)</span><br><span class="line">p.moveBy(deltaX: <span class="number">4</span>, deltaY: <span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(p) <span class="comment">//Point(x: 24.0, y: 35.0)</span></span><br></pre></td></tr></table></figure><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">StateSwitch</span> &#123;</span></span><br><span class="line">    <span class="keyword">case</span> low, middle, high</span><br><span class="line">    mutating func <span class="keyword">next</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        switch <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .<span class="symbol">low:</span></span><br><span class="line">            <span class="keyword">self</span> = .middle</span><br><span class="line">        <span class="keyword">case</span> .<span class="symbol">middle:</span></span><br><span class="line">            <span class="keyword">self</span> = .high</span><br><span class="line">        <span class="keyword">case</span> .<span class="symbol">high:</span></span><br><span class="line">            <span class="keyword">self</span> = .low</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var stateswitch = StateSwitch.low</span><br><span class="line">stateswitch.<span class="keyword">next</span>()</span><br><span class="line">print(stateswitch) /<span class="regexp">/middle</span></span><br></pre></td></tr></table></figure><p>ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹,é»˜è®¤æƒ…å†µä¸‹,å€¼ç±»å‹çš„å±æ€§ä¸èƒ½è¢«è‡ªèº«çš„å®ä¾‹æ–¹æ³•ä¿®æ”¹,åœ¨funcå…³é”®å­—å‰åŠ mutatingå¯ä»¥å…è®¸è¿™ç§ä¿®æ”¹è¡Œä¸º</p><h5 id="å…­-discardableResult"><a href="#å…­-discardableResult" class="headerlink" title="å…­ @discardableResult"></a>å…­ @discardableResult</h5><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">StateSwitch</span> &#123;</span></span><br><span class="line">    <span class="keyword">case</span> low, middle, high</span><br><span class="line">     @discardableResult mutating func <span class="keyword">next</span>() -&gt;Int</span><br><span class="line">    &#123;</span><br><span class="line">        switch <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .<span class="symbol">low:</span></span><br><span class="line">            <span class="keyword">self</span> = .middle</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="symbol">middle:</span></span><br><span class="line">            <span class="keyword">self</span> = .high</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="symbol">high:</span></span><br><span class="line">            <span class="keyword">self</span> = .low</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var s = StateSwitch.low</span><br><span class="line">s.<span class="keyword">next</span>()</span><br></pre></td></tr></table></figure><p>åœ¨funcå‰é¢åŠ ä¸ª@discardableResultï¼Œå¯ä»¥æ¶ˆé™¤:å‡½æ•°è°ƒç”¨åè¿”å›å€¼æœªè¢«ä½¿ç”¨çš„è­¦å‘Š</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-æ–¹æ³•ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ä¸€-æ–¹æ³•ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ æ–¹æ³•ç®€ä»‹&quot;&gt;&lt;/a&gt;ä¸€ æ–¹æ³•ç®€ä»‹&lt;/h5&gt;&lt;p&gt;æ–¹æ³•åˆ†ä¸ºå®ä¾‹æ–¹æ³•å’Œç±»å‹æ–¹æ³•,æšä¸¾,ç»“æ„ä½“,ç±»éƒ½å¯ä»¥å®šä¹‰å®ä¾‹æ–¹æ³•,ç±»å‹æ–¹æ³•&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®ä¾‹æ–¹æ³•:&lt;/strong&gt; é€šè¿‡å®ä¾‹å¯¹è±¡è°ƒç”¨&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç±»å‹æ–¹æ³•:&lt;/strong&gt; é€šè¿‡ç±»å‹è°ƒç”¨,ç”¨staticæˆ–è€…classå…³é”®å­—å®šä¹‰&lt;/p&gt;
&lt;h5 id=&quot;äºŒ-å®ä¾‹æ–¹æ³•&quot;&gt;&lt;a href=&quot;#äºŒ-å®ä¾‹æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;äºŒ å®ä¾‹æ–¹æ³•&quot;&gt;&lt;/a&gt;äºŒ å®ä¾‹æ–¹æ³•&lt;/h5&gt;&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Car&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;count&lt;/span&gt;:&lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;init&lt;/span&gt;() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;built_in&quot;&gt;count&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getCount&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;built_in&quot;&gt;count&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; car = &lt;span class=&quot;type&quot;&gt;Car&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;car.&lt;span class=&quot;built_in&quot;&gt;count&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(car.getCount())&lt;span class=&quot;comment&quot;&gt;//20&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å®ä¾‹æ–¹æ³•ä¸­,selfä»£è¡¨å®ä¾‹å¯¹è±¡&lt;/p&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swift å±æ€§</title>
    <link href="http://example.com/2019/09/15/swift-%E5%B1%9E%E6%80%A7/"/>
    <id>http://example.com/2019/09/15/swift-å±æ€§/</id>
    <published>2019-09-15T09:00:30.000Z</published>
    <updated>2020-12-06T03:44:50.504Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>swift å±æ€§åˆ†ä¸ºä¸¤å¤§ç±»: å®ä¾‹å±æ€§å’Œç±»å‹å±æ€§,.å®ä¾‹å±æ€§åˆåˆ†ä¸º:å­˜å‚¨å®ä¾‹å±æ€§å’Œè®¡ç®—å®ä¾‹å±æ€§, ç±»å‹å±æ€§åˆ†ä¸º: å­˜å‚¨ç±»å‹å±æ€§å’Œè®¡ç®—ç±»å‹å±æ€§</p></blockquote><h5 id="ä¸€-å®ä¾‹å­˜å‚¨å±æ€§"><a href="#ä¸€-å®ä¾‹å­˜å‚¨å±æ€§" class="headerlink" title="ä¸€ å®ä¾‹å­˜å‚¨å±æ€§"></a>ä¸€ å®ä¾‹å­˜å‚¨å±æ€§</h5><figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">struct Point &#123;</span><br><span class="line">    <span class="keyword">var</span> x:<span class="keyword">Int</span></span><br><span class="line">    <span class="keyword">var</span> y:<span class="keyword">Int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = Point(x:<span class="number">10</span>,y:<span class="number">20</span>)</span><br><span class="line"><span class="keyword">print</span>(MemoryLayout.stride(ofValue: p))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x:<span class="keyword">Int</span></span><br><span class="line">    <span class="keyword">var</span> y:<span class="keyword">Int</span></span><br><span class="line">    init(x:<span class="keyword">Int</span>,y:<span class="keyword">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line">        <span class="keyword">self</span>.y = y</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›¸å½“äºæˆå‘˜å˜é‡,å±æ€§å­˜å‚¨åœ¨å®ä¾‹çš„å†…å­˜ä¸­,åªæœ‰ç»“æ„ä½“å’Œç±»å¯ä»¥å®šä¹‰å®ä¾‹å­˜å‚¨å±æ€§,æšä¸¾ä¸å¯ä»¥å®šä¹‰å­˜å‚¨å±æ€§.</p><p><strong>1 æšä¸¾ä¸ºä»€ä¹ˆä¸å¯ä»¥å®šä¹‰å­˜å‚¨å±æ€§å‘¢?</strong></p><p>é¦–å…ˆå­˜å‚¨å±æ€§æ˜¯å­˜å‚¨åœ¨å®ä¾‹å†…å­˜ä¸­çš„,è€Œæšä¸¾å®ä¾‹å€¼å­˜å‚¨äº†caseç›¸å…³å€¼æ ‡è¯†,æ¯”å¦‚æšä¸¾åŸå§‹å€¼,åªå 1ä¸ªå­—èŠ‚,è¿™é‡Œçš„æšä¸¾æ˜¯æ— æ³•å­˜å‚¨ä½ å®šä¹‰å…¶å®ƒécaseå˜é‡çš„</p><a id="more"></a><h5 id="å®ä¾‹å­˜å‚¨å±æ€§ç»†èŠ‚"><a href="#å®ä¾‹å­˜å‚¨å±æ€§ç»†èŠ‚" class="headerlink" title="å®ä¾‹å­˜å‚¨å±æ€§ç»†èŠ‚"></a>å®ä¾‹å­˜å‚¨å±æ€§ç»†èŠ‚</h5><p><img src="../assets/blogImg/ccsx01.png" alt><br>åœ¨åˆ›å»ºç±»æˆ–è€…ç»“æ„ä½“å®ä¾‹æ—¶,å¿…é¡»ä¸ºæ‰€æœ‰çš„å­˜å‚¨å±æ€§è®¾ç½®ä¸€ä¸ªåˆé€‚çš„åˆå§‹å€¼</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> radiu:<span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">c</span> = <span class="type">Circle</span>(radiu: <span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">c</span>.radiu) <span class="comment">//10</span></span><br></pre></td></tr></table></figure><p>å®šä¹‰å­˜å‚¨å±æ€§ä¹Ÿå¯ä»¥ä½¿ç”¨let</p><h5 id="äºŒ-å®ä¾‹è®¡ç®—å±æ€§"><a href="#äºŒ-å®ä¾‹è®¡ç®—å±æ€§" class="headerlink" title="äºŒ å®ä¾‹è®¡ç®—å±æ€§"></a>äºŒ å®ä¾‹è®¡ç®—å±æ€§</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> radiu:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> diameter:<span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            radiu * <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span>&#123;</span><br><span class="line">            radiu  = newValue / <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> <span class="built_in">c</span> = <span class="type">Circle</span>(radiu: <span class="number">20</span>)</span><br><span class="line"><span class="built_in">c</span>.radiu = <span class="number">11</span></span><br><span class="line"><span class="built_in">c</span>.diameter = <span class="number">12</span></span><br><span class="line"><span class="keyword">let</span> d = <span class="built_in">c</span>.diameter</span><br><span class="line"><span class="comment">//print(MemoryLayout.stride(ofValue: c)) //8</span></span><br><span class="line"><span class="comment">//print(c.diameter)//10.0</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">sudy`main:</span></span><br><span class="line">    <span class="number">0x100001070</span> <span class="string">&lt;+0&gt;:</span>   <span class="string">pushq</span>  <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100001071</span> <span class="string">&lt;+1&gt;:</span>   <span class="string">movq</span>   <span class="string">%rsp,</span> <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100001074</span> <span class="string">&lt;+4&gt;:</span>   <span class="string">pushq</span>  <span class="string">%r13</span></span><br><span class="line">    <span class="number">0x100001076</span> <span class="string">&lt;+6&gt;:</span>   <span class="string">subq</span>   <span class="string">$0x58,</span> <span class="string">%rsp</span></span><br><span class="line">    <span class="number">0x10000107a</span> <span class="string">&lt;+10&gt;:</span>  <span class="string">movl</span>   <span class="string">$0x14,</span> <span class="string">%eax</span></span><br><span class="line">    <span class="number">0x10000107f</span> <span class="string">&lt;+15&gt;:</span>  <span class="string">movl</span>   <span class="string">%edi,</span> <span class="number">-0x54</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100001082</span> <span class="string">&lt;+18&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100001085</span> <span class="string">&lt;+21&gt;:</span>  <span class="string">movq</span>   <span class="string">%rsi,</span> <span class="number">-0x60</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100001089</span> <span class="string">&lt;+25&gt;:</span>  <span class="string">callq</span>  <span class="number">0x100001320</span>               <span class="string">;</span> <span class="string">sudy.Circle.init(radiu:</span> <span class="string">Swift.Int)</span> <span class="string">-&gt;</span> <span class="string">sudy.Circle</span> <span class="string">at</span> <span class="string">main.swift:1</span> <span class="string">//</span> <span class="string">è°ƒç”¨structåˆå§‹åŒ–æ–¹æ³•</span></span><br><span class="line">    <span class="number">0x10000108e</span> <span class="string">&lt;+30&gt;:</span>  <span class="string">leaq</span>   <span class="number">0x6163</span><span class="string">(%rip),</span> <span class="string">%rsi</span>        <span class="string">;</span> <span class="attr">sudy.c :</span> <span class="string">sudy.Circle</span></span><br><span class="line">    <span class="number">0x100001095</span> <span class="string">&lt;+37&gt;:</span>  <span class="string">xorl</span>   <span class="string">%ecx,</span> <span class="string">%ecx</span></span><br><span class="line">    <span class="number">0x100001097</span> <span class="string">&lt;+39&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">0x615a</span><span class="string">(%rip)</span>        <span class="string">;</span> <span class="attr">sudy.c :</span> <span class="string">sudy.Circle</span> <span class="string">//å°†åˆå§‹åŒ–æ–¹æ³•è¿”å›çš„å€¼å³structå®ä¾‹åœ°å€å€¼èµ‹å€¼ç»™cè¿™ä¸ªå…¨å±€å˜é‡ã€‚</span> <span class="string">åœ°å€:0x1000071F8</span></span><br><span class="line"><span class="string">-&gt;</span>  <span class="number">0x10000109e</span> <span class="string">&lt;+46&gt;:</span>  <span class="string">movq</span>   <span class="string">%rsi,</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x1000010a1</span> <span class="string">&lt;+49&gt;:</span>  <span class="string">leaq</span>   <span class="number">-0x20</span><span class="string">(%rbp),</span> <span class="string">%rsi</span></span><br><span class="line">    <span class="number">0x1000010a5</span> <span class="string">&lt;+53&gt;:</span>  <span class="string">movl</span>   <span class="string">$0x21,</span> <span class="string">%edx</span></span><br><span class="line">    <span class="number">0x1000010aa</span> <span class="string">&lt;+58&gt;:</span>  <span class="string">callq</span>  <span class="number">0x10000542a</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_beginAccess</span></span><br><span class="line">        <span class="number">0x1000010af</span> <span class="string">&lt;+63&gt;:</span>  <span class="string">movq</span>   <span class="string">$0xb,</span> <span class="number">0x613e</span><span class="string">(%rip)</span>        <span class="string">;</span> <span class="string">lazy</span> <span class="string">cache</span> <span class="string">variable</span> <span class="string">for</span> <span class="string">type</span> <span class="string">metadata</span> <span class="string">for</span> <span class="string">Swift.Array&lt;Swift.UInt8&gt;</span> <span class="string">+</span> <span class="number">4</span>  <span class="number">0x1000010ba</span> <span class="string">+</span> <span class="number">0x613e</span> <span class="string">=</span>  <span class="number">0x1000071F8</span> <span class="string">å°†11èµ‹å€¼ç»™c.radiu</span>  <span class="string">cçš„å†…å­˜å­˜çš„å°±æ˜¯radiu</span></span><br><span class="line">    <span class="number">0x1000010ba</span> <span class="string">&lt;+74&gt;:</span>  <span class="string">leaq</span>   <span class="number">-0x20</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x1000010be</span> <span class="string">&lt;+78&gt;:</span>  <span class="string">callq</span>  <span class="number">0x100005448</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_endAccess</span></span><br><span class="line">    <span class="number">0x1000010c3</span> <span class="string">&lt;+83&gt;:</span>  <span class="string">leaq</span>   <span class="number">0x612e</span><span class="string">(%rip),</span> <span class="string">%rax</span>        <span class="string">;</span> <span class="attr">sudy.c :</span> <span class="string">sudy.Circle//0x1000071F8</span></span><br><span class="line">    <span class="number">0x1000010ca</span> <span class="string">&lt;+90&gt;:</span>  <span class="string">xorl</span>   <span class="string">%r8d,</span> <span class="string">%r8d</span></span><br><span class="line">    <span class="number">0x1000010cd</span> <span class="string">&lt;+93&gt;:</span>  <span class="string">movl</span>   <span class="string">%r8d,</span> <span class="string">%ecx</span></span><br><span class="line">    <span class="number">0x1000010d0</span> <span class="string">&lt;+96&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rdi</span>  <span class="string">//rdi</span> <span class="string">:</span> <span class="number">0x1000071F8</span></span><br><span class="line">    <span class="number">0x1000010d3</span> <span class="string">&lt;+99&gt;:</span>  <span class="string">leaq</span>   <span class="number">-0x38</span><span class="string">(%rbp),</span> <span class="string">%rsi</span></span><br><span class="line">    <span class="number">0x1000010d7</span> <span class="string">&lt;+103&gt;:</span> <span class="string">movl</span>   <span class="string">$0x21,</span> <span class="string">%edx</span></span><br><span class="line">    <span class="number">0x1000010dc</span> <span class="string">&lt;+108&gt;:</span> <span class="string">callq</span>  <span class="number">0x10000542a</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_beginAccess</span></span><br><span class="line">    <span class="number">0x1000010e1</span> <span class="string">&lt;+113&gt;:</span> <span class="string">movl</span>   <span class="string">$0xc,</span> <span class="string">%edi</span> <span class="string">//</span> <span class="string">å°†12</span> <span class="string">èµ‹ç»™edi</span></span><br><span class="line">    <span class="number">0x1000010e6</span> <span class="string">&lt;+118&gt;:</span> <span class="string">leaq</span>   <span class="number">0x610b</span><span class="string">(%rip),</span> <span class="string">%r13</span>        <span class="string">;</span> <span class="attr">sudy.c :</span> <span class="string">sudy.Circle</span> <span class="string">//0x1000071F8</span> <span class="string">èµ‹å€¼ç»™</span> <span class="number">13</span></span><br><span class="line">    <span class="number">0x1000010ed</span> <span class="string">&lt;+125&gt;:</span> <span class="string">callq</span>  <span class="number">0x100001220</span>               <span class="string">;</span> <span class="attr">sudy.Circle.diameter.setter :</span> <span class="string">Swift.Int</span> <span class="string">at</span> <span class="string">main.swift:7//è°ƒç”¨diameter.setteræ–¹æ³•</span></span><br><span class="line">    <span class="number">0x1000010f2</span> <span class="string">&lt;+130&gt;:</span> <span class="string">leaq</span>   <span class="number">-0x38</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x1000010f6</span> <span class="string">&lt;+134&gt;:</span> <span class="string">callq</span>  <span class="number">0x100005448</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_endAccess</span></span><br><span class="line">    <span class="number">0x1000010fb</span> <span class="string">&lt;+139&gt;:</span> <span class="string">leaq</span>   <span class="number">0x60f6</span><span class="string">(%rip),</span> <span class="string">%rax</span>        <span class="string">;</span> <span class="attr">sudy.c :</span> <span class="string">sudy.Circle</span></span><br><span class="line">    <span class="number">0x100001102</span> <span class="string">&lt;+146&gt;:</span> <span class="string">xorl</span>   <span class="string">%r8d,</span> <span class="string">%r8d</span></span><br><span class="line">    <span class="number">0x100001105</span> <span class="string">&lt;+149&gt;:</span> <span class="string">movl</span>   <span class="string">%r8d,</span> <span class="string">%ecx</span></span><br><span class="line">    <span class="number">0x100001108</span> <span class="string">&lt;+152&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x10000110b</span> <span class="string">&lt;+155&gt;:</span> <span class="string">leaq</span>   <span class="number">-0x50</span><span class="string">(%rbp),</span> <span class="string">%rsi</span></span><br><span class="line">    <span class="number">0x10000110f</span> <span class="string">&lt;+159&gt;:</span> <span class="string">movl</span>   <span class="string">$0x20,</span> <span class="string">%edx</span></span><br><span class="line">    <span class="number">0x100001114</span> <span class="string">&lt;+164&gt;:</span> <span class="string">callq</span>  <span class="number">0x10000542a</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_beginAccess</span></span><br><span class="line">    <span class="number">0x100001119</span> <span class="string">&lt;+169&gt;:</span> <span class="string">movq</span>   <span class="number">0x60d8</span><span class="string">(%rip),</span> <span class="string">%rdi</span>        <span class="string">;</span> <span class="attr">sudy.c :</span> <span class="string">sudy.Circle</span> <span class="string">//0x1000071F8</span> <span class="string">èµ‹å€¼ç»™</span> <span class="string">rdi</span></span><br><span class="line">    <span class="number">0x100001120</span> <span class="string">&lt;+176&gt;:</span> <span class="string">callq</span>  <span class="number">0x100001180</span>               <span class="string">;</span> <span class="attr">sudy.Circle.diameter.getter :</span> <span class="string">Swift.Int</span> <span class="string">at</span> <span class="string">main.swift:4</span> <span class="string">//</span> <span class="string">è°ƒç”¨diameter.getteræ–¹æ³•</span></span><br><span class="line">    <span class="number">0x100001125</span> <span class="string">&lt;+181&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">0x60d4</span><span class="string">(%rip)</span>        <span class="string">;</span> <span class="attr">sudy.d :</span> <span class="string">Swift.Int</span></span><br><span class="line">    <span class="number">0x10000112c</span> <span class="string">&lt;+188&gt;:</span> <span class="string">leaq</span>   <span class="number">-0x50</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100001130</span> <span class="string">&lt;+192&gt;:</span> <span class="string">callq</span>  <span class="number">0x100005448</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_endAccess</span></span><br><span class="line">    <span class="number">0x100001135</span> <span class="string">&lt;+197&gt;:</span> <span class="string">xorl</span>   <span class="string">%eax,</span> <span class="string">%eax</span></span><br><span class="line">    <span class="number">0x100001137</span> <span class="string">&lt;+199&gt;:</span> <span class="string">addq</span>   <span class="string">$0x58,</span> <span class="string">%rsp</span></span><br><span class="line">    <span class="number">0x10000113b</span> <span class="string">&lt;+203&gt;:</span> <span class="string">popq</span>   <span class="string">%r13</span></span><br><span class="line">    <span class="number">0x10000113d</span> <span class="string">&lt;+205&gt;:</span> <span class="string">popq</span>   <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x10000113e</span> <span class="string">&lt;+206&gt;:</span> <span class="string">retq</span></span><br></pre></td></tr></table></figure><p>è®¡ç®—å±æ€§æ ¼å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> diameter:Int &#123;</span><br><span class="line">       <span class="keyword">get</span>&#123;</span><br><span class="line">              <span class="comment">//</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">set</span>&#123;</span><br><span class="line">          <span class="comment">//</span></span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢æ±‡ç¼–ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹å‡º,struct å°±å­˜å‚¨äº†radiu å†ç»™diameterèµ‹å€¼æ—¶æ˜¯é€šè¿‡è°ƒç”¨å®ƒçš„setæ–¹æ³•,è·å–å€¼æ—¶æ˜¯é€šè¿‡è°ƒç”¨å®ƒçš„getæ–¹æ³•,å› æ­¤æˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦‚ä¸‹ç»“è®º:</p><ul><li><p>è®¡ç®—å±æ€§æœ¬è´¨å°±æ˜¯æ–¹æ³•(å‡½æ•°)</p></li><li><p>è®¡ç®—å±æ€§ä¸å ç”¨å®ä¾‹çš„å†…å­˜</p></li><li><p>é€šè¿‡å®ƒä¸å ç”¨å†…å­˜æˆ‘ä»¬å¯çŸ¥, æšä¸¾,ç»“æ„ä½“,ç±»éƒ½å¯ä»¥å®šä¹‰è®¡ç®—å±æ€§,ä¸Šé¢æˆ‘ä»¬è¯´æšä¸¾ä¸å¯ä»¥å®šä¹‰,å­˜å‚¨å±æ€§,ä½†æ˜¯åœ¨è¿™é‡Œå®ƒå¯ä»¥å®šä¹‰è®¡ç®—å±æ€§</p></li></ul><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æšä¸¾æ˜¯å¯ä»¥å®šä¹‰è®¡ç®—å±æ€§çš„</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> &#123;</span></span><br><span class="line">    <span class="keyword">case</span> east,south,west</span><br><span class="line">    <span class="keyword">var</span> number:<span class="type">Int </span>&#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å®ä¾‹è®¡ç®—å±æ€§çš„ç»†èŠ‚"><a href="#å®ä¾‹è®¡ç®—å±æ€§çš„ç»†èŠ‚" class="headerlink" title="å®ä¾‹è®¡ç®—å±æ€§çš„ç»†èŠ‚"></a>å®ä¾‹è®¡ç®—å±æ€§çš„ç»†èŠ‚</h5><p><img src="../assets/blogImg/jssx01.png" alt><br>å®šä¹‰è®¡ç®—å±æ€§åªèƒ½ç”¨var,ä¸èƒ½ç”¨let ,è®¡ç®—å±æ€§çš„å€¼æ˜¯å¯èƒ½å‘ç”Ÿå˜åŒ–çš„.</p><p><img src="../assets/blogImg/jssx02.png" alt><br>è®¡ç®—å±æ€§å¯ä»¥æ˜¯åªè¯»çš„,ä½†ä¸èƒ½æ˜¯åªå†™çš„,ä¹Ÿå°±æ˜¯getæ— è®ºä»€ä¹ˆæ—¶å€™éƒ½è¦å®šä¹‰,ä¸ç®¡æœ‰æ²¡æœ‰set</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">TestEnum</span> : <span class="title">Int</span> &#123;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">case</span> test1 = <span class="number">1</span>, test2 = <span class="number">2</span>, test3 = <span class="number">3</span></span><br><span class="line">    </span><br><span class="line">    var <span class="symbol">rawValue:</span> Int &#123;</span><br><span class="line">    switch <span class="keyword">self</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> .<span class="symbol">test1:</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line">    <span class="keyword">case</span> .<span class="symbol">test2:</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">11</span></span><br><span class="line">    <span class="keyword">case</span> .<span class="symbol">test3:</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">12</span></span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">print(TestEnum.test3.rawValue) /<span class="regexp">/12</span></span><br></pre></td></tr></table></figure><p>æšä¸¾åŸå§‹å€¼rawValueçš„æœ¬è´¨å°±æ˜¯åªè¯»è®¡ç®—å±æ€§</p><h5 id="ä¸‰-å»¶è¿Ÿå­˜å‚¨å±æ€§-Lazy-Stored-Property"><a href="#ä¸‰-å»¶è¿Ÿå­˜å‚¨å±æ€§-Lazy-Stored-Property" class="headerlink" title="ä¸‰ å»¶è¿Ÿå­˜å‚¨å±æ€§(Lazy Stored Property)"></a>ä¸‰ å»¶è¿Ÿå­˜å‚¨å±æ€§(Lazy Stored Property)</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Car2 init!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Car2 is running!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> car2  = <span class="type">Car2</span>()</span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"person2 init!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">goOut</span><span class="params">()</span></span>  &#123;</span><br><span class="line">        car2.run()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person2 = <span class="type">Person2</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"***********"</span>)</span><br><span class="line">person2.goOut()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"-----------"</span>)</span><br><span class="line"><span class="comment">//Car2 init!</span></span><br><span class="line"><span class="comment">//person2 init!</span></span><br><span class="line"><span class="comment">//***********</span></span><br><span class="line"><span class="comment">//Car2 is running!z</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Car init!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Car is running!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> car  = <span class="type">Car</span>()  <span class="comment">//ä½¿ç”¨lå»¶è¿Ÿå±æ€§</span></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"person init!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">goOut</span><span class="params">()</span></span>  &#123;</span><br><span class="line">        car.run()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="type">Person</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"***********"</span>)</span><br><span class="line">person.goOut()</span><br><span class="line"></span><br><span class="line"><span class="comment">//person init!</span></span><br><span class="line"><span class="comment">//***********</span></span><br><span class="line"><span class="comment">//Car init!</span></span><br><span class="line"><span class="comment">//Car is running!</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨lazyæ¥å®šä¹‰ä¸€ä¸ªå»¶è¿Ÿå±æ€§,lazyå®šä¹‰çš„å±æ€§åªæœ‰åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šè¿›è¡Œåˆå§‹åŒ–</p><ul><li>lazyå±æ€§å¿…é¡»æ˜¯var,ä¸èƒ½æ˜¯let ,letå¿…é¡»åœ¨å®ä¾‹çš„åˆå§‹åŒ–æ–¹æ³•å®Œæˆä¹‹å‰å°±æ‹¥æœ‰å€¼,è€Œlazyå±æ€§åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ‰åˆå§‹åŒ–,æœ‰å¯èƒ½åœ¨ç±»åˆå§‹åŒ–çš„æ—¶å€™å»¶æ—¶å±æ€§è¿˜æ²¡æœ‰ä½¿ç”¨.é‚£å®ƒå°±ä¸ä¼šåˆå§‹åŒ–</li></ul><h5 id="å»¶æ—¶å±æ€§æ³¨æ„ç‚¹âš ï¸"><a href="#å»¶æ—¶å±æ€§æ³¨æ„ç‚¹âš ï¸" class="headerlink" title="å»¶æ—¶å±æ€§æ³¨æ„ç‚¹âš ï¸"></a>å»¶æ—¶å±æ€§æ³¨æ„ç‚¹âš ï¸</h5><p>1 å¤šçº¿ç¨‹æƒ…å†µä¸‹ç¬¬ä¸€æ¬¡è®¿é—®lazyå±æ€§æ— æ³•ä¿è¯å±æ€§åªè¢«åˆå§‹åŒ–ä¸€æ¬¡</p><p> 2  å½“ç»“æ„ä½“åŒ…å«ä¸€ä¸ªå»¶è¿Ÿå­˜å‚¨å±æ€§æ—¶,åªæœ‰varæ‰èƒ½è®¿é—®å»¶è¿Ÿå±æ€§</p>  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> y = <span class="number">0</span></span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> z = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="type">Point</span>() <span class="comment">//var</span></span><br><span class="line"><span class="built_in">print</span>(p.z) âŒ</span><br></pre></td></tr></table></figure><p>  å»¶è¿Ÿå±æ€§åˆå§‹åŒ–éœ€è¦æ”¹å˜ç»“æ„ä½“çš„å†…å­˜ç»“æ„,let å®šä¹‰çš„ç»“æ„ä½“ç¬¬ä¸€æ¬¡åˆå§‹åŒ–åæ˜¯ä¸å…è®¸æ”¹çš„.</p><h5 id="å››-å±æ€§è§‚å¯Ÿå™¨"><a href="#å››-å±æ€§è§‚å¯Ÿå™¨" class="headerlink" title="å›› å±æ€§è§‚å¯Ÿå™¨"></a>å›› å±æ€§è§‚å¯Ÿå™¨</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> radius:<span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span>&#123; <span class="comment">//ä¼šä¼ é€’æ–°å€¼,é»˜è®¤å«newValue</span></span><br><span class="line">          <span class="built_in">print</span>(<span class="string">"willSet"</span>,newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">didSet</span> &#123;<span class="comment">//ä¼šä¼ é€’æ—§å€¼,é»˜è®¤å«oldValue</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"didSet"</span>, oldValue, radius)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.radius = <span class="number">1.0</span> <span class="comment">//åœ¨åˆå§‹åŒ–å™¨ä¸­è®¾ç½®å±æ€§å€¼ä¸ä¼šè§¦å‘willSetå’ŒdidSet</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Circle init!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> circle = <span class="type">Circle</span>() <span class="comment">//Circle init!</span></span><br><span class="line">circle.radius = <span class="number">5.0</span><span class="comment">//willSet 5.0 //didSet 1.0 5.0</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ä¸ºélazyçš„var å­˜å‚¨å±æ€§è®¾ç½®å±æ€§è§‚å¯Ÿå™¨, let ä¸èƒ½è®¾ç½®, è®¡ç®—å±æ€§ä¸èƒ½è®¾ç½®è§‚å¯Ÿå™¨,å› ä¸ºæ²¡å¿…è¦</p><ul><li><p>willSetä¼šä¼ é€’æ–°å€¼,é»˜è®¤å«newValue</p></li><li><p>didSetä¼šä¼ é€’æ—§å€¼,é»˜è®¤å«oldValue</p></li><li><p>åœ¨åˆå§‹åŒ–å™¨ä¸­è®¾ç½®å±æ€§å€¼ä¸ä¼šè§¦å‘willSetå’ŒdidSet</p></li><li><p>åœ¨å±æ€§å®šä¹‰æ—¶è®¾ç½®å±æ€§å€¼ä¸ä¼šè§¦å‘willSetå’ŒdidSet</p></li></ul><h5 id="äº”-è¾“å…¥è¾“å‡ºå‚æ•°åœ¨ç±»ç»“æ„ä½“ä¸­çš„æƒ…å†µ-inout"><a href="#äº”-è¾“å…¥è¾“å‡ºå‚æ•°åœ¨ç±»ç»“æ„ä½“ä¸­çš„æƒ…å†µ-inout" class="headerlink" title="äº” è¾“å…¥è¾“å‡ºå‚æ•°åœ¨ç±»ç»“æ„ä½“ä¸­çš„æƒ…å†µ(inout)"></a>äº” è¾“å…¥è¾“å‡ºå‚æ•°åœ¨ç±»ç»“æ„ä½“ä¸­çš„æƒ…å†µ(inout)</h5><h5 id="å­˜å‚¨å±æ€§"><a href="#å­˜å‚¨å±æ€§" class="headerlink" title="å­˜å‚¨å±æ€§"></a>å­˜å‚¨å±æ€§</h5> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> side:<span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"willSetSide"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"didSetSide"</span>, oldValue,side)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> girth:<span class="type">Int</span>&#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            width = newValue / side</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"setGrith"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"getGirth"</span>)</span><br><span class="line">            <span class="keyword">return</span> width * side</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"width=\(width),side=\(side), girth=\(girth)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(<span class="number">_</span> num:<span class="keyword">inout</span> Int)</span></span>  &#123;</span><br><span class="line">    num = <span class="number">20</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"test"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s = <span class="type">Shape</span>(width: <span class="number">10</span>, side: <span class="number">4</span>)</span><br><span class="line">test(&amp;s.width)</span><br><span class="line">s.show()</span><br><span class="line"><span class="comment">//test</span></span><br><span class="line"><span class="comment">//getGirth</span></span><br><span class="line"><span class="comment">//width=20,side=4, girth=80</span></span><br></pre></td></tr></table></figure> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">0x1000015c8</span> <span class="string">&lt;+24&gt;:</span>  <span class="string">movq</span>   <span class="string">%rsi,</span> <span class="number">-0x40</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x1000015cc</span> <span class="string">&lt;+28&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rsi</span></span><br><span class="line">    <span class="number">0x1000015cf</span> <span class="string">&lt;+31&gt;:</span>  <span class="string">callq</span>  <span class="number">0x100002050</span>               <span class="string">;</span> <span class="string">sudy.Shape.init(width:</span> <span class="string">Swift.Int,</span> <span class="attr">side:</span> <span class="string">Swift.Int)</span> <span class="string">-&gt;</span> <span class="string">sudy.Shape</span> <span class="string">at</span> <span class="string">main.swift:1</span></span><br><span class="line">    <span class="number">0x1000015d4</span> <span class="string">&lt;+36&gt;:</span>  <span class="string">leaq</span>   <span class="number">0x6c25</span><span class="string">(%rip),</span> <span class="string">%rsi</span>        <span class="string">;</span> <span class="attr">sudy.s :</span> <span class="string">sudy.Shape</span></span><br><span class="line">    <span class="number">0x1000015db</span> <span class="string">&lt;+43&gt;:</span>  <span class="string">xorl</span>   <span class="string">%ecx,</span> <span class="string">%ecx</span></span><br><span class="line">    <span class="number">0x1000015dd</span> <span class="string">&lt;+45&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">0x6c1c</span><span class="string">(%rip)</span>        <span class="string">;</span> <span class="attr">sudy.s :</span> <span class="string">sudy.Shape</span></span><br><span class="line">    <span class="number">0x1000015e4</span> <span class="string">&lt;+52&gt;:</span>  <span class="string">movq</span>   <span class="string">%rdx,</span> <span class="number">0x6c1d</span><span class="string">(%rip)</span>        <span class="string">;</span> <span class="attr">sudy.s :</span> <span class="string">sudy.Shape</span> <span class="string">+</span> <span class="number">8</span></span><br><span class="line"><span class="string">-&gt;</span>  <span class="number">0x1000015eb</span> <span class="string">&lt;+59&gt;:</span>  <span class="string">movq</span>   <span class="string">%rsi,</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x1000015ee</span> <span class="string">&lt;+62&gt;:</span>  <span class="string">leaq</span>   <span class="number">-0x18</span><span class="string">(%rbp),</span> <span class="string">%rsi</span></span><br><span class="line">    <span class="number">0x1000015f2</span> <span class="string">&lt;+66&gt;:</span>  <span class="string">movl</span>   <span class="string">$0x21,</span> <span class="string">%edx</span></span><br><span class="line">    <span class="number">0x1000015f7</span> <span class="string">&lt;+71&gt;:</span>  <span class="string">callq</span>  <span class="number">0x100006380</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_beginAccess</span></span><br><span class="line">    <span class="number">0x1000015fc</span> <span class="string">&lt;+76&gt;:</span>  <span class="string">leaq</span>   <span class="number">0x6bfd</span><span class="string">(%rip),</span> <span class="string">%rdi</span>        <span class="string">;</span> <span class="attr">sudy.s :</span> <span class="string">sudy.Shape</span> <span class="string">//å°†sçš„åœ°å€å€¼å½“ä½œå‚æ•°</span></span><br><span class="line">    <span class="number">0x100001603</span> <span class="string">&lt;+83&gt;:</span>  <span class="string">callq</span>  <span class="number">0x100002060</span>               <span class="string">;</span> <span class="string">sudy.test(inout</span> <span class="string">Swift.Int)</span> <span class="string">-&gt;</span> <span class="string">()</span> <span class="string">at</span> <span class="string">main.swift:28</span> <span class="string">//è°ƒç”¨testæ–¹æ³•</span></span><br><span class="line">    <span class="number">0x100001608</span> <span class="string">&lt;+88&gt;:</span>  <span class="string">leaq</span>   <span class="number">-0x18</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x10000160c</span> <span class="string">&lt;+92&gt;:</span>  <span class="string">callq</span>  <span class="number">0x10000639e</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_endAccess</span></span><br><span class="line">    <span class="number">0x100001611</span> <span class="string">&lt;+97&gt;:</span>  <span class="string">leaq</span>   <span class="number">0x6be8</span><span class="string">(%rip),</span> <span class="string">%rax</span>        <span class="string">;</span> <span class="attr">sudy.s :</span> <span class="string">sudy.Shape</span></span><br><span class="line">    <span class="number">0x100001618</span> <span class="string">&lt;+104&gt;:</span> <span class="string">xorl</span>   <span class="string">%r8d,</span> <span class="string">%r8d</span></span><br><span class="line">    <span class="number">0x10000161b</span> <span class="string">&lt;+107&gt;:</span> <span class="string">movl</span>   <span class="string">%r8d,</span> <span class="string">%ecx</span></span><br><span class="line">    <span class="number">0x10000161e</span> <span class="string">&lt;+110&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100001621</span> <span class="string">&lt;+113&gt;:</span> <span class="string">leaq</span>   <span class="number">-0x30</span><span class="string">(%rbp),</span> <span class="string">%rsi</span></span><br><span class="line">    <span class="number">0x100001625</span> <span class="string">&lt;+117&gt;:</span> <span class="string">movl</span>   <span class="string">$0x20,</span> <span class="string">%edx</span></span><br></pre></td></tr></table></figure><p> å­˜å‚¨å±æ€§å°±æ˜¯æ™®é€šçš„åœ°å€ä¼ é€’</p><h5 id="å±æ€§è§‚å¯Ÿå™¨"><a href="#å±æ€§è§‚å¯Ÿå™¨" class="headerlink" title="å±æ€§è§‚å¯Ÿå™¨"></a>å±æ€§è§‚å¯Ÿå™¨</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> side:<span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"willSetSide"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"didSetSide"</span>, oldValue,side)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> girth:<span class="type">Int</span>&#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            width = newValue / side</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"setGrith"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"getGirth"</span>)</span><br><span class="line">            <span class="keyword">return</span> width * side</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"width=\(width),side=\(side), girth=\(girth)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(<span class="number">_</span> num:<span class="keyword">inout</span> Int)</span></span>  &#123;</span><br><span class="line">    num = <span class="number">20</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"test"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s = <span class="type">Shape</span>(width: <span class="number">10</span>, side: <span class="number">4</span>)</span><br><span class="line">test(&amp;s.side)</span><br><span class="line">s.show()</span><br><span class="line"><span class="comment">//test</span></span><br><span class="line"><span class="comment">//willSetSide 20</span></span><br><span class="line"><span class="comment">//didSetSide 4 20</span></span><br><span class="line"><span class="comment">//getGirth</span></span><br><span class="line"><span class="comment">//width=10,side=20, girth=200</span></span><br></pre></td></tr></table></figure> <figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">  <span class="number">0x10000151d</span> &lt;+<span class="number">61</span>&gt;:  movq   <span class="symbol">%rsi</span>, <span class="symbol">%rdi</span></span><br><span class="line">    <span class="number">0x100001520</span> &lt;+<span class="number">64</span>&gt;:  leaq   <span class="number">-0</span><span class="keyword">x</span><span class="number">20</span>(<span class="symbol">%rbp</span>), <span class="symbol">%rsi</span></span><br><span class="line">    <span class="number">0x100001524</span> &lt;+<span class="number">68</span>&gt;:  movl   $<span class="number">0x21</span>, <span class="symbol">%edx</span></span><br><span class="line">    <span class="number">0x100001529</span> &lt;+<span class="number">73</span>&gt;:  callq  <span class="number">0x100006380</span>               <span class="comment">; symbol stub for: swift_beginAccess</span></span><br><span class="line"><span class="comment">    0x10000152e &lt;+78&gt;:  movq   0x6cd3(%rip), %rax        ; sudy.s : sudy.Shape + 8  // s çš„ç¬¬äºŒä¸ªæˆå‘˜çš„å€¼ç»™rax sidé‡Œçš„å†…å®¹</span></span><br><span class="line"><span class="comment">    0x100001535 &lt;+85&gt;:  movq   %rax, -0x28(%rbp) // raxé‡Œçš„å€¼èµ‹ç»™ä¸€ä¸ªå±€éƒ¨å˜é‡</span></span><br><span class="line"><span class="comment">    0x100001539 &lt;+89&gt;:  leaq   -0x28(%rbp), %rdi //å±€éƒ¨å˜é‡é‡Œçš„åœ°å€å€¼å½“ä½œå‚æ•°</span></span><br><span class="line"><span class="comment">    0x10000153d &lt;+93&gt;:  callq  0x100001fb0               ; sudy.test(inout Swift.Int) -&gt; () at main.swift:28 //è°ƒç”¨testæ–¹æ³•</span></span><br><span class="line"><span class="comment">    0x100001542 &lt;+98&gt;:  movq   -0x28(%rbp), %rdi //å°†å±€éƒ¨å˜é‡é‡Œçš„å†…å®¹ç»™rid. å½“ä½œå‚æ•°</span></span><br><span class="line"><span class="comment">    0x100001546 &lt;+102&gt;: leaq   0x6cb3(%rip), %r13        ; sudy.s : sudy.Shape</span></span><br><span class="line"><span class="comment">    0x10000154d &lt;+109&gt;: callq  0x100001640               ;  //è°ƒç”¨set æ–¹æ³•sudy.Shape.side.setter : Swift.Int at &lt;compiler-generated&gt;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">setæ–¹æ³•é‡Œé¢è°ƒç”¨willset.  didset</span></span><br><span class="line"><span class="comment">sudy`Shape.side.setter:</span></span><br><span class="line"><span class="comment">-&gt;  0x100001640 &lt;+0&gt;:  pushq  %rbp</span></span><br><span class="line"><span class="comment">    0x100001641 &lt;+1&gt;:  movq   %rsp, %rbp</span></span><br><span class="line"><span class="comment">    0x100001644 &lt;+4&gt;:  pushq  %r13</span></span><br><span class="line"><span class="comment">    0x100001646 &lt;+6&gt;:  subq   $0x28, %rsp</span></span><br><span class="line"><span class="comment">    0x10000164a &lt;+10&gt;: movq   $0x0, -0x10(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001652 &lt;+18&gt;: movq   $0x0, -0x18(%rbp)</span></span><br><span class="line"><span class="comment">    0x10000165a &lt;+26&gt;: movq   %rdi, -0x10(%rbp)</span></span><br><span class="line"><span class="comment">    0x10000165e &lt;+30&gt;: movq   %r13, -0x18(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001662 &lt;+34&gt;: movq   0x8(%r13), %rax</span></span><br><span class="line"><span class="comment">    0x100001666 &lt;+38&gt;: movq   %rax, %rcx</span></span><br><span class="line"><span class="comment">    0x100001669 &lt;+41&gt;: movq   %rdi, -0x20(%rbp)</span></span><br><span class="line"><span class="comment">    0x10000166d &lt;+45&gt;: movq   %r13, -0x28(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001671 &lt;+49&gt;: movq   %rax, -0x30(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001675 &lt;+53&gt;: callq  0x1000016a0               ; sudy.Shape.side.willset : Swift.Int at main.swift:4</span></span><br><span class="line"><span class="comment">    0x10000167a &lt;+58&gt;: movq   -0x28(%rbp), %rax</span></span><br><span class="line"><span class="comment">    0x10000167e &lt;+62&gt;: movq   -0x20(%rbp), %rcx</span></span><br><span class="line"><span class="comment">    0x100001682 &lt;+66&gt;: movq   %rcx, 0x8(%rax) //å¼€å§‹èµ‹å€¼</span></span><br><span class="line"><span class="comment">    0x100001686 &lt;+70&gt;: movq   -0x30(%rbp), %rdi</span></span><br><span class="line"><span class="comment">    0x10000168a &lt;+74&gt;: movq   %rax, %r13</span></span><br><span class="line"><span class="comment">    0x10000168d &lt;+77&gt;: callq  0x1000017c0               ; sudy.Shape.side.didset : Swift.Int at main.swift:7</span></span><br><span class="line"><span class="comment">    0x100001692 &lt;+82&gt;: movq   -0x30(%rbp), %rax</span></span><br><span class="line"><span class="comment">    0x100001696 &lt;+86&gt;: addq   $0x28, %rsp</span></span><br><span class="line"><span class="comment">    0x10000169a &lt;+90&gt;: popq   %r13</span></span><br><span class="line"><span class="comment">    0x10000169c &lt;+92&gt;: popq   %rbp</span></span><br><span class="line"><span class="comment">    0x10000169d &lt;+93&gt;: retq</span></span><br></pre></td></tr></table></figure><p> å¸¦æœ‰å±æ€§è§‚å¯Ÿå™¨å±æ€§inoutè°ƒç”¨æµç¨‹:</p><ol><li>é€šè¿‡så˜é‡åœ°å€ + 8 ä½æ‹¿çš„ç¬¬äºŒä¸ªå±æ€§sideçš„å†…å­˜åœ°å€,ç„¶åæ”¾åˆ°ä¸€ä¸ªä¸´æ—¶çš„å˜é‡é‡Œ</li><li>æŠŠä¸´æ—¶å˜é‡çš„åœ°å€ä¼ åˆ°testæ–¹æ³•é‡Œ</li><li>testæ–¹æ³•æ“ä½œå®Œæ¯•å,ä¸´æ—¶å˜é‡çš„å€¼æ”¹å˜äº†</li><li>æœ€åè°ƒç”¨side setæ–¹æ³•</li><li>set æ–¹æ³•å…ˆè°ƒç”¨willset.ç„¶åæ”¹å˜sideå±æ€§å€¼ æœ€åè°ƒç”¨didsetæ–¹æ³•</li></ol><h5 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> side:<span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"willSetSide"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"didSetSide"</span>, oldValue,side)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> girth:<span class="type">Int</span>&#123;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            width = newValue / side</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"setGrith"</span>, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"getGirth"</span>)</span><br><span class="line">            <span class="keyword">return</span> width * side</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"width=\(width),side=\(side), girth=\(girth)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(<span class="number">_</span> num:<span class="keyword">inout</span> Int)</span></span>  &#123;</span><br><span class="line">    num = <span class="number">20</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"test"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s = <span class="type">Shape</span>(width: <span class="number">10</span>, side: <span class="number">4</span>)</span><br><span class="line">test(&amp;s.girth)</span><br><span class="line">s.show()</span><br><span class="line"><span class="comment">//getGirth</span></span><br><span class="line"><span class="comment">//test</span></span><br><span class="line"><span class="comment">//setGrith 20</span></span><br><span class="line"><span class="comment">//getGirth</span></span><br><span class="line"><span class="comment">//width=5,side=4, girth=20</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0x1000015cd</span> <span class="string">&lt;+61&gt;:</span>  <span class="string">movq</span>   <span class="string">%rsi,</span> <span class="string">%rdi</span></span><br><span class="line">   <span class="number">0x1000015d0</span> <span class="string">&lt;+64&gt;:</span>  <span class="string">leaq</span>   <span class="number">-0x20</span><span class="string">(%rbp),</span> <span class="string">%rsi</span></span><br><span class="line">   <span class="number">0x1000015d4</span> <span class="string">&lt;+68&gt;:</span>  <span class="string">movl</span>   <span class="string">$0x21,</span> <span class="string">%edx</span></span><br><span class="line">   <span class="number">0x1000015d9</span> <span class="string">&lt;+73&gt;:</span>  <span class="string">callq</span>  <span class="number">0x100006380</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_beginAccess</span></span><br><span class="line">   <span class="number">0x1000015de</span> <span class="string">&lt;+78&gt;:</span>  <span class="string">movq</span>   <span class="number">0x6c1b</span><span class="string">(%rip),</span> <span class="string">%rdi</span>        <span class="string">;</span> <span class="attr">sudy.s :</span> <span class="string">sudy.Shape</span></span><br><span class="line">   <span class="number">0x1000015e5</span> <span class="string">&lt;+85&gt;:</span>  <span class="string">movq</span>   <span class="number">0x6c1c</span><span class="string">(%rip),</span> <span class="string">%rsi</span>        <span class="string">;</span> <span class="attr">sudy.s :</span> <span class="string">sudy.Shape</span> <span class="string">+</span> <span class="number">8</span></span><br><span class="line">   <span class="number">0x1000015ec</span> <span class="string">&lt;+92&gt;:</span>  <span class="string">callq</span>  <span class="number">0x1000019b0</span>               <span class="string">;</span> <span class="attr">sudy.Shape.girth.getter :</span> <span class="string">Swift.Int</span> <span class="string">at</span> <span class="string">main.swift:18</span> <span class="string">//è°ƒç”¨girth</span> <span class="string">getæ–¹æ³•</span> <span class="string">è·å–girthå˜é‡åœ°å€</span></span><br><span class="line">   <span class="number">0x1000015f1</span> <span class="string">&lt;+97&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x28</span><span class="string">(%rbp)</span> <span class="string">girthå˜é‡åœ°å€ç»™</span> <span class="number">-0x28</span><span class="string">(%rbp)ä¸´æ—¶å˜é‡</span> <span class="string">æ ˆç©ºé—´</span></span><br><span class="line">   <span class="number">0x1000015f5</span> <span class="string">&lt;+101&gt;:</span> <span class="string">leaq</span>   <span class="number">-0x28</span><span class="string">(%rbp),</span> <span class="string">%rdi</span> <span class="string">//</span> <span class="number">-0x28</span><span class="string">(%rbp)ä¸´æ—¶å˜é‡çš„åœ°å€å€¼ç»™</span> <span class="string">rdi</span></span><br><span class="line">   <span class="number">0x1000015f9</span> <span class="string">&lt;+105&gt;:</span> <span class="string">callq</span>  <span class="number">0x100002060</span>               <span class="string">;</span> <span class="string">sudy.test(inout</span> <span class="string">Swift.Int)</span> <span class="string">-&gt;</span> <span class="string">()</span> <span class="string">at</span> <span class="string">main.swift:28</span>        <span class="string">//è°ƒç”¨testæ–¹æ³•</span></span><br><span class="line">   <span class="number">0x1000015fe</span> <span class="string">&lt;+110&gt;:</span> <span class="string">movq</span>   <span class="number">-0x28</span><span class="string">(%rbp),</span> <span class="string">%rdi</span>   <span class="string">//ä¸´æ—¶å˜é‡é‡Œé¢çš„å€¼ç»™rdi</span> <span class="string">ä½œä¸ºå‡½æ•°å‚æ•°</span></span><br><span class="line">   <span class="number">0x100001602</span> <span class="string">&lt;+114&gt;:</span> <span class="string">leaq</span>   <span class="number">0x6bf7</span><span class="string">(%rip),</span> <span class="string">%r13</span>        <span class="string">;</span> <span class="attr">sudy.s :</span> <span class="string">sudy.Shape</span></span><br><span class="line">   <span class="number">0x100001609</span> <span class="string">&lt;+121&gt;:</span> <span class="string">callq</span>  <span class="number">0x100001b00</span>               <span class="string">;</span> <span class="attr">sudy.Shape.girth.setter :</span> <span class="string">Swift.Int</span> <span class="string">at</span> <span class="string">main.swift:13</span>  <span class="string">//è°ƒç”¨</span> <span class="string">girth</span> <span class="string">setæ–¹æ³•</span></span><br><span class="line">   <span class="number">0x10000160e</span> <span class="string">&lt;+126&gt;:</span> <span class="string">leaq</span>   <span class="number">-0x20</span><span class="string">(%rbp),</span> <span class="string">%rdi</span> </span><br><span class="line">   <span class="number">0x100001612</span> <span class="string">&lt;+130&gt;:</span> <span class="string">callq</span>  <span class="number">0x10000639e</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_endAccess</span></span><br><span class="line">   <span class="number">0x100001617</span> <span class="string">&lt;+135&gt;:</span> <span class="string">leaq</span>   <span class="number">0x6be2</span><span class="string">(%rip),</span> <span class="string">%rax</span>        <span class="string">;</span> <span class="attr">sudy.s :</span> <span class="string">sudy.Shape</span></span><br><span class="line">   <span class="number">0x10000161e</span> <span class="string">&lt;+142&gt;:</span> <span class="string">xorl</span>   <span class="string">%r8d,</span> <span class="string">%r8d</span></span><br><span class="line">   <span class="number">0x100001621</span> <span class="string">&lt;+145&gt;:</span> <span class="string">movl</span>   <span class="string">%r8d,</span> <span class="string">%ecx</span></span><br><span class="line">   <span class="number">0x100001624</span> <span class="string">&lt;+148&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rdi</span></span><br><span class="line">   <span class="number">0x100001627</span> <span class="string">&lt;+151&gt;:</span> <span class="string">leaq</span>   <span class="number">-0x40</span><span class="string">(%rbp),</span> <span class="string">%rsi</span></span><br><span class="line">   <span class="number">0x10000162b</span> <span class="string">&lt;+155&gt;:</span> <span class="string">movl</span>   <span class="string">$0x20,</span> <span class="string">%edx</span></span><br><span class="line">   <span class="number">0x100001630</span> <span class="string">&lt;+160&gt;:</span> <span class="string">callq</span>  <span class="number">0x100006380</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_beginAccess</span></span><br><span class="line">   <span class="number">0x100001635</span> <span class="string">&lt;+165&gt;:</span> <span class="string">movq</span>   <span class="number">0x6bc4</span><span class="string">(%rip),</span> <span class="string">%rdi</span>        <span class="string">;</span> <span class="attr">sudy.s :</span> <span class="string">sudy.Shape</span></span><br><span class="line">   <span class="number">0x10000163c</span> <span class="string">&lt;+172&gt;:</span> <span class="string">movq</span>   <span class="number">0x6bc5</span><span class="string">(%rip),</span> <span class="string">%rsi</span>        <span class="string">;</span> <span class="attr">sudy.s :</span> <span class="string">sudy.Shape</span> <span class="string">+</span> <span class="number">8</span></span><br><span class="line">   <span class="number">0x100001643</span> <span class="string">&lt;+179&gt;:</span> <span class="string">leaq</span>   <span class="number">-0x40</span><span class="string">(%rbp),</span> <span class="string">%rax</span></span><br><span class="line">   <span class="number">0x100001647</span> <span class="string">&lt;+183&gt;:</span> <span class="string">movq</span>   <span class="string">%rdi,</span> <span class="number">-0x58</span><span class="string">(%rbp)</span></span><br><span class="line">   <span class="number">0x10000164b</span> <span class="string">&lt;+187&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rdi</span></span><br><span class="line">   <span class="number">0x10000164e</span> <span class="string">&lt;+190&gt;:</span> <span class="string">movq</span>   <span class="string">%rsi,</span> <span class="number">-0x60</span><span class="string">(%rbp)</span></span><br></pre></td></tr></table></figure><p>è®¡ç®—å±æ€§inoutè°ƒç”¨æµç¨‹:</p><ol><li>è°ƒç”¨girthçš„getæ–¹æ³•æ‹¿åˆ°girthçš„å†…å­˜åœ°å€,ç„¶åæ”¾åˆ°ä¸€ä¸ªä¸´æ—¶çš„å˜é‡é‡Œ</li><li>æŠŠä¸´æ—¶å˜é‡çš„åœ°å€ä¼ åˆ°testæ–¹æ³•é‡Œ</li><li>testæ–¹æ³•æ“ä½œå®Œæ¯•å,ä¸´æ—¶å˜é‡çš„å€¼æ”¹å˜äº†</li><li>æœ€åè°ƒç”¨girth setæ–¹æ³•,å¹¶æŠŠä¸´æ—¶å˜é‡å½“ä½œå‚æ•°ä¼ é€’åˆ°setæ–¹æ³•é‡Œ</li></ol><hr><blockquote><p>æ€»ç»“:</p><p>å¦‚æœå®å‚æœ‰ç‰©ç†å†…å­˜åœ°å€ï¼Œä¸”æ²¡æœ‰è®¾ç½®å±æ€§è§‚å¯Ÿå™¨</p></blockquote><blockquote><p>ç›´æ¥å°†å®å‚çš„å†…å­˜åœ°å€ä¼ å…¥å‡½æ•°(å®å‚è¿›è¡Œå¼•ç”¨ä¼ é€’)</p></blockquote><blockquote><p>å¦‚æœå®å‚æ˜¯è®¡ç®—å±æ€§ æˆ–è€… è®¾ç½®äº†å±æ€§è§‚å¯Ÿå™¨</p></blockquote><blockquote><p>é‡‡å–äº†Copy In Copy Outçš„åšæ³•</p></blockquote><blockquote><p>è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå…ˆå¤åˆ¶å®å‚çš„å€¼ï¼Œäº§ç”Ÿå‰¯æœ¬ã€getã€‘</p></blockquote><blockquote><p>å°†å‰¯æœ¬çš„å†…å­˜åœ°å€ä¼ å…¥å‡½æ•°(å‰¯æœ¬è¿›è¡Œå¼•ç”¨ä¼ é€’)ï¼Œåœ¨å‡½æ•°å†…éƒ¨å¯ä»¥ä¿®æ”¹å‰¯æœ¬çš„å€¼</p></blockquote><blockquote><p>å‡½æ•°è¿”å›åï¼Œå†å°†å‰¯æœ¬çš„å€¼è¦†ç›–å®å‚çš„å€¼ã€setã€‘</p></blockquote><blockquote><p>æ€»ç»“:inoutçš„æœ¬è´¨å°±æ˜¯å¼•ç”¨ä¼ é€’(åœ°å€ä¼ é€’)</p></blockquote><h5 id="å…­-ç±»å‹å±æ€§"><a href="#å…­-ç±»å‹å±æ€§" class="headerlink" title="å…­ ç±»å‹å±æ€§"></a>å…­ ç±»å‹å±æ€§</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width:<span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> side:<span class="type">Int</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shaps</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">width</span>:<span class="title">Int</span> </span>&#123;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="number">20</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Shap</span>.<span class="built_in">count</span> = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">Shap</span>.<span class="built_in">count</span>)</span><br></pre></td></tr></table></figure><p>ç±»å‹å±æ€§: åªèƒ½é€šè¿‡ç±»å‹å»è®¿é—®,å¯ä»¥é€šè¿‡staticå®šä¹‰ç±»å‹å±æ€§,å¦‚æœæ˜¯ç±»,ä¹Ÿå¯ä»¥ç”¨å…³é”®å­—class</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num1 = <span class="number">10</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="built_in">count</span> = <span class="number">0</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="type">Car</span>.<span class="built_in">count</span> = <span class="number">11</span></span><br><span class="line"><span class="keyword">var</span> num2 = <span class="number">12</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">sudy`main:</span></span><br><span class="line">    <span class="number">0x100001030</span> <span class="string">&lt;+0&gt;:</span>  <span class="string">pushq</span>  <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100001031</span> <span class="string">&lt;+1&gt;:</span>  <span class="string">movq</span>   <span class="string">%rsp,</span> <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100001034</span> <span class="string">&lt;+4&gt;:</span>  <span class="string">subq</span>   <span class="string">$0x30,</span> <span class="string">%rsp</span></span><br><span class="line">    <span class="number">0x100001038</span> <span class="string">&lt;+8&gt;:</span>  <span class="string">movq</span>   <span class="string">$0xa,</span> <span class="number">0x62ed</span><span class="string">(%rip)</span>        <span class="string">;</span> <span class="string">lazy</span> <span class="string">cache</span> <span class="string">variable</span> <span class="string">for</span> <span class="string">type</span> <span class="string">metadata</span> <span class="string">for</span> <span class="string">Swift.Array&lt;Swift.UInt8&gt;</span> <span class="string">+</span> <span class="attr">4//num1:</span> <span class="number">0x100007330</span></span><br><span class="line">    <span class="number">0x100001043</span> <span class="string">&lt;+19&gt;:</span> <span class="string">movl</span>   <span class="string">%edi,</span> <span class="number">-0x1c</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100001046</span> <span class="string">&lt;+22&gt;:</span> <span class="string">movq</span>   <span class="string">%rsi,</span> <span class="number">-0x28</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x10000104a</span> <span class="string">&lt;+26&gt;:</span> <span class="string">callq</span>  <span class="number">0x100001110</span>               <span class="string">;</span> <span class="attr">sudy.Car.count.unsafeMutableAddressor :</span> <span class="string">Swift.Int</span> <span class="string">at</span> <span class="string">main.swift</span></span><br><span class="line">    <span class="number">0x10000104f</span> <span class="string">&lt;+31&gt;:</span> <span class="string">xorl</span>   <span class="string">%edi,</span> <span class="string">%edi</span></span><br><span class="line">    <span class="number">0x100001051</span> <span class="string">&lt;+33&gt;:</span> <span class="string">movl</span>   <span class="string">%edi,</span> <span class="string">%ecx</span></span><br><span class="line">    <span class="number">0x100001053</span> <span class="string">&lt;+35&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rsi</span></span><br><span class="line">    <span class="number">0x100001056</span> <span class="string">&lt;+38&gt;:</span> <span class="string">movq</span>   <span class="string">%rsi,</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100001059</span> <span class="string">&lt;+41&gt;:</span> <span class="string">leaq</span>   <span class="number">-0x18</span><span class="string">(%rbp),</span> <span class="string">%rsi</span></span><br><span class="line">    <span class="number">0x10000105d</span> <span class="string">&lt;+45&gt;:</span> <span class="string">movl</span>   <span class="string">$0x21,</span> <span class="string">%edx</span></span><br><span class="line">    <span class="number">0x100001062</span> <span class="string">&lt;+50&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x30</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100001066</span> <span class="string">&lt;+54&gt;:</span> <span class="string">callq</span>  <span class="number">0x1000053f0</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_beginAccess</span></span><br><span class="line">    <span class="number">0x10000106b</span> <span class="string">&lt;+59&gt;:</span> <span class="string">movq</span>   <span class="number">-0x30</span><span class="string">(%rbp),</span> <span class="string">%rax</span></span><br><span class="line"><span class="string">-&gt;</span>  <span class="number">0x10000106f</span> <span class="string">&lt;+63&gt;:</span> <span class="string">movq</span>   <span class="string">$0xb,</span> <span class="string">(%rax)</span> <span class="string">//count</span>  <span class="number">100007338</span></span><br><span class="line">    <span class="number">0x100001076</span> <span class="string">&lt;+70&gt;:</span> <span class="string">leaq</span>   <span class="number">-0x18</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x10000107a</span> <span class="string">&lt;+74&gt;:</span> <span class="string">callq</span>  <span class="number">0x100005414</span>               <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_endAccess</span></span><br><span class="line">    <span class="number">0x10000107f</span> <span class="string">&lt;+79&gt;:</span> <span class="string">xorl</span>   <span class="string">%eax,</span> <span class="string">%eax</span></span><br><span class="line">    <span class="number">0x100001081</span> <span class="string">&lt;+81&gt;:</span> <span class="string">movq</span>   <span class="string">$0xc,</span> <span class="number">0x62b4</span><span class="string">(%rip)</span>        <span class="string">;</span> <span class="attr">static sudy.Car.count :</span> <span class="string">Swift.Int</span> <span class="string">+</span> <span class="attr">4 //num2:</span> <span class="number">0x100007340</span></span><br><span class="line">    <span class="number">0x10000108c</span> <span class="string">&lt;+92&gt;:</span> <span class="string">addq</span>   <span class="string">$0x30,</span> <span class="string">%rsp</span></span><br><span class="line">    <span class="number">0x100001090</span> <span class="string">&lt;+96&gt;:</span> <span class="string">popq</span>   <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100001091</span> <span class="string">&lt;+97&gt;:</span> <span class="string">retq</span>   </span><br><span class="line">    </span><br><span class="line">    <span class="string">register</span> <span class="string">read</span> <span class="string">rax</span></span><br><span class="line">     <span class="string">rax</span> <span class="string">=</span> <span class="number">0x0000000100007338</span>  <span class="string">sudy`static</span> <span class="attr">sudy.Car.count :</span> <span class="string">Swift.Int</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">num1 :</span> <span class="number">0x100007330</span></span><br><span class="line"><span class="attr">count:</span> <span class="number">0x100007338</span> </span><br><span class="line"><span class="attr">num2:</span>  <span class="number">0x100007340</span></span><br><span class="line"><span class="string">ä¸‰ä¸ªå˜é‡å†…å­˜åœ°å€æŒ¨ç€çš„,éƒ½åœ¨å…¨å±€åŒº</span></span><br></pre></td></tr></table></figure><p>ç±»å‹å±æ€§åˆ†ä¸º:</p><ul><li><p>å­˜å‚¨ç±»å‹å±æ€§: æ•´ä¸ªç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­,å°±åªæœ‰ä¸€ä»½å†…å­˜,ç±»ä¼¼äºå…¨å±€å˜é‡,å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„,åº•å±‚è°ƒç”¨äº†dispatch_once</p></li><li><p>è®¡ç®—ç±»å‹å±æ€§</p></li></ul><h5 id="ç±»å‹å±æ€§ç»†èŠ‚"><a href="#ç±»å‹å±æ€§ç»†èŠ‚" class="headerlink" title="ç±»å‹å±æ€§ç»†èŠ‚"></a>ç±»å‹å±æ€§ç»†èŠ‚</h5><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Circle</span> &#123;</span> </span><br><span class="line">    var <span class="built_in">width</span>:Int </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Circle</span> &#123;</span></span><br><span class="line">    <span class="keyword">static</span> var <span class="built_in">width</span>:Int âŒ</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shaps</span>&#123;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> var <span class="built_in">width</span>:Int âŒ</span><br><span class="line">    init() &#123;</span><br><span class="line">        Shap.<span class="built_in">width</span> = <span class="number">0</span> âŒ <span class="comment">//ç±»å‹å±æ€§æ²¡æœ‰initåˆå§‹åŒ–å™¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·Ÿå­˜å‚¨å®ä¾‹å±æ€§ä¸åŒ,æˆ‘ä»¬å¿…é¡»ç»™å­˜å‚¨ç±»å‹å±æ€§è®¾å®šåˆå§‹å€¼,é‚£æ˜¯å› ä¸ºç±»å‹æ²¡æœ‰initåˆå§‹åŒ–å™¨æ¥åˆå§‹åŒ–ç±»å‹å±æ€§</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FileManager</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">let</span> shared = FileManager()</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">init</span>(<span class="params"></span>)</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­˜å‚¨ç±»å‹å±æ€§é»˜è®¤å°±æ˜¯lazyï¼Œä¼šåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™æ‰åˆå§‹åŒ– ,å°±ç®—è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ï¼Œä¿è¯åªä¼šåˆå§‹åŒ–ä¸€æ¬¡,å› æ­¤swiftå†™å•ä¾‹å¾ˆç®€å•</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> &#123;</span></span><br><span class="line">    <span class="keyword">case</span> west,north</span><br><span class="line">    static var num = <span class="number">10</span></span><br><span class="line">    static var <span class="symbol">hh:</span>Int &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            <span class="number">20</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">print(Direction.num) /<span class="regexp">/10</span></span><br></pre></td></tr></table></figure><p>æšä¸¾ä¹Ÿå¯ä»¥å®šä¹‰ç±»å‹å±æ€§(å­˜å‚¨ç±»å‹å±æ€§,è®¡ç®—ç±»å‹å±æ€§éƒ½å¯ä»¥).  </p><p>ä¸ºä»€ä¹ˆå¯ä»¥? </p><p>ç±»å‹å±æ€§ç±»ä¼¼äºå…¨å±€å˜é‡,å†…å­˜ä¸æ˜¯å­˜å‚¨åœ¨å¯¹è±¡å˜é‡çš„å†…å­˜é‡Œçš„,æ‰€ä»¥æšä¸¾ä¸éœ€è¦å­˜å‚¨ç±»å‹å±æ€§</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;swift å±æ€§åˆ†ä¸ºä¸¤å¤§ç±»: å®ä¾‹å±æ€§å’Œç±»å‹å±æ€§,.å®ä¾‹å±æ€§åˆåˆ†ä¸º:å­˜å‚¨å®ä¾‹å±æ€§å’Œè®¡ç®—å®ä¾‹å±æ€§, ç±»å‹å±æ€§åˆ†ä¸º: å­˜å‚¨ç±»å‹å±æ€§å’Œè®¡ç®—ç±»å‹å±æ€§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&quot;ä¸€-å®ä¾‹å­˜å‚¨å±æ€§&quot;&gt;&lt;a href=&quot;#ä¸€-å®ä¾‹å­˜å‚¨å±æ€§&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ å®ä¾‹å­˜å‚¨å±æ€§&quot;&gt;&lt;/a&gt;ä¸€ å®ä¾‹å­˜å‚¨å±æ€§&lt;/h5&gt;&lt;figure class=&quot;highlight zephir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;struct Point &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; x:&lt;span class=&quot;keyword&quot;&gt;Int&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; y:&lt;span class=&quot;keyword&quot;&gt;Int&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; p = Point(x:&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;,y:&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt;(MemoryLayout.stride(ofValue: p))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Circle&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; x:&lt;span class=&quot;keyword&quot;&gt;Int&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; y:&lt;span class=&quot;keyword&quot;&gt;Int&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    init(x:&lt;span class=&quot;keyword&quot;&gt;Int&lt;/span&gt;,y:&lt;span class=&quot;keyword&quot;&gt;Int&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.x = x&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.y = y&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç›¸å½“äºæˆå‘˜å˜é‡,å±æ€§å­˜å‚¨åœ¨å®ä¾‹çš„å†…å­˜ä¸­,åªæœ‰ç»“æ„ä½“å’Œç±»å¯ä»¥å®šä¹‰å®ä¾‹å­˜å‚¨å±æ€§,æšä¸¾ä¸å¯ä»¥å®šä¹‰å­˜å‚¨å±æ€§.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1 æšä¸¾ä¸ºä»€ä¹ˆä¸å¯ä»¥å®šä¹‰å­˜å‚¨å±æ€§å‘¢?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå­˜å‚¨å±æ€§æ˜¯å­˜å‚¨åœ¨å®ä¾‹å†…å­˜ä¸­çš„,è€Œæšä¸¾å®ä¾‹å€¼å­˜å‚¨äº†caseç›¸å…³å€¼æ ‡è¯†,æ¯”å¦‚æšä¸¾åŸå§‹å€¼,åªå 1ä¸ªå­—èŠ‚,è¿™é‡Œçš„æšä¸¾æ˜¯æ— æ³•å­˜å‚¨ä½ å®šä¹‰å…¶å®ƒécaseå˜é‡çš„&lt;/p&gt;
    
    </summary>
    
    
      <category term="swifts" scheme="http://example.com/tags/swifts/"/>
    
  </entry>
  
  <entry>
    <title>swift é—­åŒ…</title>
    <link href="http://example.com/2019/09/02/swift-%E9%97%AD%E5%8C%85/"/>
    <id>http://example.com/2019/09/02/swift-é—­åŒ…/</id>
    <published>2019-09-02T07:04:23.000Z</published>
    <updated>2020-12-05T06:41:26.860Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-é—­åŒ…çš„å®šä¹‰"><a href="#ä¸€-é—­åŒ…çš„å®šä¹‰" class="headerlink" title="ä¸€ é—­åŒ…çš„å®šä¹‰"></a>ä¸€ é—­åŒ…çš„å®šä¹‰</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">Fn</span> = (<span class="type">Int</span>) -&gt; <span class="type">Int</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getFn</span><span class="params">()</span></span> -&gt;<span class="type">Fn</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">plus</span><span class="params">(<span class="number">_</span> i:Int)</span></span> -&gt; <span class="type">Int</span>&#123;</span><br><span class="line">        num += i</span><br><span class="line">        <span class="keyword">return</span> num</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> plus</span><br><span class="line">&#125; <span class="comment">// è¿”å›çš„pluså’Œnumå½¢æˆäº†é—­åŒ…</span></span><br><span class="line"><span class="keyword">var</span> fn1 = getFn()</span><br><span class="line"><span class="built_in">print</span>(fn1(<span class="number">1</span>)) <span class="comment">//1</span></span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªå‡½æ•°å’Œå®ƒæ‰€æ•è·çš„å˜é‡æˆ–å¸¸é‡ç¯å¢ƒç»„åˆèµ·æ¥ï¼Œç§°ä¸º <strong>é—­åŒ…</strong></p><ul><li><p>ä¸€èˆ¬æŒ‡å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„å‡½æ•°</p></li><li><p>ä¸€èˆ¬å®ƒæ•è·çš„æ˜¯å¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡æˆ–å¸¸é‡</p></li></ul><a id="more"></a><h5 id="äºŒ-é—­åŒ…è¡¨è¾¾å¼"><a href="#äºŒ-é—­åŒ…è¡¨è¾¾å¼" class="headerlink" title="äºŒ é—­åŒ…è¡¨è¾¾å¼"></a>äºŒ é—­åŒ…è¡¨è¾¾å¼</h5><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">func</span> sum(_ <span class="built_in">v1</span>:Int, _ <span class="built_in">v2</span>:Int) -&gt; Int &#123;</span><br><span class="line">    <span class="built_in">v1</span> + <span class="built_in">v2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="symbol">var</span> <span class="meta">fn</span> = &#123;</span><br><span class="line">    (<span class="built_in">v1</span>:Int,<span class="built_in">v2</span>:Int) -&gt;Int in</span><br><span class="line">    return <span class="built_in">v1</span> + <span class="built_in">v2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="symbol">print</span>(<span class="meta">fn</span>(<span class="number">10</span>,<span class="number">20</span>)) //<span class="number">30</span></span><br></pre></td></tr></table></figure><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">     <span class="function"><span class="params">(å‚æ•°åˆ—è¡¨)</span> -&gt;</span> è¿”å›å€¼ç±»å‹ <span class="keyword">in</span> å‡½æ•°ä½“ä»£ç </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>swiftå®šä¹‰å‡½æ•°å¯ä»¥é€šè¿‡funcå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¿˜å¯ä»¥é€šè¿‡é—­åŒ…è¡¨è¾¾å¼æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°</p><h5 id="ä¸‰-é—­åŒ…è¡¨è¾¾å¼ç®€å†™"><a href="#ä¸‰-é—­åŒ…è¡¨è¾¾å¼ç®€å†™" class="headerlink" title="ä¸‰ é—­åŒ…è¡¨è¾¾å¼ç®€å†™"></a>ä¸‰ é—­åŒ…è¡¨è¾¾å¼ç®€å†™</h5><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">func</span> exec(<span class="built_in">v1</span>:Int,<span class="built_in">v2</span>:Int,<span class="meta">fn</span>:(Int,Int)-&gt;Int) &#123;</span><br><span class="line">    print(<span class="meta">fn</span>(<span class="built_in">v1</span>,<span class="built_in">v2</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="symbol">exec</span>(<span class="built_in">v1</span>: <span class="number">10</span>, <span class="built_in">v2</span>: <span class="number">20</span>,<span class="meta">fn</span>: &#123;  //å®Œæ•´å†™æ³•</span><br><span class="line">    (<span class="built_in">v1</span>:Int,<span class="built_in">v2</span>:Int) in</span><br><span class="line">    return <span class="built_in">v1</span> + <span class="built_in">v2</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="symbol">exec</span>(<span class="built_in">v1</span>: <span class="number">10</span>, <span class="built_in">v2</span>: <span class="number">20</span>,<span class="meta">fn</span>:&#123;  //å¯ä»¥çœç•¥å‚æ•°ç±»å‹</span><br><span class="line">    <span class="built_in">v1</span>,<span class="built_in">v2</span> in return <span class="built_in">v1</span> + <span class="built_in">v2</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="symbol">exec</span>(<span class="built_in">v1</span>: <span class="number">10</span>, <span class="built_in">v2</span>: <span class="number">20</span>, <span class="meta">fn</span>: &#123; // çœç•¥return</span><br><span class="line">    <span class="built_in">v1</span>,<span class="built_in">v2</span> in <span class="built_in">v1</span> + <span class="built_in">v2</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="symbol">exec</span>(<span class="built_in">v1</span>: <span class="number">10</span>, <span class="built_in">v2</span>: <span class="number">20</span>, <span class="meta">fn</span>: &#123; // $nuber è·å–è¾“å…¥å‚æ•°</span><br><span class="line">    <span class="number">$0</span> + <span class="number">$1</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="symbol">exec</span>(<span class="built_in">v1</span>: <span class="number">10</span>, <span class="built_in">v2</span>: <span class="number">20</span>, <span class="meta">fn</span>: +) //è¶…å˜æ€å†™æ³•ï¼Œç¼–è¯‘å™¨çŸ¥é“ä½ æ˜¯è¦ç›¸åŠ ä¸¤ä¸ªæ•°</span><br></pre></td></tr></table></figure><h5 id="å››-å°¾éšé—­åŒ…"><a href="#å››-å°¾éšé—­åŒ…" class="headerlink" title="å›› å°¾éšé—­åŒ…"></a>å›› å°¾éšé—­åŒ…</h5><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">func</span> exec(<span class="built_in">v1</span>:Int,<span class="built_in">v2</span>:Int,<span class="meta">fn</span>:(Int,Int)-&gt;Int) &#123;</span><br><span class="line">    print(<span class="meta">fn</span>(<span class="built_in">v1</span>,<span class="built_in">v2</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="symbol">exec</span>(<span class="built_in">v1</span>: <span class="number">10</span>, <span class="built_in">v2</span>: <span class="number">20</span>) &#123; (<span class="built_in">v1</span>, <span class="built_in">v2</span>) -&gt; Int in</span><br><span class="line">    <span class="built_in">v1</span> + <span class="built_in">v2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="symbol">exec</span>(<span class="built_in">v1</span>: <span class="number">10</span>, <span class="built_in">v2</span>: <span class="number">20</span>) &#123;</span><br><span class="line">    <span class="number">$0</span> + <span class="number">$1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡½æ•°è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°çš„æœ€åä¸€ä¸ªå®å‚ï¼Œæ‰å¯ä»¥ä½¿ç”¨å°¾éšé—­åŒ…</p><p>å°¾éšé—­åŒ…æ˜¯ä¸€ä¸ªè¢«ä¹¦å†™åœ¨å‡½æ•°è°ƒç”¨æ‹¬å·å¤–é¢ï¼ˆåé¢ï¼‰çš„é—­åŒ…è¡¨è¾¾å¼</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">func <span class="keyword">exec</span>(fn:(Int,Int)-&gt;Int) &#123;</span><br><span class="line">    <span class="keyword">print</span>(fn(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">exec</span>(fn: &#123; $0 + $1&#125;)</span><br><span class="line"><span class="keyword">exec</span>()&#123; $0 + $1&#125;</span><br><span class="line"><span class="keyword">exec</span>&#123; $0 + $1&#125;  <span class="comment">//çœç•¥äº†å°æ‹¬å·</span></span><br></pre></td></tr></table></figure><p>å¦‚æœé—­åŒ…è¡¨è¾¾å¼æ˜¯å‡½æ•°çš„<strong>å”¯ä¸€</strong>å®å‚ï¼Œè€Œä¸”ä½¿ç”¨äº†å°¾éšé—­åŒ…çš„è¯­æ³•ï¼Œé‚£å‡½æ•°ååé¢çš„å°æ‹¬å·ä¹Ÿå¯ä»¥çœç•¥</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">func <span class="keyword">sort</span>(<span class="keyword">by</span> areInIncreasingOrder: (Element, Element) -&gt; Bool)</span><br><span class="line">  <span class="comment">/// è¿”å›true: i1æ’åœ¨i2å‰é¢</span></span><br><span class="line"><span class="comment">/// è¿”å›false: i1æ’åœ¨i2åé¢</span></span><br><span class="line"> </span><br><span class="line">func cmp(i1: Int, i2: Int) -&gt; Bool &#123;</span><br><span class="line"><span class="comment">// å¤§çš„æ’åœ¨å‰é¢</span></span><br><span class="line">    <span class="keyword">return</span> i1 &gt; i2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">nums.<span class="keyword">sort</span>(<span class="keyword">by</span>: &#123;</span><br><span class="line">   (i1: Int, i2: Int) -&gt; Bool <span class="keyword">in</span> <span class="keyword">return</span> i1 &lt; i2</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">nums.<span class="keyword">sort</span>(<span class="keyword">by</span>: &#123; i1, i2 <span class="keyword">in</span> <span class="keyword">return</span> i1 &lt; i2 &#125;)</span><br><span class="line">nums.<span class="keyword">sort</span>(<span class="keyword">by</span>: &#123; i1, i2 <span class="keyword">in</span> i1 &lt; i2 &#125;)</span><br><span class="line">nums.<span class="keyword">sort</span>(<span class="keyword">by</span>: &#123; <span class="variable">$0</span> &lt; <span class="variable">$1</span> &#125;)</span><br><span class="line">nums.<span class="keyword">sort</span>(<span class="keyword">by</span>: &lt;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸‹é¢æ˜¯å°¾éšé—­åŒ…å†™æ³•</span></span><br><span class="line">nums.<span class="keyword">sort</span>() &#123; <span class="variable">$0</span> &lt; <span class="variable">$1</span> &#125;</span><br><span class="line">nums.<span class="keyword">sort</span> &#123; <span class="variable">$0</span> &lt; <span class="variable">$1</span> &#125;</span><br><span class="line"><span class="comment">// [2, 5, 6, 11, 18, 45, 68]</span></span><br><span class="line"><span class="keyword">var</span> nums = [11, 2, 18, 6, 5, 68, 45]</span><br><span class="line">nums.<span class="keyword">sort</span>(<span class="keyword">by</span>: cmp)</span><br><span class="line"><span class="comment">// [68, 45, 18, 11, 6, 5, 2]</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ä¸€ä¸ªæ•°ç»„æ’åºçš„ç¤ºä¾‹ï¼Œå¯ä»¥ä½¿ç”¨å°¾éšé—­åŒ…</p><h5 id="äº”-é—­åŒ…å†…å­˜ç»“æ„"><a href="#äº”-é—­åŒ…å†…å­˜ç»“æ„" class="headerlink" title="äº” é—­åŒ…å†…å­˜ç»“æ„"></a>äº” é—­åŒ…å†…å­˜ç»“æ„</h5><p>ä¸‹é¢æ˜¯ä¸€æ®µæ™®é€šçš„åµŒå¥—å‡½æ•°</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">typealias <span class="function"><span class="title">Fn</span> = <span class="params">(Int)</span> -&gt;</span> Int</span><br><span class="line">func getFn<span class="function"><span class="params">()</span> -&gt;</span>Fn &#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">    func plus<span class="function"><span class="params">(_ i:Int)</span> -&gt;</span> Int&#123;</span><br><span class="line"><span class="regexp">//        num += i</span></span><br><span class="line"><span class="regexp">//</span>        <span class="keyword">return</span> num</span><br><span class="line">          <span class="keyword">return</span> i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> plus</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fn1 = getFn()</span><br><span class="line"><span class="built_in">print</span>(fn1(<span class="number">1</span>)) <span class="regexp">//1</span></span><br></pre></td></tr></table></figure><p>åº•å±‚æ±‡ç¼–</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">test`getFn():</span><br><span class="line">    <span class="number">0x1000010b0</span> &lt;+<span class="number">0</span>&gt;:  pushq  %rbp</span><br><span class="line">    <span class="number">0x1000010b1</span> &lt;+<span class="number">1</span>&gt;:  movq   %rsp, %rbp</span><br><span class="line">    <span class="number">0x1000010b4</span> &lt;+<span class="number">4</span>&gt;:  movq   $<span class="number">0x0</span>, -<span class="number">0x8</span>(%rbp)</span><br><span class="line">-&gt;  <span class="number">0x1000010bc</span> &lt;+<span class="number">12</span>&gt;: leaq   <span class="number">0xd</span><span class="function"><span class="params">(%rip)</span>, %<span class="title">rax</span>           ; <span class="title">plus</span> #1 <span class="params">(Swift.Int)</span> -&gt;</span> Swift.Int <span class="keyword">in</span> test.getFn<span class="function"><span class="params">()</span> -&gt;</span> <span class="function"><span class="params">(Swift.Int)</span> -&gt;</span> Swift.Int at main.swift:<span class="number">4</span>//æŠŠpluså‡½æ•°åœ°å€æ”¾åˆ°rax  <span class="number">0x1000010c3</span>+<span class="number">0xd</span></span><br><span class="line">    <span class="number">0x1000010c3</span> &lt;+<span class="number">19</span>&gt;: xorl   %ecx, %ecx <span class="regexp">// æ¸…ç©ºecx  0 </span></span><br><span class="line"><span class="regexp">    0x1000010c5 &lt;+21&gt;: movl   %ecx, %edx  //</span>æŠŠ <span class="number">0</span> æ”¾åˆ°edx</span><br><span class="line">    <span class="number">0x1000010c7</span> &lt;+<span class="number">23</span>&gt;: popq   %rbp</span><br><span class="line">    <span class="number">0x1000010c8</span> &lt;+<span class="number">24</span>&gt;: retq   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="number">0x100000f94</span> &lt;+<span class="number">4</span>&gt;:   pushq  %r13</span><br><span class="line">    <span class="number">0x100000f96</span> &lt;+<span class="number">6</span>&gt;:   subq   $<span class="number">0x78</span>, %rsp</span><br><span class="line">    <span class="number">0x100000f9a</span> &lt;+<span class="number">10</span>&gt;:  movl   %edi, -<span class="number">0x24</span>(%rbp)</span><br><span class="line">    <span class="number">0x100000f9d</span> &lt;+<span class="number">13</span>&gt;:  movq   %rsi, -<span class="number">0x30</span>(%rbp)</span><br><span class="line">    <span class="number">0x100000fa1</span> &lt;+<span class="number">17</span>&gt;:  callq  <span class="number">0x1000010b0</span>              ; test.getFn<span class="function"><span class="params">()</span> -&gt;</span> <span class="function"><span class="params">(Swift.Int)</span> -&gt;</span> Swift.Int at main.swift:<span class="number">2</span> // fnå‡½æ•°è°ƒç”¨å®Œæ¯• </span><br><span class="line">-&gt;  <span class="number">0x100000fa6</span> &lt;+<span class="number">22</span>&gt;:  movq   <span class="number">0x517b</span>(%rip), %rcx        ; (<span class="literal">void</span> *)<span class="number">0x00007fff8591da50</span>: type metadata <span class="keyword">for</span> Any</span><br><span class="line">    <span class="number">0x100000fad</span> &lt;+<span class="number">29</span>&gt;:  addq   $<span class="number">0x8</span>, %rcx</span><br><span class="line">    <span class="number">0x100000fb4</span> &lt;+<span class="number">36</span>&gt;:  movq   %rax, <span class="number">0x6245</span><span class="function"><span class="params">(%rip)</span>        ; <span class="title">test</span>.<span class="title">fn1</span> : <span class="params">(Swift.Int)</span> -&gt;</span> Swift.Int æŠŠå‡½æ•°åœ°å€æ”¾åˆ°fnå‰å…«ä½åœ°å€é‡Œ</span><br><span class="line">    <span class="number">0x100000fbb</span> &lt;+<span class="number">43</span>&gt;:  movq   %rdx, <span class="number">0x6246</span><span class="function"><span class="params">(%rip)</span>        ; <span class="title">test</span>.<span class="title">fn1</span> : <span class="params">(Swift.Int)</span> -&gt;</span> Swift.Int + <span class="number">8</span> //æŠŠé›¶æ”¾åˆ°fnå˜é‡åå…«ä½åœ°å€é‡Œ</span><br><span class="line">    <span class="number">0x100000fc2</span> &lt;+<span class="number">50</span>&gt;:  movl   $<span class="number">0x1</span>, %edi</span><br><span class="line">    <span class="number">0x100000fc7</span> &lt;+<span class="number">55</span>&gt;:  movq   %rcx, %rsi</span><br><span class="line">    <span class="number">0x100000fca</span> &lt;+<span class="number">58</span>&gt;:  callq  <span class="number">0x10000544c</span>              ; symbol stub for: Swift._allocateUninitializedArray&lt;A&gt;<span class="function"><span class="params">(Builtin.Word)</span> -&gt;</span> (Swift.Array&lt;A&gt;, Builtin.RawPointer)</span><br></pre></td></tr></table></figure><p>fn1å†…å­˜å˜é‡ç»“æ„å¦‚ä¸‹ï¼š<br>fn1  =&gt;  0x100007218: 0x1000010D0<br> 0x100007220:0<br>å½“è°ƒç”¨<code>var fn1 = getFn()</code> ç³»ç»Ÿä¼šç»™fn1åˆ†é…16ä¸ªå­—èŠ‚çš„å†…å­˜å¤§å°ï¼Œå‰8ä¸ªå­—èŠ‚ç”¨æ¥å­˜æ”¾å‡½æ•°åœ°å€ï¼Œå8ä¸ªå­—èŠ‚ç”¨æ¥å­˜æ”¾ å˜é‡num</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹é—­åŒ…çš„æƒ…å†µ</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">typealias <span class="function"><span class="title">Fn</span> = <span class="params">(Int)</span> -&gt;</span> Int</span><br><span class="line">func getFn<span class="function"><span class="params">()</span> -&gt;</span>Fn &#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">    func plus<span class="function"><span class="params">(_ i:Int)</span> -&gt;</span> Int&#123;</span><br><span class="line">        num += i</span><br><span class="line">        <span class="keyword">return</span> num</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> plus</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fn1 = getFn()</span><br><span class="line"><span class="built_in">print</span>(fn1(<span class="number">1</span>)) <span class="regexp">//1</span></span><br></pre></td></tr></table></figure><p>åº•å±‚æ±‡ç¼–</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">test`getFn():</span></span><br><span class="line">    <span class="number">0x100000f20</span> <span class="string">&lt;+0&gt;:</span>  <span class="string">pushq</span>  <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100000f21</span> <span class="string">&lt;+1&gt;:</span>  <span class="string">movq</span>   <span class="string">%rsp,</span> <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100000f24</span> <span class="string">&lt;+4&gt;:</span>  <span class="string">subq</span>   <span class="string">$0x20,</span> <span class="string">%rsp</span></span><br><span class="line">    <span class="number">0x100000f28</span> <span class="string">&lt;+8&gt;:</span>  <span class="string">leaq</span>   <span class="number">0x5229</span><span class="string">(%rip),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100000f2f</span> <span class="string">&lt;+15&gt;:</span> <span class="string">movl</span>   <span class="string">$0x18,</span> <span class="string">%esi</span> <span class="string">//å †ç©ºé—´å¤§å°ï¼Œéœ€è¦24</span> <span class="string">ä½†æ˜¯allocå…·ä½“åˆ†é…å¤šå°‘æœ‰æ“ä½œç³»ç»Ÿå†³å®š</span> <span class="string">ios</span> <span class="number">16</span><span class="string">çš„å€æ•°</span> <span class="string">è¿™é‡Œæ˜¯32</span> </span><br><span class="line">    <span class="number">0x100000f34</span> <span class="string">&lt;+20&gt;:</span> <span class="string">movl</span>   <span class="string">$0x7,</span> <span class="string">%edx</span>  <span class="string">//</span> <span class="number">1</span><span class="string">èµ‹å€¼</span></span><br><span class="line">    <span class="number">0x100000f39</span> <span class="string">&lt;+25&gt;:</span> <span class="string">callq</span>  <span class="number">0x10000544c</span>              <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_allocObject</span> <span class="string">//è°ƒç”¨alloc</span> <span class="string">åˆ†é…å †ç©ºé—´</span> <span class="string">ç”¨æ¥æ”¾</span> <span class="string">num</span></span><br><span class="line">    <span class="number">0x100000f3e</span> <span class="string">&lt;+30&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rcx</span> <span class="string">//</span> <span class="string">rax</span> <span class="string">å­˜æ”¾çš„æ˜¯ç”³è¯·çš„å †ç©ºé—´çš„åœ°å€å€¼</span></span><br><span class="line">    <span class="number">0x100000f41</span> <span class="string">&lt;+33&gt;:</span> <span class="string">addq</span>   <span class="string">$0x10,</span> <span class="string">%rcx</span></span><br><span class="line">    <span class="number">0x100000f45</span> <span class="string">&lt;+37&gt;:</span> <span class="string">movq</span>   <span class="string">%rcx,</span> <span class="string">%rdx</span></span><br><span class="line">    <span class="number">0x100000f48</span> <span class="string">&lt;+40&gt;:</span> <span class="string">movq</span>   <span class="string">$0x0,</span> <span class="number">0x10</span><span class="string">(%rax)</span> <span class="string">//æŠŠé›¶å­˜æ”¾åˆ°å †ç©ºé—´</span> <span class="number">16</span><span class="string">ä½åçš„åœ°å€</span> <span class="string">å…¶å®ç”³è¯·çš„è¿™å—å †ç©ºé—´</span> <span class="string">è·Ÿå¯¹è±¡çš„ç»“æ„ç±»ä¼¼</span> <span class="number">24</span> <span class="string">å‰8</span> <span class="string">ç±»å‹ä¿¡æ¯</span> <span class="string">ä¸­8</span> <span class="string">å¼•ç”¨è®¡æ•°ç›¸å…³</span> <span class="string">å8</span> <span class="string">å­˜æ”¾num</span></span><br><span class="line"><span class="string">-&gt;</span>  <span class="number">0x100000f50</span> <span class="string">&lt;+48&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100000f53</span> <span class="string">&lt;+51&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x8</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100000f57</span> <span class="string">&lt;+55&gt;:</span> <span class="string">movq</span>   <span class="string">%rcx,</span> <span class="number">-0x10</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100000f5b</span> <span class="string">&lt;+59&gt;:</span> <span class="string">callq</span>  <span class="number">0x1000054b8</span>              <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_retain</span></span><br><span class="line">    <span class="number">0x100000f60</span> <span class="string">&lt;+64&gt;:</span> <span class="string">movq</span>   <span class="number">-0x8</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100000f64</span> <span class="string">&lt;+68&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x18</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100000f68</span> <span class="string">&lt;+72&gt;:</span> <span class="string">callq</span>  <span class="number">0x1000054b2</span>              <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_release</span></span><br><span class="line">    <span class="number">0x100000f6d</span> <span class="string">&lt;+77&gt;:</span> <span class="string">movq</span>   <span class="number">-0x10</span><span class="string">(%rbp),</span> <span class="string">%rax</span></span><br><span class="line">    <span class="number">0x100000f71</span> <span class="string">&lt;+81&gt;:</span> <span class="string">leaq</span>   <span class="number">0x178</span><span class="string">(%rip),</span> <span class="string">%rax</span>         <span class="string">;</span> <span class="string">partial</span> <span class="string">apply</span> <span class="string">forwarder</span> <span class="string">for</span> <span class="string">plus</span> <span class="comment">#1 (Swift.Int) -&gt; Swift.Int in test.getFn() -&gt; (Swift.Int) -&gt; Swift.Int at &lt;compiler-generated&gt; //å‡½æ•°åœ°å€ç»™äº†rax</span></span><br><span class="line">    <span class="number">0x100000f78</span> <span class="string">&lt;+88&gt;:</span> <span class="string">movq</span>   <span class="number">-0x8</span><span class="string">(%rbp),</span> <span class="string">%rdx</span> <span class="string">//å †ç©ºé—´åœ°å€å€¼ç»™äº†rdx</span></span><br><span class="line">    <span class="number">0x100000f7c</span> <span class="string">&lt;+92&gt;:</span> <span class="string">addq</span>   <span class="string">$0x20,</span> <span class="string">%rsp</span></span><br><span class="line">    <span class="number">0x100000f80</span> <span class="string">&lt;+96&gt;:</span> <span class="string">popq</span>   <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100000f81</span> <span class="string">&lt;+97&gt;:</span> <span class="string">retq</span>   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="number">0x100000e11</span> <span class="string">&lt;+17&gt;:</span>  <span class="string">callq</span>  <span class="number">0x100000f20</span>              <span class="string">;</span> <span class="string">test.getFn()</span> <span class="string">-&gt;</span> <span class="string">(Swift.Int)</span> <span class="string">-&gt;</span> <span class="string">Swift.Int</span> <span class="string">at</span> <span class="string">main.swift:2</span></span><br><span class="line"><span class="string">-&gt;</span>  <span class="number">0x100000e16</span> <span class="string">&lt;+22&gt;:</span>  <span class="string">movq</span>   <span class="number">0x530b</span><span class="string">(%rip),</span> <span class="string">%rcx</span>        <span class="string">;</span> <span class="string">(void</span> <span class="string">*)0x00007fff8591da50:</span> <span class="string">type</span> <span class="string">metadata</span> <span class="string">for</span> <span class="string">Any</span></span><br><span class="line">    <span class="number">0x100000e1d</span> <span class="string">&lt;+29&gt;:</span>  <span class="string">addq</span>   <span class="string">$0x8,</span> <span class="string">%rcx</span></span><br><span class="line">    <span class="number">0x100000e24</span> <span class="string">&lt;+36&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">0x63e5</span><span class="string">(%rip)</span>        <span class="string">;</span> <span class="attr">test.fn1 :</span> <span class="string">(Swift.Int)</span> <span class="string">-&gt;</span> <span class="string">Swift.Int</span> <span class="string">//å‡½æ•°åœ°å€æ”¾fnå‰å…«ä½</span></span><br><span class="line">    <span class="number">0x100000e2b</span> <span class="string">&lt;+43&gt;:</span>  <span class="string">movq</span>   <span class="string">%rdx,</span> <span class="number">0x63e6</span><span class="string">(%rip)</span>        <span class="string">;</span> <span class="attr">test.fn1 :</span> <span class="string">(Swift.Int)</span> <span class="string">-&gt;</span> <span class="string">Swift.Int</span> <span class="string">+</span> <span class="number">8</span><span class="string">//</span> <span class="string">å †ç©ºé—´åœ°å€æ”¾fnåå…«ä½</span></span><br><span class="line">    <span class="number">0x100000e32</span> <span class="string">&lt;+50&gt;:</span>  <span class="string">movl</span>   <span class="string">$0x1,</span> <span class="string">%edi</span></span><br><span class="line">    <span class="number">0x100000e37</span> <span class="string">&lt;+55&gt;:</span>  <span class="string">movq</span>   <span class="string">%rcx,</span> <span class="string">%rsi</span></span><br><span class="line">    <span class="number">0x100000e3a</span> <span class="string">&lt;+58&gt;:</span>  <span class="string">callq</span>  <span class="number">0x10000541c</span>              <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">Swift._allocateUninitializedArray&lt;A&gt;(Builtin.Word)</span> <span class="string">-&gt;</span> <span class="string">(Swift.Array&lt;A&gt;,</span> <span class="string">Builtin.RawPointer)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">//fn1å¦‚ä½•è·å–num1</span> <span class="string">å¹¶æ“ä½œå®ƒçš„</span> <span class="string">å…¶å®plusæœ‰ä¸¤ä¸ªå‚æ•°plus(_</span> <span class="string">i:Int</span> <span class="string">,numåˆ†é…çš„å †åœ°å€å€¼)</span></span><br><span class="line">  <span class="number">0x100000cde</span> <span class="string">&lt;+78&gt;:</span>  <span class="string">movq</span>   <span class="number">0x6533</span><span class="string">(%rip),</span> <span class="string">%rax</span>        <span class="string">;</span> <span class="attr">test.fn1 :</span> <span class="string">(Swift.Int)</span> <span class="string">-&gt;</span> <span class="string">Swift.Int</span></span><br><span class="line">    <span class="number">0x100000ce5</span> <span class="string">&lt;+85&gt;:</span>  <span class="string">movq</span>   <span class="number">0x6534</span><span class="string">(%rip),</span> <span class="string">%rcx</span>        <span class="string">;</span> <span class="attr">test.fn1 :</span> <span class="string">(Swift.Int)</span> <span class="string">-&gt;</span> <span class="string">Swift.Int</span> <span class="string">+</span> <span class="number">8</span></span><br><span class="line">    <span class="number">0x100000cec</span> <span class="string">&lt;+92&gt;:</span>  <span class="string">movq</span>   <span class="string">%rcx,</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100000cef</span> <span class="string">&lt;+95&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x58</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100000cf3</span> <span class="string">&lt;+99&gt;:</span>  <span class="string">movq</span>   <span class="string">%rcx,</span> <span class="number">-0x60</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100000cf7</span> <span class="string">&lt;+103&gt;:</span> <span class="string">callq</span>  <span class="number">0x100005498</span>              <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_retain</span></span><br><span class="line">    <span class="number">0x100000cfc</span> <span class="string">&lt;+108&gt;:</span> <span class="string">leaq</span>   <span class="number">-0x20</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100000d00</span> <span class="string">&lt;+112&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x68</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100000d04</span> <span class="string">&lt;+116&gt;:</span> <span class="string">callq</span>  <span class="number">0x10000545c</span>              <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_endAccess</span></span><br><span class="line">    <span class="number">0x100000d09</span> <span class="string">&lt;+121&gt;:</span> <span class="string">movl</span>   <span class="string">$0x1,</span> <span class="string">%edi</span></span><br><span class="line">    <span class="number">0x100000d0e</span> <span class="string">&lt;+126&gt;:</span> <span class="string">movq</span>   <span class="number">-0x60</span><span class="string">(%rbp),</span> <span class="string">%r13</span>   <span class="string">//å–fn1å8ä¸ªå­—èŠ‚ï¼Œå †ç©ºé—´åœ°å€å€¼</span></span><br><span class="line">    <span class="number">0x100000d12</span> <span class="string">&lt;+130&gt;:</span> <span class="string">movq</span>   <span class="number">-0x58</span><span class="string">(%rbp),</span> <span class="string">%rax</span>   <span class="string">//å–fn1å‰8ä¸ªå­—èŠ‚</span> <span class="string">ï¼Œå‡½æ•°åœ°å€å€¼</span></span><br><span class="line">    <span class="number">0x100000d16</span> <span class="string">&lt;+134&gt;:</span> <span class="string">callq</span>  <span class="string">*%rax</span>   <span class="string">//è°ƒç”¨å‡½æ•°</span></span><br><span class="line">    <span class="number">0x100000d18</span> <span class="string">&lt;+136&gt;:</span> <span class="string">movq</span>   <span class="number">-0x60</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100000d1c</span> <span class="string">&lt;+140&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x70</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100000d20</span> <span class="string">&lt;+144&gt;:</span> <span class="string">callq</span>  <span class="number">0x100005492</span>              <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_release</span></span><br><span class="line">    <span class="number">0x100000d25</span> <span class="string">&lt;+149&gt;:</span> <span class="string">movq</span>   <span class="number">0x53fc</span><span class="string">(%rip),</span> <span class="string">%rax</span>        <span class="string">;</span> <span class="string">(void</span> <span class="string">*)</span></span><br></pre></td></tr></table></figure><p>è§£æå¦‚ä¸‹ï¼š</p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">      rax <span class="number">0</span>x0000<span class="number">000100001150</span> å‡½æ•°åœ°å€ </span><br><span class="line">      rdx <span class="number">0</span>x0000<span class="number">000100655180</span> å †ç©ºé—´åœ°å€</span><br><span class="line"></span><br><span class="line">fn1 =&gt; <span class="number">0x100007210</span>:<span class="number">0</span>x0000<span class="number">000100001150</span>  å‡½æ•°åœ°å€</span><br><span class="line">       <span class="number">0x100007218</span>:<span class="number">0</span>x0000<span class="number">000100655180</span> å †ç©ºé—´åœ°å€   </span><br><span class="line">                                                =&gt;   <span class="number">0x100655180</span>: <span class="number">0</span>x0000<span class="number">000100006180</span> //å¯¹è±¡ç±»å‹ä¿¡æ¯ <span class="number">0</span>x00000<span class="number">00000000002</span> //å¼•ç”¨è®¡æ•°</span><br><span class="line">                                                     <span class="number">0x100655190</span>: <span class="number">0</span>x00000<span class="number">00000000000</span> //num</span><br></pre></td></tr></table></figure><p>å½“è°ƒç”¨<code>var fn1 = getFn()</code>æ—¶ç³»ç»Ÿä¹Ÿä¼šä¸ºfn1åˆ†é…16ä¸ªå­—èŠ‚å¤§å°çš„å†…å­˜ï¼Œå‰8ä¸ªå­—èŠ‚æŒ‡å‘å‡½æ•°åœ°å€ï¼Œåå…«ä¸ªå­—èŠ‚æŒ‡å‘å †å†…å­˜åœ°å€ï¼Œè¿™ä¸ªå †å†…å­˜ç»“æ„ä¸ç±»ç›¸ä¼¼ï¼Œæœ‰24ä¸ªå­—èŠ‚ï¼Œå‰å…«ä¸ªå­—èŠ‚æ˜¯å¯¹è±¡ç±»å‹ä¿¡æ¯ï¼Œä¸­8ä¸ªå­—èŠ‚æ˜¯å¼•ç”¨è®¡æ•°ç›¸å…³çš„æ•°æ®ï¼Œå8ä¸ªå­—èŠ‚å­˜æ”¾çš„æ˜¯num</p><h5 id="é—­åŒ…æ•è·å˜é‡çš„æ—¶æœº"><a href="#é—­åŒ…æ•è·å˜é‡çš„æ—¶æœº" class="headerlink" title="é—­åŒ…æ•è·å˜é‡çš„æ—¶æœº"></a>é—­åŒ…æ•è·å˜é‡çš„æ—¶æœº</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">Fn</span> = (<span class="type">Int</span>) -&gt; <span class="type">Int</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getFn</span><span class="params">()</span></span> -&gt;<span class="type">Fn</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">plus</span><span class="params">(<span class="number">_</span> i:Int)</span></span> -&gt; <span class="type">Int</span>&#123;</span><br><span class="line">        num += i</span><br><span class="line">        <span class="keyword">return</span> num</span><br><span class="line">    &#125;</span><br><span class="line">    num = <span class="number">14</span></span><br><span class="line">    <span class="keyword">return</span> plus</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fn1 = getFn()</span><br><span class="line">fn1(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="type">MemoryLayout</span>.<span class="built_in">stride</span>(ofValue: fn1)) <span class="comment">//16</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">test`getFn():</span></span><br><span class="line">    <span class="number">0x100000e80</span> <span class="string">&lt;+0&gt;:</span>   <span class="string">pushq</span>  <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100000e81</span> <span class="string">&lt;+1&gt;:</span>   <span class="string">movq</span>   <span class="string">%rsp,</span> <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100000e84</span> <span class="string">&lt;+4&gt;:</span>   <span class="string">subq</span>   <span class="string">$0x20,</span> <span class="string">%rsp</span></span><br><span class="line">    <span class="number">0x100000e88</span> <span class="string">&lt;+8&gt;:</span>   <span class="string">leaq</span>   <span class="number">0x52f1</span><span class="string">(%rip),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100000e8f</span> <span class="string">&lt;+15&gt;:</span>  <span class="string">movl</span>   <span class="string">$0x18,</span> <span class="string">%esi</span></span><br><span class="line">    <span class="number">0x100000e94</span> <span class="string">&lt;+20&gt;:</span>  <span class="string">movl</span>   <span class="string">$0x7,</span> <span class="string">%edx</span></span><br><span class="line">    <span class="number">0x100000e99</span> <span class="string">&lt;+25&gt;:</span>  <span class="string">callq</span>  <span class="number">0x10000542c</span>              <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_allocObject</span></span><br><span class="line">    <span class="number">0x100000e9e</span> <span class="string">&lt;+30&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rcx</span></span><br><span class="line">    <span class="number">0x100000ea1</span> <span class="string">&lt;+33&gt;:</span>  <span class="string">addq</span>   <span class="string">$0x10,</span> <span class="string">%rcx</span></span><br><span class="line">    <span class="number">0x100000ea5</span> <span class="string">&lt;+37&gt;:</span>  <span class="string">movq</span>   <span class="string">%rcx,</span> <span class="string">%rdx</span></span><br><span class="line">    <span class="number">0x100000ea8</span> <span class="string">&lt;+40&gt;:</span>  <span class="string">movq</span>   <span class="string">$0x0,</span> <span class="number">0x10</span><span class="string">(%rax)</span>  <span class="string">//</span> <span class="string">å…ˆæŠŠ0</span> <span class="string">ç»™num</span></span><br><span class="line">    <span class="number">0x100000eb0</span> <span class="string">&lt;+48&gt;:</span>  <span class="string">movq</span>   <span class="string">$0xe,</span> <span class="number">0x10</span><span class="string">(%rax)</span>  <span class="string">//</span> <span class="string">ç„¶ååˆæŠŠ14ç»™num</span></span><br><span class="line"><span class="string">-&gt;</span>  <span class="number">0x100000eb8</span> <span class="string">&lt;+56&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100000ebb</span> <span class="string">&lt;+59&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x8</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100000ebf</span> <span class="string">&lt;+63&gt;:</span>  <span class="string">movq</span>   <span class="string">%rcx,</span> <span class="number">-0x10</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100000ec3</span> <span class="string">&lt;+67&gt;:</span>  <span class="string">callq</span>  <span class="number">0x100005498</span>              <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_retain</span></span><br><span class="line">    <span class="number">0x100000ec8</span> <span class="string">&lt;+72&gt;:</span>  <span class="string">movq</span>   <span class="number">-0x8</span><span class="string">(%rbp),</span> <span class="string">%rdi</span></span><br><span class="line">    <span class="number">0x100000ecc</span> <span class="string">&lt;+76&gt;:</span>  <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x18</span><span class="string">(%rbp)</span></span><br><span class="line">    <span class="number">0x100000ed0</span> <span class="string">&lt;+80&gt;:</span>  <span class="string">callq</span>  <span class="number">0x100005492</span>              <span class="string">;</span> <span class="attr">symbol stub for:</span> <span class="string">swift_release</span></span><br><span class="line">    <span class="number">0x100000ed5</span> <span class="string">&lt;+85&gt;:</span>  <span class="string">movq</span>   <span class="number">-0x10</span><span class="string">(%rbp),</span> <span class="string">%rax</span></span><br><span class="line">    <span class="number">0x100000ed9</span> <span class="string">&lt;+89&gt;:</span>  <span class="string">leaq</span>   <span class="number">0x270</span><span class="string">(%rip),</span> <span class="string">%rax</span>         <span class="string">;</span> <span class="string">partial</span> <span class="string">apply</span> <span class="string">forwarder</span> <span class="string">for</span> <span class="string">plus</span> <span class="comment">#1 (Swift.Int) -&gt; Swift.Int in test.getFn() -&gt; (Swift.Int) -&gt; Swift.Int at &lt;compiler-generated&gt;</span></span><br><span class="line">    <span class="number">0x100000ee0</span> <span class="string">&lt;+96&gt;:</span>  <span class="string">movq</span>   <span class="number">-0x8</span><span class="string">(%rbp),</span> <span class="string">%rdx</span></span><br><span class="line">    <span class="number">0x100000ee4</span> <span class="string">&lt;+100&gt;:</span> <span class="string">addq</span>   <span class="string">$0x20,</span> <span class="string">%rsp</span></span><br><span class="line">    <span class="number">0x100000ee8</span> <span class="string">&lt;+104&gt;:</span> <span class="string">popq</span>   <span class="string">%rbp</span></span><br><span class="line">    <span class="number">0x100000ee9</span> <span class="string">&lt;+105&gt;:</span> <span class="string">retq</span></span><br></pre></td></tr></table></figure><p>åœ¨è°ƒç”¨å‡½æ•°é‡Œé¢è¿”å›å‡½æ•°è¡¨è¾¾å¼æ—¶å¼€å§‹æ•è·å†…éƒ¨å¼•ç”¨åˆ°çš„å˜é‡</p><h5 id="é—­åŒ…å†…éƒ¨æœ‰å¤šä¸ªå˜é‡æ—¶å˜é‡æ˜¯å¦‚ä½•æ•è·çš„"><a href="#é—­åŒ…å†…éƒ¨æœ‰å¤šä¸ªå˜é‡æ—¶å˜é‡æ˜¯å¦‚ä½•æ•è·çš„" class="headerlink" title="é—­åŒ…å†…éƒ¨æœ‰å¤šä¸ªå˜é‡æ—¶å˜é‡æ˜¯å¦‚ä½•æ•è·çš„"></a>é—­åŒ…å†…éƒ¨æœ‰å¤šä¸ªå˜é‡æ—¶å˜é‡æ˜¯å¦‚ä½•æ•è·çš„</h5><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">typealias Fn = (Int) -&gt; (Int, Int)</span><br><span class="line">func getFns() -&gt; (Fn, Fn) &#123;</span><br><span class="line"><span class="selector-tag">var</span> num1 = <span class="number">0</span></span><br><span class="line"><span class="selector-tag">var</span> num2 = <span class="number">0</span></span><br><span class="line">    func plus(_ <span class="selector-tag">i</span>: Int) -&gt; (Int, Int) &#123;</span><br><span class="line">            num1 += i</span><br><span class="line">            num2 += <span class="selector-tag">i</span> &lt;&lt; <span class="number">1</span></span><br><span class="line">            return (num1, num2)</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    func minus(_ <span class="selector-tag">i</span>: Int) -&gt; (Int, Int) &#123;</span><br><span class="line">       num1 -= i</span><br><span class="line">       num2 -= <span class="selector-tag">i</span> &lt;&lt; <span class="number">1</span></span><br><span class="line">        return (num1, num2)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return (plus, minus)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let (<span class="selector-tag">p</span>, m) = getFns()</span><br><span class="line"><span class="function"><span class="title">p</span><span class="params">(<span class="number">5</span>)</span></span> <span class="comment">// (5, 10)</span></span><br><span class="line"><span class="function"><span class="title">m</span><span class="params">(<span class="number">4</span>)</span></span> <span class="comment">// (1, 2)</span></span><br><span class="line"><span class="function"><span class="title">p</span><span class="params">(<span class="number">3</span>)</span></span> <span class="comment">// (4, 8)</span></span><br><span class="line"><span class="function"><span class="title">m</span><span class="params">(<span class="number">2</span>)</span></span> <span class="comment">// (2, 4)</span></span><br></pre></td></tr></table></figure><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">test`getFns():</span><br><span class="line">    <span class="number">0x100001790</span> &lt;+<span class="number">0</span>&gt;:   pushq  <span class="symbol">%rbp</span></span><br><span class="line">    <span class="number">0x100001791</span> &lt;+<span class="number">1</span>&gt;:   movq   <span class="symbol">%rsp</span>, <span class="symbol">%rbp</span></span><br><span class="line">    <span class="number">0x100001794</span> &lt;+<span class="number">4</span>&gt;:   subq   $<span class="number">0x70</span>, <span class="symbol">%rsp</span></span><br><span class="line">    <span class="number">0x100001798</span> &lt;+<span class="number">8</span>&gt;:   leaq   <span class="number">0x69b1</span>(<span class="symbol">%rip</span>), <span class="symbol">%rax</span></span><br><span class="line">    <span class="number">0x10000179f</span> &lt;+<span class="number">15</span>&gt;:  movl   $<span class="number">0x18</span>, <span class="symbol">%ecx</span></span><br><span class="line">    <span class="number">0x1000017a4</span> &lt;+<span class="number">20</span>&gt;:  movl   $<span class="number">0x7</span>, <span class="symbol">%edx</span></span><br><span class="line">    <span class="number">0x1000017a9</span> &lt;+<span class="number">25</span>&gt;:  movq   <span class="symbol">%rax</span>, <span class="symbol">%rdi</span></span><br><span class="line">    <span class="number">0x1000017ac</span> &lt;+<span class="number">28</span>&gt;:  movq   <span class="symbol">%rcx</span>, <span class="symbol">%rsi</span></span><br><span class="line">    <span class="number">0x1000017af</span> &lt;+<span class="number">31</span>&gt;:  movq   <span class="symbol">%rdx</span>, <span class="number">-0</span><span class="keyword">x</span><span class="number">8</span>(<span class="symbol">%rbp</span>)</span><br><span class="line">    <span class="number">0x1000017b3</span> &lt;+<span class="number">35</span>&gt;:  movq   <span class="symbol">%rax</span>, <span class="number">-0</span><span class="keyword">x</span><span class="number">10</span>(<span class="symbol">%rbp</span>)</span><br><span class="line">    <span class="number">0x1000017b7</span> &lt;+<span class="number">39</span>&gt;:  movq   <span class="symbol">%rcx</span>, <span class="number">-0</span><span class="keyword">x</span><span class="number">18</span>(<span class="symbol">%rbp</span>)</span><br><span class="line">    <span class="number">0x1000017bb</span> &lt;+<span class="number">43</span>&gt;:  callq  <span class="number">0x100007406</span>               <span class="comment">; symbol stub for: swift_allocObject  //ç”Ÿæˆå †å†…å­˜ç©ºé—´</span></span><br><span class="line"><span class="comment">    0x1000017c0 &lt;+48&gt;:  movq   %rax, %rcx</span></span><br><span class="line"><span class="comment">    0x1000017c3 &lt;+51&gt;:  addq   $0x10, %rcx</span></span><br><span class="line"><span class="comment">    0x1000017c7 &lt;+55&gt;:  movq   %rcx, %rdx</span></span><br><span class="line"><span class="comment">    0x1000017ca &lt;+58&gt;:  movq   $0x0, 0x10(%rax)</span></span><br><span class="line"><span class="comment">    0x1000017d2 &lt;+66&gt;:  movq   -0x10(%rbp), %rdi</span></span><br><span class="line"><span class="comment">    0x1000017d6 &lt;+70&gt;:  movq   -0x18(%rbp), %rsi</span></span><br><span class="line"><span class="comment">    0x1000017da &lt;+74&gt;:  movq   -0x8(%rbp), %rdx</span></span><br><span class="line"><span class="comment">    0x1000017de &lt;+78&gt;:  movq   %rax, -0x20(%rbp)</span></span><br><span class="line"><span class="comment">    0x1000017e2 &lt;+82&gt;:  movq   %rcx, -0x28(%rbp)</span></span><br><span class="line"><span class="comment">    0x1000017e6 &lt;+86&gt;:  callq  0x100007406               ; symbol stub for: swift_allocObject  //ç”Ÿæˆå †å†…å­˜ç©ºé—´</span></span><br><span class="line"><span class="comment">    0x1000017eb &lt;+91&gt;:  movq   %rax, %rcx</span></span><br><span class="line"><span class="comment">    0x1000017ee &lt;+94&gt;:  addq   $0x10, %rcx</span></span><br><span class="line"><span class="comment">    0x1000017f2 &lt;+98&gt;:  movq   %rcx, %rdx</span></span><br><span class="line"><span class="comment">    0x1000017f5 &lt;+101&gt;: movq   $0x0, 0x10(%rax)</span></span><br><span class="line"><span class="comment">    0x1000017fd &lt;+109&gt;: movq   -0x20(%rbp), %rdi</span></span><br><span class="line"><span class="comment">    0x100001801 &lt;+113&gt;: movq   %rax, -0x30(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001805 &lt;+117&gt;: movq   %rcx, -0x38(%rbp)</span></span><br><span class="line"><span class="comment">-&gt;  0x100001809 &lt;+121&gt;: callq  0x100007472               ; symbol stub for: swift_retain</span></span><br><span class="line"><span class="comment">    0x10000180e &lt;+126&gt;: movq   -0x30(%rbp), %rdi</span></span><br><span class="line"><span class="comment">    0x100001812 &lt;+130&gt;: movq   %rax, -0x40(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001816 &lt;+134&gt;: callq  0x100007472               ; symbol stub for: swift_retain</span></span><br><span class="line"><span class="comment">    0x10000181b &lt;+139&gt;: leaq   0x6956(%rip), %rdi</span></span><br><span class="line"><span class="comment">    0x100001822 &lt;+146&gt;: movl   $0x20, %ecx</span></span><br><span class="line"><span class="comment">    0x100001827 &lt;+151&gt;: movq   %rcx, %rsi</span></span><br><span class="line"><span class="comment">    0x10000182a &lt;+154&gt;: movq   -0x8(%rbp), %rdx</span></span><br><span class="line"><span class="comment">    0x10000182e &lt;+158&gt;: movq   %rax, -0x48(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001832 &lt;+162&gt;: movq   %rcx, -0x50(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001836 &lt;+166&gt;: callq  0x100007406               ; symbol stub for: swift_allocObject</span></span><br><span class="line"><span class="comment">    0x10000183b &lt;+171&gt;: movq   -0x20(%rbp), %rcx</span></span><br><span class="line"><span class="comment">    0x10000183f &lt;+175&gt;: movq   %rcx, 0x10(%rax)</span></span><br><span class="line"><span class="comment">    0x100001843 &lt;+179&gt;: movq   -0x30(%rbp), %rdx</span></span><br><span class="line"><span class="comment">    0x100001847 &lt;+183&gt;: movq   %rdx, 0x18(%rax)</span></span><br><span class="line"><span class="comment">    0x10000184b &lt;+187&gt;: movq   %rcx, %rdi</span></span><br><span class="line"><span class="comment">    0x10000184e &lt;+190&gt;: movq   %rax, -0x58(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001852 &lt;+194&gt;: callq  0x100007472               ; symbol stub for: swift_retain</span></span><br><span class="line"><span class="comment">    0x100001857 &lt;+199&gt;: movq   -0x30(%rbp), %rdi</span></span><br><span class="line"><span class="comment">    0x10000185b &lt;+203&gt;: movq   %rax, -0x60(%rbp)</span></span><br><span class="line"><span class="comment">    0x10000185f &lt;+207&gt;: callq  0x100007472               ; symbol stub for: swift_retain</span></span><br><span class="line"><span class="comment">    0x100001864 &lt;+212&gt;: leaq   0x6935(%rip), %rdi</span></span><br><span class="line"><span class="comment">    0x10000186b &lt;+219&gt;: movq   -0x50(%rbp), %rsi</span></span><br><span class="line"><span class="comment">    0x10000186f &lt;+223&gt;: movq   -0x8(%rbp), %rdx</span></span><br><span class="line"><span class="comment">    0x100001873 &lt;+227&gt;: movq   %rax, -0x68(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001877 &lt;+231&gt;: callq  0x100007406               ; symbol stub for: swift_allocObject</span></span><br><span class="line"><span class="comment">    0x10000187c &lt;+236&gt;: movq   -0x20(%rbp), %rcx</span></span><br><span class="line"><span class="comment">    0x100001880 &lt;+240&gt;: movq   %rcx, 0x10(%rax)</span></span><br><span class="line"><span class="comment">    0x100001884 &lt;+244&gt;: movq   -0x30(%rbp), %rdx</span></span><br><span class="line"><span class="comment">    0x100001888 &lt;+248&gt;: movq   %rdx, 0x18(%rax)</span></span><br><span class="line"><span class="comment">    0x10000188c &lt;+252&gt;: movq   %rdx, %rdi</span></span><br><span class="line"><span class="comment">    0x10000188f &lt;+255&gt;: movq   %rax, -0x70(%rbp)</span></span><br><span class="line"><span class="comment">    0x100001893 &lt;+259&gt;: callq  0x10000746c               ; symbol stub for: swift_release</span></span><br><span class="line"><span class="comment">    0x100001898 &lt;+264&gt;: movq   -0x20(%rbp), %rdi</span></span><br><span class="line"><span class="comment">    0x10000189c &lt;+268&gt;: callq  0x10000746c               ; symbol stub for: swift_release</span></span><br><span class="line"><span class="comment">    0x1000018a1 &lt;+273&gt;: movq   -0x28(%rbp), %rax</span></span><br><span class="line"><span class="comment">    0x1000018a5 &lt;+277&gt;: movq   -0x38(%rbp), %rcx</span></span><br><span class="line"><span class="comment">    0x1000018a9 &lt;+281&gt;: leaq   0xc00(%rip), %rax         ; partial apply forwarder for plus #1 (Swift.Int) -&gt; (Swift.Int, Swift.Int) in test.getFns() -&gt; ((Swift.Int) -&gt; (Swift.Int, Swift.Int), (Swift.Int) -&gt; (Swift.Int, Swift.Int)) at &lt;compiler-generated&gt;</span></span><br><span class="line"><span class="comment">    0x1000018b0 &lt;+288&gt;: leaq   0x17e9(%rip), %rcx        ; partial apply forwarder for minus #1 (Swift.Int) -&gt; (Swift.Int, Swift.Int) in test.getFns() -&gt; ((Swift.Int) -&gt; (Swift.Int, Swift.Int), (Swift.Int) -&gt; (Swift.Int, Swift.Int)) at &lt;compiler-generated&gt;</span></span><br><span class="line"><span class="comment">    0x1000018b7 &lt;+295&gt;: movq   -0x58(%rbp), %rdx</span></span><br><span class="line"><span class="comment">    0x1000018bb &lt;+299&gt;: movq   -0x70(%rbp), %r8</span></span><br><span class="line"><span class="comment">    0x1000018bf &lt;+303&gt;: addq   $0x70, %rsp</span></span><br><span class="line"><span class="comment">    0x1000018c3 &lt;+307&gt;: popq   %rbp</span></span><br><span class="line"><span class="comment">    0x1000018c4 &lt;+308&gt;: retq</span></span><br></pre></td></tr></table></figure><p>ç±»æ¯”ç±»æ¥è¯´ num1 num2å°±æ˜¯ç±»çš„æˆå‘˜å˜é‡ plus, minuså°±æ˜¯ç±»çš„ä¸¤ä¸ªæ–¹æ³•<code>let (p, m) = getFns()</code> å°±ç›¸å½“äºç”Ÿæˆäº†ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒä¸€ä¸ªå¯¹è±¡é‡Œé¢çš„æˆå‘˜å˜é‡è‚¯å®šæ˜¯å…±äº«çš„</p><h5 id="å¦‚æœæ˜¯å…¨å±€å˜é‡ä¼šæ•è·ä¹ˆï¼Ÿ"><a href="#å¦‚æœæ˜¯å…¨å±€å˜é‡ä¼šæ•è·ä¹ˆï¼Ÿ" class="headerlink" title="å¦‚æœæ˜¯å…¨å±€å˜é‡ä¼šæ•è·ä¹ˆï¼Ÿ"></a>å¦‚æœæ˜¯å…¨å±€å˜é‡ä¼šæ•è·ä¹ˆï¼Ÿ</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">Fn</span> = (<span class="type">Int</span>) -&gt; <span class="type">Int</span></span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getFn</span><span class="params">()</span></span> -&gt;<span class="type">Fn</span> &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">plus</span><span class="params">(<span class="number">_</span> i:Int)</span></span> -&gt; <span class="type">Int</span>&#123;</span><br><span class="line">        num += i</span><br><span class="line">        <span class="keyword">return</span> num</span><br><span class="line">    &#125;</span><br><span class="line">    num = <span class="number">14</span></span><br><span class="line">    <span class="keyword">return</span> plus</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fn1 = getFn()</span><br><span class="line">fn1(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="type">MemoryLayout</span>.<span class="built_in">stride</span>(ofValue: fn1)) <span class="comment">//16</span></span><br></pre></td></tr></table></figure><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">test`getFn():</span><br><span class="line">    <span class="number">0x100000f00</span> &lt;+<span class="number">0</span>&gt;:  pushq  <span class="symbol">%rbp</span></span><br><span class="line">    <span class="number">0x100000f01</span> &lt;+<span class="number">1</span>&gt;:  movq   <span class="symbol">%rsp</span>, <span class="symbol">%rbp</span></span><br><span class="line">    <span class="number">0x100000f04</span> &lt;+<span class="number">4</span>&gt;:  subq   $<span class="number">0x30</span>, <span class="symbol">%rsp</span></span><br><span class="line">    <span class="number">0x100000f08</span> &lt;+<span class="number">8</span>&gt;:  leaq   <span class="number">0x6309</span>(<span class="symbol">%rip</span>), <span class="symbol">%rdi</span>        <span class="comment">; test.num : Swift.Int</span></span><br><span class="line"><span class="comment">    0x100000f0f &lt;+15&gt;: xorl   %eax, %eax</span></span><br><span class="line"><span class="comment">    0x100000f11 &lt;+17&gt;: movl   %eax, %ecx</span></span><br><span class="line"><span class="comment">    0x100000f13 &lt;+19&gt;: leaq   -0x18(%rbp), %rdx</span></span><br><span class="line"><span class="comment">    0x100000f17 &lt;+23&gt;: movl   $0x21, %esi</span></span><br><span class="line"><span class="comment">    0x100000f1c &lt;+28&gt;: movq   %rsi, -0x20(%rbp)</span></span><br><span class="line"><span class="comment">    0x100000f20 &lt;+32&gt;: movq   %rdx, %rsi</span></span><br><span class="line"><span class="comment">    0x100000f23 &lt;+35&gt;: movq   -0x20(%rbp), %r8</span></span><br><span class="line"><span class="comment">    0x100000f27 &lt;+39&gt;: movq   %rdx, -0x28(%rbp)</span></span><br><span class="line"><span class="comment">    0x100000f2b &lt;+43&gt;: movq   %r8, %rdx</span></span><br><span class="line"><span class="comment">    0x100000f2e &lt;+46&gt;: movq   %rcx, -0x30(%rbp)</span></span><br><span class="line"><span class="comment">    0x100000f32 &lt;+50&gt;: callq  0x100005448               ; symbol stub for: swift_beginAccess</span></span><br><span class="line"><span class="comment">    0x100000f37 &lt;+55&gt;: movq   $0xe, 0x62d6(%rip)        ; demangling cache variable for type metadata for Swift.Array&lt;Swift.UInt8&gt; + 4</span></span><br><span class="line"><span class="comment">    0x100000f42 &lt;+66&gt;: movq   -0x28(%rbp), %rdi</span></span><br><span class="line"><span class="comment">    0x100000f46 &lt;+70&gt;: callq  0x10000546c               ; symbol stub for: swift_endAccess</span></span><br><span class="line"><span class="comment">-&gt;  0x100000f4b &lt;+75&gt;: leaq   0xe(%rip), %rax           ; plus #1 (Swift.Int) -&gt; Swift.Int in test.getFn() -&gt; (Swift.Int) -&gt; Swift.Int at main.swift:5</span></span><br><span class="line"><span class="comment">    0x100000f52 &lt;+82&gt;: movq   -0x30(%rbp), %rdx</span></span><br><span class="line"><span class="comment">    0x100000f56 &lt;+86&gt;: addq   $0x30, %rsp</span></span><br><span class="line"><span class="comment">    0x100000f5a &lt;+90&gt;: popq   %rbp</span></span><br><span class="line"><span class="comment">    0x100000f5b &lt;+91&gt;: retq</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡æ±‡ç¼–å¯ä»¥çœ‹å‡ºï¼Œå‡½æ•°å†…éƒ¨å¹¶æ²¡æœ‰çœ‹åˆ°æœ‰å †å†…å­˜çš„ç”³è¯·æ‰€ä»¥ä¸ä¼šæ•è·ã€‚ä¸ºä»€ä¹ˆä¸æ•è·ï¼Ÿé¦–å…ˆä¸ºä»€ä¹ˆè¦æ•è·ï¼Ÿæ•è·çš„ç›®çš„è¦ä¿æŒnumç”Ÿå‘½å‘¨æœŸä¿è¯å®ƒä¸ä¼šè¢«å›æ”¶ï¼Œæ ˆä¸Šä¼šé‡Šæ”¾ ï¼Œæ‰€ä»¥è¦æ‹·è´åˆ°å †ï¼Œ å…¨å±€å˜é‡åœ¨å…¨å±€åŒºç¨‹åºè¿è¡ŒæœŸé—´ä¼šä¸€ç›´å­˜åœ¨ä¸ä¼šé‡Šæ”¾ ,æ‰€ä»¥ä¸éœ€è¦æ•è·<br>å¯ä»¥ç›´æ¥è®¿é—®</p><h5 id="å…­-è‡ªåŠ¨é—­åŒ…"><a href="#å…­-è‡ªåŠ¨é—­åŒ…" class="headerlink" title="å…­ è‡ªåŠ¨é—­åŒ…"></a>å…­ è‡ªåŠ¨é—­åŒ…</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getFirstPositive</span><span class="params">(<span class="number">_</span> v1:Int, <span class="number">_</span> v2:Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> v1 &gt; <span class="number">0</span> ? v1 : v2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> num1 = getFirstPositive(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line"><span class="keyword">let</span> num2 = getFirstPositive(-<span class="number">2</span>, <span class="number">20</span>)</span><br><span class="line"><span class="built_in">print</span>(num1) <span class="comment">//10</span></span><br><span class="line"><span class="built_in">print</span>(num2) <span class="comment">//20</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getClusureFirstPositive</span><span class="params">(<span class="number">_</span> v1:Int, <span class="number">_</span> v2:<span class="params">()</span></span></span>-&gt;<span class="type">Int</span>) -&gt; <span class="type">Int?</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> v1 &gt; <span class="number">0</span> ? v1 : v2()</span><br><span class="line">&#125;</span><br><span class="line">getClusureFirstPositive(-<span class="number">4</span>) &#123; <span class="number">20</span> &#125; <span class="comment">//v2ä¼šå»¶è¿ŸåŠ è½½ï¼Œä½†æ˜¯è¿™æ ·è°ƒç”¨çœ‹èµ·æ¥å¾ˆåˆ«æ‰­</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getAutoClusureFirstPositive</span><span class="params">(<span class="number">_</span> v1:Int, <span class="number">_</span> v2:@autoclosure <span class="params">()</span></span></span>-&gt;<span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> v1 &gt; <span class="number">0</span> ? v1 : v2()</span><br><span class="line">&#125;</span><br><span class="line">getAutoClusureFirstPositive(-<span class="number">4</span>,<span class="number">20</span>) <span class="comment">//ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æŠŠ20åŒ…è£…æˆé—­åŒ…&#123;20&#125;</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†é¿å…ä¸æœŸæœ›å†²çªï¼Œä½¿ç”¨äº†@autoclosureçš„åœ°æ–¹æœ€å¥½æ˜ç¡®æ³¨é‡Šæ¸…æ¥š:è¿™ä¸ªå€¼ä¼šè¢«æ¨è¿Ÿæ‰§è¡Œ<br>@autoclosure ä¼šè‡ªåŠ¨å°† 20 å°è£…æˆé—­åŒ… { 20 }<br>@autoclosure åªæ”¯æŒ () -&gt; T æ ¼å¼çš„å‚æ•° n@autoclosure å¹¶éåªæ”¯æŒæœ€å1ä¸ªå‚æ•°<br>ç©ºåˆå¹¶è¿ç®—ç¬¦ ?? ä½¿ç”¨äº† @autoclosure æŠ€æœ¯<br>æœ‰@autoclosureã€æ— @autoclosureï¼Œæ„æˆäº†å‡½æ•°é‡è½½</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-é—­åŒ…çš„å®šä¹‰&quot;&gt;&lt;a href=&quot;#ä¸€-é—­åŒ…çš„å®šä¹‰&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ é—­åŒ…çš„å®šä¹‰&quot;&gt;&lt;/a&gt;ä¸€ é—­åŒ…çš„å®šä¹‰&lt;/h5&gt;&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;typealias&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Fn&lt;/span&gt; = (&lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;) -&amp;gt; &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getFn&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; -&amp;gt;&lt;span class=&quot;type&quot;&gt;Fn&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; num = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt; i:Int)&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        num += i&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; num&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; plus&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;comment&quot;&gt;// è¿”å›çš„pluså’Œnumå½¢æˆäº†é—­åŒ…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; fn1 = getFn()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(fn1(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)) &lt;span class=&quot;comment&quot;&gt;//1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸€ä¸ªå‡½æ•°å’Œå®ƒæ‰€æ•è·çš„å˜é‡æˆ–å¸¸é‡ç¯å¢ƒç»„åˆèµ·æ¥ï¼Œç§°ä¸º &lt;strong&gt;é—­åŒ…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸€èˆ¬æŒ‡å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„å‡½æ•°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä¸€èˆ¬å®ƒæ•è·çš„æ˜¯å¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡æˆ–å¸¸é‡&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swift ç»“æ„ä½“å’Œç±»</title>
    <link href="http://example.com/2019/09/01/swift-%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E7%B1%BB/"/>
    <id>http://example.com/2019/09/01/swift-ç»“æ„ä½“å’Œç±»/</id>
    <published>2019-09-01T02:40:23.000Z</published>
    <updated>2020-12-05T11:57:12.873Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-ç»“æ„ä½“"><a href="#ä¸€-ç»“æ„ä½“" class="headerlink" title="ä¸€ ç»“æ„ä½“"></a>ä¸€ ç»“æ„ä½“</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  struct Date &#123;</span><br><span class="line">    var year: Int</span><br><span class="line">    var month: Int</span><br><span class="line">    var day: Int</span><br><span class="line">&#125;</span><br><span class="line">var date = Date(year: <span class="number">2019</span>, month: <span class="number">6</span>, day: <span class="number">20</span>)</span><br><span class="line">print(date.year,date.month,date.day)<span class="regexp">//</span><span class="number">2019</span> <span class="number">6</span> <span class="number">20</span></span><br><span class="line"><span class="regexp">//</span>Program ended with <span class="keyword">exit</span> code: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>swiftæ ‡å‡†åº“ä¸­ï¼Œç»å¤§å¤šæ•°çš„å…¬å¼€ç±»å‹éƒ½æ˜¯ç»“æ„ä½“ï¼Œæšä¸¾åªå å¾ˆå°ä¸€éƒ¨åˆ†ï¼Œåƒï¼ŒBool, Int, Double, String, Array, Dictionaryç­‰å¸¸è§ç±»å‹éƒ½æ˜¯ç»“æ„ä½“</p><h5 id="äºŒ-ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨"><a href="#äºŒ-ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨" class="headerlink" title="äºŒ ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨"></a>äºŒ ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨</h5><p><img src="../assets/blogImg/jiegouti01.png" alt></p><p>âŒé”™è¯¯æ”¹æ­£å›¾ç‰‡ä¸­æœ€åä¸€ä¸ªdate4 è¦æ”¹æˆdate5ï¼Œæç¤ºæ˜¯å¯¹çš„</p><p>æ‰€æœ‰çš„ç»“æ„ä½“éƒ½æœ‰ä¸€ä¸ªç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„åˆå§‹åŒ–å™¨ï¼ˆinitializerï¼‰</p><p>ç¼–è¯‘å™¨ä¼šæ ¹æ®æƒ…å†µï¼Œå¯èƒ½ä¼šä¸ºç»“æ„ä½“ç”Ÿæˆå¤šä¸ªåˆå§‹åŒ–å™¨ï¼Œ<strong>å®ƒè¦ä¿è¯æ‰€æœ‰æˆå‘˜éƒ½æœ‰åˆå§‹å€¼</strong></p><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">struct <span class="built_in">Date</span> &#123;</span><br><span class="line">    var <span class="built_in">year</span>: <span class="built_in">Int</span>?</span><br><span class="line">    var <span class="built_in">month</span>: <span class="built_in">Int</span>?</span><br><span class="line">    var <span class="built_in">day</span>: <span class="built_in">Int</span>?</span><br><span class="line">&#125;</span><br><span class="line">var <span class="built_in">date</span> =  <span class="built_in">Date</span>(<span class="built_in">year</span>: <span class="number">2019</span>, <span class="built_in">month</span>: <span class="number">6</span>, <span class="built_in">day</span>: <span class="number">20</span>)</span><br><span class="line">var date2 = <span class="built_in">Date</span>(<span class="built_in">year</span>: <span class="number">2019</span>)</span><br><span class="line">var date3 = <span class="built_in">Date</span>(<span class="built_in">month</span>: <span class="number">6</span>)</span><br><span class="line">var date4 = <span class="built_in">Date</span>(<span class="built_in">day</span>: <span class="number">20</span>)</span><br><span class="line">var date5 = <span class="built_in">Date</span>()</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¼šæŠ¥é”™ä¹ˆï¼Œèƒ½ç¼–è¯‘é€šè¿‡ä¹ˆï¼Ÿï¼Ÿ</p><p>ä¸ä¼šæŠ¥é”™ï¼Œå¯é€‰é¡¹éƒ½æœ‰ä¸ªé»˜è®¤å€¼nilï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆå¤šä¸ªåˆå§‹åŒ–æ–¹æ³•ï¼ŒåŒæ—¶å®ƒä¹Ÿèƒ½ä¿è¯æ‰€æœ‰å˜é‡éƒ½æœ‰åˆå§‹å€¼</p><a id="more"></a><h5 id="ä¸‰-è‡ªå®šä¹‰åˆå§‹åŒ–å™¨"><a href="#ä¸‰-è‡ªå®šä¹‰åˆå§‹åŒ–å™¨" class="headerlink" title="ä¸‰ è‡ªå®šä¹‰åˆå§‹åŒ–å™¨"></a>ä¸‰ è‡ªå®šä¹‰åˆå§‹åŒ–å™¨</h5><p><img src="../assets/blogImg/jiegouti02.png" alt></p><ul><li><p>è‡ªå®šä¹‰ç»“æ„ä½“åˆå§‹åŒ–å™¨æ—¶ï¼Œè¦ä¿è¯æ¯ä¸ªç»“æ„ä½“æˆå‘˜éƒ½ä¼šè¢«åˆå§‹åŒ–</p></li><li><p>ä¸€æ—¦è‡ªå®šä¹‰äº†ç»“æ„ä½“åˆå§‹åŒ–å™¨ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šå†å¸®å®ƒè‡ªåŠ¨ç”Ÿæˆå…¶ä»–åˆå§‹åŒ–å™¨äº†</p></li></ul><h5 id="å››-ç»“æ„ä½“åˆå§‹åŒ–å™¨çš„æœ¬è´¨"><a href="#å››-ç»“æ„ä½“åˆå§‹åŒ–å™¨çš„æœ¬è´¨" class="headerlink" title="å›› ç»“æ„ä½“åˆå§‹åŒ–å™¨çš„æœ¬è´¨"></a>å›› ç»“æ„ä½“åˆå§‹åŒ–å™¨çš„æœ¬è´¨</h5><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">func testStruct()&#123;</span><br><span class="line">    struct Point&#123;</span><br><span class="line">        var y:Int</span><br><span class="line">        var <span class="keyword">x</span>:Int</span><br><span class="line">        init() &#123;</span><br><span class="line">            self.y = <span class="number">0</span></span><br><span class="line">            self.<span class="keyword">x</span> = <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    let p<span class="number">1</span> = Point()</span><br><span class="line">     /*-&gt;  <span class="number">0x1000007ef</span> &lt;+<span class="number">15</span>&gt;: callq  <span class="number">0x100000810</span>               <span class="comment">; init() -&gt; Point #1 in test.testStrunct() -&gt; () in Point #1 in</span></span><br><span class="line"><span class="comment">        è°ƒç”¨äº†init()åˆå§‹åŒ–å™¨</span></span><br><span class="line"><span class="comment">        test`init() in Point #1 in testStrunct():</span></span><br><span class="line"><span class="comment">    -&gt;  0x100000810 &lt;+0&gt;:  pushq  %rbp</span></span><br><span class="line"><span class="comment">        0x100000811 &lt;+1&gt;:  movq   %rsp, %rbp</span></span><br><span class="line"><span class="comment">        0x100000814 &lt;+4&gt;:  xorps  %xmm0, %xmm0</span></span><br><span class="line"><span class="comment">        0x100000817 &lt;+7&gt;:  movaps %xmm0, -0x10(%rbp)</span></span><br><span class="line"><span class="comment">        0x10000081b &lt;+11&gt;: movq   $0x0, -0x10(%rbp) //èµ‹å€¼ y</span></span><br><span class="line"><span class="comment">        0x100000823 &lt;+19&gt;: movq   $0x0, -0x8(%rbp)  // èµ‹å€¼ x</span></span><br><span class="line"><span class="comment">        0x10000082b &lt;+27&gt;: xorl   %eax, %eax</span></span><br><span class="line"><span class="comment">        0x10000082d &lt;+29&gt;: movl   %eax, %ecx</span></span><br><span class="line"><span class="comment">        0x10000082f &lt;+31&gt;: movq   %rcx, %rax</span></span><br><span class="line"><span class="comment">        0x100000832 &lt;+34&gt;: movq   %rcx, %rdx</span></span><br><span class="line"><span class="comment">        0x100000835 &lt;+37&gt;: popq   %rbp</span></span><br><span class="line"><span class="comment">        0x100000836 &lt;+38&gt;: retq</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">testStruct()</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">func teststruct2() &#123;</span></span><br><span class="line"><span class="comment">    struct Point2&#123;</span></span><br><span class="line"><span class="comment">        var y:Int = 0</span></span><br><span class="line"><span class="comment">        var x:Int = 0</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    let p2 = Point2()</span></span><br><span class="line"><span class="comment">    /*</span></span><br><span class="line"><span class="comment">     -&gt;  0x10000088f &lt;+15&gt;: callq  0x1000008b0               ; init() -&gt; Point #1 in test.testStruct() -&gt; () in Point #1 in</span></span><br><span class="line"><span class="comment">     test`init() in Point #1 in testStruct():</span></span><br><span class="line"><span class="comment">     -&gt;  0x1000008b0 &lt;+0&gt;:  pushq  %rbp</span></span><br><span class="line"><span class="comment">         0x1000008b1 &lt;+1&gt;:  movq   %rsp, %rbp</span></span><br><span class="line"><span class="comment">         0x1000008b4 &lt;+4&gt;:  xorps  %xmm0, %xmm0</span></span><br><span class="line"><span class="comment">         0x1000008b7 &lt;+7&gt;:  movaps %xmm0, -0x10(%rbp)</span></span><br><span class="line"><span class="comment">         0x1000008bb &lt;+11&gt;: movq   $0x0, -0x10(%rbp) //èµ‹å€¼ y</span></span><br><span class="line"><span class="comment">         0x1000008c3 &lt;+19&gt;: movq   $0x0, -0x8(%rbp)  //èµ‹å€¼ x</span></span><br><span class="line"><span class="comment">         0x1000008cb &lt;+27&gt;: xorl   %eax, %eax</span></span><br><span class="line"><span class="comment">         0x1000008cd &lt;+29&gt;: movl   %eax, %ecx</span></span><br><span class="line"><span class="comment">         0x1000008cf &lt;+31&gt;: movq   %rcx, %rax</span></span><br><span class="line"><span class="comment">         0x1000008d2 &lt;+34&gt;: movq   %rcx, %rdx</span></span><br><span class="line"><span class="comment">         0x1000008d5 &lt;+37&gt;: popq   %rbp</span></span><br><span class="line"><span class="comment">         0x1000008d6 &lt;+38&gt;: retq</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">teststruct2()</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡æ±‡ç¼–ä»£ç å¯ä»¥çœ‹å‡ºä¸Šé¢ä¸¤ä¸ªç»“æ„ä½“å®šä¹‰ä¸åŒä½†æ˜¯åº•å±‚çš„æ±‡ç¼–ä»£ç ç¡®æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰‹åŠ¨å®šä¹‰åˆå§‹åŒ–å™¨ï¼Œè·Ÿç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆåˆå§‹åŒ–å™¨å…¶å®æœ¬è´¨æ˜¯ä¸€æ ·çš„</p><h5 id="äº”-ç»“æ„ä½“çš„å†…å­˜ç»“æ„"><a href="#äº”-ç»“æ„ä½“çš„å†…å­˜ç»“æ„" class="headerlink" title="äº” ç»“æ„ä½“çš„å†…å­˜ç»“æ„"></a>äº” ç»“æ„ä½“çš„å†…å­˜ç»“æ„</h5><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">struct Point &#123;</span><br><span class="line">    <span class="selector-tag">var</span> x:Int = <span class="number">10</span>  <span class="comment">//8</span></span><br><span class="line">    <span class="selector-tag">var</span> y:Int = <span class="number">20</span> <span class="comment">//8</span></span><br><span class="line">    <span class="selector-tag">var</span> origin:Bool = false  <span class="comment">//1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">var</span> point = Point()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.size(ofValue: point)</span></span>)     <span class="comment">//17</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.stride(ofValue: point)</span></span>)   <span class="comment">//24</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.alignment(ofValue: point)</span></span>)<span class="comment">//8</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"-----------------------------"</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;Point&gt;.size)</span></span>     <span class="comment">//17</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;Point&gt;.stride)</span></span>   <span class="comment">//24</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;Point&gt;.alignment)</span></span><span class="comment">//8</span></span><br></pre></td></tr></table></figure><p>ç»“æ„ä½“å†…å­˜ç»“æ„è·Ÿæšä¸¾å·®ä¸å¤šï¼Œæˆå‘˜å˜é‡çš„å€¼ä¹Ÿæ˜¯å­˜å‚¨åœ¨ï¼Œç»“æ„ä½“å˜é‡å†…å­˜é‡Œé¢çš„</p><p><img src="../assets/blogImg/jiegouti03.png" alt></p><hr><h5 id="å…­-ç±»"><a href="#å…­-ç±»" class="headerlink" title="å…­ ç±»"></a>å…­ ç±»</h5><p><img src="../assets/blogImg/lei01.png" alt></p><p>1 ç±»çš„å®šä¹‰å’Œç»“æ„ä½“ç±»ä¼¼ï¼Œä½†æ˜¯ç¼–è¯‘å™¨å¹¶æ²¡æœ‰ä¸ºç±»è‡ªåŠ¨ç”Ÿæˆ<strong>å¯ä»¥ä¼ å…¥æˆå‘˜å€¼çš„åˆå§‹åŒ–å™¨</strong></p><p>2 å¦‚æœç±»çš„æ‰€æœ‰æˆå‘˜éƒ½åœ¨å®šä¹‰çš„æ—¶å€™æŒ‡å®šäº†åˆå§‹å€¼ï¼Œç¼–è¯‘å™¨ä¼šä¸ºç±»ç”Ÿæˆæ— å‚çš„åˆå§‹åŒ–å™¨ï¼Œæˆå‘˜çš„åˆå§‹åŒ–æ˜¯åœ¨è¿™ä¸ªåˆå§‹åŒ–å™¨ä¸­å®Œæˆçš„</p><h5 id="ä¸ƒ-è‡ªå®šä¹‰ç±»çš„åˆå§‹åŒ–å™¨"><a href="#ä¸ƒ-è‡ªå®šä¹‰ç±»çš„åˆå§‹åŒ–å™¨" class="headerlink" title="ä¸ƒ è‡ªå®šä¹‰ç±»çš„åˆå§‹åŒ–å™¨"></a>ä¸ƒ è‡ªå®šä¹‰ç±»çš„åˆå§‹åŒ–å™¨</h5><figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> y:<span class="keyword">Int</span></span><br><span class="line">    <span class="keyword">var</span> x:<span class="keyword">Int</span></span><br><span class="line">    init(y:<span class="keyword">Int</span>,x:<span class="keyword">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.y = y</span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p1 = Point(y: <span class="number">20</span>, x: <span class="number">30</span>)</span><br><span class="line"><span class="keyword">print</span>(p1.x, p1.y) <span class="comment">//30 20</span></span><br></pre></td></tr></table></figure><p>è‡ªå®šä¹‰ç±»çš„åˆå§‹åŒ–å™¨è¦ä¿è¯æ‰€æœ‰çš„æˆå‘˜éƒ½è¦è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œä¸”ç¼–è¯‘å™¨ä¸ä¼šå†è‡ªåŠ¨ç”Ÿæˆæ— å‚çš„åˆå§‹åŒ–å™¨äº†</p><h5 id="å…«-ç±»å¯¹è±¡å˜é‡çš„å†…å­˜ç»“æ„"><a href="#å…«-ç±»å¯¹è±¡å˜é‡çš„å†…å­˜ç»“æ„" class="headerlink" title="å…« ç±»å¯¹è±¡å˜é‡çš„å†…å­˜ç»“æ„"></a>å…« ç±»å¯¹è±¡å˜é‡çš„å†…å­˜ç»“æ„</h5><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Size</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width = <span class="number">1</span></span><br><span class="line">    <span class="keyword">var</span> height = <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s1 = Size()</span><br></pre></td></tr></table></figure><p><img src="../assets/blogImg/lei02.png" alt></p><p>å‰8ä½æ˜¯æŒ‡å‘ç±»å‹ä¿¡æ¯ï¼Œæ¥ç€8ä½å­˜æ”¾å¼•ç”¨è®¡æ•°ç›¸å…³å†…å®¹ï¼Œåé¢æ˜¯æˆå‘˜å˜é‡å†…å®¹ï¼Œç±»çš„å®ä¾‹å¯¹è±¡æ˜¯åˆ†é…åœ¨å †ç©ºé—´çš„</p><h5 id="ä¹-å¯¹è±¡å¯¹ç©ºé—´ç”³è¯·è¿‡ç¨‹"><a href="#ä¹-å¯¹è±¡å¯¹ç©ºé—´ç”³è¯·è¿‡ç¨‹" class="headerlink" title="ä¹ å¯¹è±¡å¯¹ç©ºé—´ç”³è¯·è¿‡ç¨‹"></a>ä¹ å¯¹è±¡å¯¹ç©ºé—´ç”³è¯·è¿‡ç¨‹</h5><p>åœ¨Swiftä¸­ï¼Œåˆ›å»ºç±»çš„å®ä¾‹å¯¹è±¡ï¼Œè¦å‘å †ç©ºé—´ç”³è¯·å†…å­˜ï¼Œå¤§æ¦‚æµç¨‹å¦‚ä¸‹ï¼š</p><p>1 Class.__allocating_init()</p><p>2 libswiftCore.dylib:_swift_allocObject_</p><p>3 libswiftCore.dylib:swift_slowAlloc</p><p>4 libsystem_malloc.dylib:malloc</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import Foundation</span><br><span class="line">class Point&#123;</span><br><span class="line">    <span class="comment">//16</span></span><br><span class="line">    <span class="selector-tag">var</span> x = <span class="number">11</span> <span class="comment">//8</span></span><br><span class="line">    <span class="selector-tag">var</span> test = true <span class="comment">//1</span></span><br><span class="line">    <span class="selector-tag">var</span> y = <span class="number">22</span><span class="comment">//8</span></span><br><span class="line">&#125;<span class="comment">//33 å®é™…åˆ©ç”¨åˆ°çš„å†…å­˜ç©ºé—´  å†…å­˜å¯¹é½éœ€è¦ 40æ˜¯éœ€è¦å ç”¨çš„å†…å­˜ç©ºé—´</span></span><br><span class="line"><span class="selector-tag">var</span> <span class="selector-tag">p</span> = Point()  <span class="comment">//è°ƒç”¨malloc åˆ†é…å¤§å°æ˜¯16çš„å€æ•°ï¼Œ æ‰€ä»¥å®é™…åˆ†é…48å¤§å°</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(class_getInstanceSize(type(of:p)</span></span>)) <span class="comment">//40</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(class_getInstanceSize(Point.self)</span></span>)  <span class="comment">//40</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Mems.size(ofRef: p)</span></span>)  <span class="comment">//48 å®é™…åˆ†é…çš„æ§ä»¶å¤§å°</span></span><br></pre></td></tr></table></figure><p>åœ¨ Mac , iOSä¸­çš„mallocå‡½æ•°åˆ†é…çš„å†…å­˜å¤§å°æ€»æ˜¯16çš„å€æ•°</p><p>é€šè¿‡class_getInstatnceSizeå¯ä»¥å¾—çŸ¥ï¼šç±»çš„å¯¹è±¡è‡³å°‘éœ€è¦å ç”¨å¤šå°‘å†…å­˜</p><h5 id="å-ç»“æ„ä½“ä¸ç±»çš„æœ¬è´¨åŒºåˆ«"><a href="#å-ç»“æ„ä½“ä¸ç±»çš„æœ¬è´¨åŒºåˆ«" class="headerlink" title="å ç»“æ„ä½“ä¸ç±»çš„æœ¬è´¨åŒºåˆ«"></a>å ç»“æ„ä½“ä¸ç±»çš„æœ¬è´¨åŒºåˆ«</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Size</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width = <span class="number">1</span></span><br><span class="line">    <span class="keyword">var</span> height = <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">3</span></span><br><span class="line">    <span class="keyword">var</span> y = <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> size = <span class="type">Size</span>()</span><br><span class="line">    <span class="keyword">var</span> point = <span class="type">Point</span>()</span><br><span class="line">&#125;</span><br><span class="line">test()</span><br></pre></td></tr></table></figure><p><img src="../assets/blogImg/jiegouti04.png" alt></p><p>1 ç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼ˆæšä¸¾ä¹Ÿæ˜¯å€¼ç±»å‹ï¼‰</p><p>2 ç±»æ˜¯å¼•ç”¨ç±»å‹ï¼ˆæŒ‡é’ˆç±»å‹ï¼‰</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="function">func <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Size</span> &#123;</span></span><br><span class="line">        var <span class="built_in">width</span> = <span class="number">1</span></span><br><span class="line">        var <span class="built_in">height</span> = <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    struct Point &#123;</span><br><span class="line">        var x = <span class="number">3</span></span><br><span class="line">        var y = <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line">    var <span class="built_in">size</span> = Size()</span><br><span class="line">    <span class="built_in">print</span>(MemoryLayout&lt;Size&gt;.stride) <span class="comment">//8  sizeæŒ‡é’ˆå˜é‡å°±æ˜¯å 8ä¸ªå­—èŠ‚</span></span><br><span class="line">    <span class="built_in">print</span>(MemoryLayout&lt;Point&gt;.stride)<span class="comment">//16</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(Mems.<span class="built_in">size</span>(ofRef: <span class="built_in">size</span>))  <span class="comment">//32  sizeæ‰€æŒ‡å‘å †ç©ºé—´çš„å¤§å°</span></span><br><span class="line">    <span class="built_in">print</span>(malloc_size(Mems.ptr(ofRef: <span class="built_in">size</span>))) <span class="comment">//32 åŒä¸Š</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(Mems.ptr(ofVal: &amp;<span class="built_in">size</span>))  <span class="comment">//0x00007ffeefbff520  sizeçš„åœ°å€</span></span><br><span class="line">    <span class="built_in">print</span>(Mems.memStr(ofVal: &amp;<span class="built_in">size</span>)) <span class="comment">//0x0000000100453d40  sizeå˜é‡çš„å†…å­˜</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"-----------------------"</span>)</span><br><span class="line">    <span class="built_in">print</span>(Mems.ptr(ofRef: <span class="built_in">size</span>))  <span class="comment">//0x0000000100453d40 sizeæ‰€æŒ‡å‘å†…å­˜çš„åœ°å€ ,å°±æ˜¯sizeå˜é‡çš„å†…å­˜</span></span><br><span class="line">    <span class="built_in">print</span>(Mems.memStr(ofRef: <span class="built_in">size</span>)) <span class="comment">// 0x00000001000082a8 0x0000000200000002 0x0000000000000001 0x0000000000000002   sizeæ‰€æŒ‡å‘å†…å­˜åœ°å€é‡Œçš„å†…å®¹</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"_________________________"</span>)</span><br><span class="line">    var <span class="built_in">point</span> = Point()</span><br><span class="line">    <span class="built_in">print</span>(Mems.ptr(ofVal: &amp;<span class="built_in">point</span>))   <span class="comment">//0x00007ffeefbff500  å†…å­˜åœ°å€</span></span><br><span class="line">    <span class="built_in">print</span>(Mems.memStr(ofVal: &amp;<span class="built_in">point</span>)) <span class="comment">//0x0000000000000003 0x0000000000000004  å†…å­˜åœ°å€å­˜çš„å†…å®¹</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//point å˜é‡è·Ÿ sizeå˜é‡æ˜¯æŒ¨åœ¨ä¸€èµ·çš„ï¼Œåœ°å€å¾ˆç›¸è¿‘ï¼Œå®ƒä»¬éƒ½æ˜¯åˆ†é…åœ¨æ ˆç©ºé—´çš„ï¼Œä½†æ˜¯å®ƒé‡Œé¢çš„å†…å®¹ä¸ä¸€æ ·çš„ï¼Œsizeå˜é‡å†…å­˜æ˜¯ä¸€ä¸ªå †åœ°å€</span></span><br><span class="line">&#125;</span><br><span class="line">test()</span><br></pre></td></tr></table></figure><h5 id="å€¼ç±»å‹"><a href="#å€¼ç±»å‹" class="headerlink" title="å€¼ç±»å‹"></a>å€¼ç±»å‹</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">func</span> <span class="string">testValues()</span>  <span class="string">&#123;</span></span><br><span class="line">    <span class="string">struct</span> <span class="string">Point</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">var x:</span> <span class="string">Int</span></span><br><span class="line">        <span class="attr">var y:</span> <span class="string">Int</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="string">var</span> <span class="string">p1</span> <span class="string">=</span> <span class="string">Point(x:10,</span> <span class="string">y:20)</span></span><br><span class="line">    <span class="string">var</span> <span class="string">p2</span> <span class="string">=</span> <span class="string">p1</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="string">//</span>    <span class="string">test`testValues():</span>  <span class="string">æ±‡ç¼–è§£æ</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e00</span> <span class="string">&lt;+0&gt;:</span>  <span class="string">pushq</span>  <span class="string">%rbp</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e01</span> <span class="string">&lt;+1&gt;:</span>  <span class="string">movq</span>   <span class="string">%rsp,</span> <span class="string">%rbp</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e04</span> <span class="string">&lt;+4&gt;:</span>  <span class="string">subq</span>   <span class="string">$0x20,</span> <span class="string">%rsp</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e08</span> <span class="string">&lt;+8&gt;:</span>  <span class="string">xorps</span>  <span class="string">%xmm0,</span> <span class="string">%xmm0</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e0b</span> <span class="string">&lt;+11&gt;:</span> <span class="string">movaps</span> <span class="string">%xmm0,</span> <span class="number">-0x10</span><span class="string">(%rbp)</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e0f</span> <span class="string">&lt;+15&gt;:</span> <span class="string">movaps</span> <span class="string">%xmm0,</span> <span class="number">-0x20</span><span class="string">(%rbp)</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e13</span> <span class="string">&lt;+19&gt;:</span> <span class="string">movl</span>   <span class="string">$0xa,</span> <span class="string">%edi</span>   <span class="string">//10</span> <span class="string">ç»™eid</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e18</span> <span class="string">&lt;+24&gt;:</span> <span class="string">movl</span>   <span class="string">$0x14,</span> <span class="string">%esi</span>  <span class="string">//20</span> <span class="string">ç»™esi</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e1d</span> <span class="string">&lt;+29&gt;:</span> <span class="string">callq</span>  <span class="number">0x100000e40</span>               <span class="string">;</span> <span class="string">init(x:</span> <span class="string">Swift.Int,</span> <span class="attr">y:</span> <span class="string">Swift.Int)</span> <span class="string">-&gt;</span> <span class="string">Point</span> <span class="comment">#1 in test.testValues() -&gt; () in Point #1 in test.testValues() -&gt; () at main.swift:3  //ä¼ å…¥ä¸¤ä¸ªå‚æ•°è¿˜æ˜¯è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e22</span> <span class="string">&lt;+34&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x10</span><span class="string">(%rbp)</span>  <span class="string">//</span> <span class="number">0x100000e26</span> <span class="number">-0x10</span> <span class="number">10</span> <span class="string">èµ‹å€¼ç»™p1</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e26</span> <span class="string">&lt;+38&gt;:</span> <span class="string">movq</span>   <span class="string">%rdx,</span> <span class="number">-0x8</span><span class="string">(%rbp)</span>  <span class="string">//</span> <span class="number">0x100000e2a</span> <span class="bullet">-</span> <span class="number">0x8</span> <span class="number">20</span> <span class="string">èµ‹å€¼ç»™p1</span></span><br><span class="line"><span class="string">//</span>    <span class="string">-&gt;</span>  <span class="number">0x100000e2a</span> <span class="string">&lt;+42&gt;:</span> <span class="string">movq</span>   <span class="string">%rax,</span> <span class="number">-0x20</span><span class="string">(%rbp)</span> <span class="number">0x100000e2e</span> <span class="number">-0x20</span>  <span class="string">//</span> <span class="number">10</span> <span class="string">èµ‹å€¼ç»™p2</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e2e</span> <span class="string">&lt;+46&gt;:</span> <span class="string">movq</span>   <span class="string">%rdx,</span> <span class="number">-0x18</span><span class="string">(%rbp)</span>   <span class="string">//</span> <span class="number">0x100000e32</span> <span class="bullet">-</span> <span class="number">0x18</span> <span class="number">20</span> <span class="string">èµ‹å€¼ç»™p2</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e32</span> <span class="string">&lt;+50&gt;:</span> <span class="string">addq</span>   <span class="string">$0x20,</span> <span class="string">%rsp</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e36</span> <span class="string">&lt;+54&gt;:</span> <span class="string">popq</span>   <span class="string">%rbp</span></span><br><span class="line"><span class="string">//</span>        <span class="number">0x100000e37</span> <span class="string">&lt;+55&gt;:</span> <span class="string">retq</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">testValues()</span></span><br></pre></td></tr></table></figure><p><img src="../assets/blogImg/zhileixing01.png" alt></p><p>å€¼ç±»å‹èµ‹å€¼ç»™var, letæˆ–è€…ç»™å‡½æ•°ä¼ å‚ï¼Œæ˜¯ç›´æ¥å°†æ‰€æœ‰å†…å®¹æ‹·è´ä¸€ä»½ï¼Œå±äºæ·±æ‹·è´</p><p>æ±‡ç¼–å°æŠ€å·§ï¼š å†…å­˜åœ°å€æ ¼å¼ä¸ºï¼š0xcdf(%rip),ä¸€èˆ¬æ˜¯å…¨å±€å˜é‡ï¼Œ å†…å­˜åœ°å€æ ¼å¼ä¸ºï¼š-0xcdf(%rbp),ä¸€èˆ¬æ˜¯å±€éƒ¨å˜é‡ï¼Œå†…å­˜åœ°å€æ ¼å¼ä¸ºï¼š-0x10(%rax),ä¸€èˆ¬æ˜¯å †ç©ºé—´</p><h5 id="å€¼ç±»å‹çš„èµ‹å€¼æ“ä½œ"><a href="#å€¼ç±»å‹çš„èµ‹å€¼æ“ä½œ" class="headerlink" title="å€¼ç±»å‹çš„èµ‹å€¼æ“ä½œ"></a>å€¼ç±»å‹çš„èµ‹å€¼æ“ä½œ</h5><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="selector-tag">var</span> s1 = <span class="string">"Rose"</span></span><br><span class="line"><span class="selector-tag">var</span> s2 = s1  </span><br><span class="line">s2.append(<span class="string">"_Mars"</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(s1)</span></span><span class="comment">//Rose</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(s2)</span></span><span class="comment">//Rose_Mars</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ•°ç»„èµ‹å€¼</span></span><br><span class="line"><span class="selector-tag">var</span> a1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="selector-tag">var</span> a2 = a1</span><br><span class="line">a2.append(<span class="number">4</span>)</span><br><span class="line">a1[<span class="number">0</span>] = <span class="number">2</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(a1)</span></span> <span class="comment">//[2, 2, 3]</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(a2)</span></span>  <span class="comment">//[1, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å­—å…¸èµ‹å€¼</span></span><br><span class="line"><span class="selector-tag">var</span> d1 = [<span class="string">"max"</span>:<span class="number">10</span>, <span class="string">"min"</span>:<span class="number">4</span>]</span><br><span class="line"><span class="selector-tag">var</span> d2 = d1</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Mems.ptr(ofVal: &amp;d1)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Mems.ptr(ofVal: &amp;d2)</span></span>)</span><br><span class="line">d1[<span class="string">"other"</span>] = <span class="number">7</span></span><br><span class="line">d2[<span class="string">"max"</span>] = <span class="number">30</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(d1)</span></span> <span class="comment">//["max": 10, "min": 4, "other": 7]</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(d2)</span></span> <span class="comment">//["max": 30, "min": 4]</span></span><br></pre></td></tr></table></figure><p>åœ¨Swiftæ ‡å‡†åº“ä¸­ï¼Œä¸ºäº†æå‡æ€§èƒ½ï¼ŒStringã€Arrayã€Dictionaryã€Seté‡‡å–äº†Copy On Writeçš„æŠ€æœ¯</p><p>æ¯”å¦‚ä»…å½“æœ‰â€œå†™â€æ“ä½œæ—¶ï¼Œæ‰ä¼šçœŸæ­£æ‰§è¡Œæ‹·è´æ“ä½œ</p><p>å¯¹äºæ ‡å‡†åº“å€¼ç±»å‹çš„èµ‹å€¼æ“ä½œï¼ŒSwift èƒ½ç¡®ä¿æœ€ä½³æ€§èƒ½ï¼Œæ‰€æœ‰æ²¡å¿…è¦ä¸ºäº†ä¿è¯æœ€ä½³æ€§èƒ½æ¥é¿å…èµ‹å€¼</p><p>å»ºè®®:ä¸éœ€è¦ä¿®æ”¹çš„ï¼Œå°½é‡å®šä¹‰æˆlet</p><h5 id="å¼•ç”¨ç±»å‹"><a href="#å¼•ç”¨ç±»å‹" class="headerlink" title="å¼•ç”¨ç±»å‹"></a>å¼•ç”¨ç±»å‹</h5><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Size</span>&#123;</span></span><br><span class="line">    var <span class="built_in">width</span>:Int</span><br><span class="line">    var <span class="built_in">height</span>:Int</span><br><span class="line">    init(<span class="built_in">width</span>:Int,<span class="built_in">height</span>:Int) &#123;</span><br><span class="line">        self.<span class="built_in">width</span> = <span class="built_in">width</span></span><br><span class="line">        self.<span class="built_in">height</span> = <span class="built_in">height</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func test()&#123;</span><br><span class="line">    var s1 = Size(<span class="built_in">width</span>: <span class="number">10</span>, <span class="built_in">height</span>: <span class="number">20</span>)</span><br><span class="line">    var s2 = s1</span><br><span class="line">  </span><br><span class="line">    s2.<span class="built_in">width</span> = <span class="number">11</span></span><br><span class="line">    s2.<span class="built_in">height</span> = <span class="number">22</span></span><br><span class="line">    <span class="built_in">print</span>(Mems.memStr(ofVal: &amp;s1)) <span class="comment">//0x000000010041cc80</span></span><br><span class="line">    <span class="built_in">print</span>(Mems.memStr(ofVal: &amp;s2)) <span class="comment">//0x000000010041cc80</span></span><br><span class="line">    <span class="built_in">print</span>(s1.<span class="built_in">width</span>,s1.<span class="built_in">height</span>) <span class="comment">//11 22  //å–å‡ºå¯¹è±¡å†…å­˜åé¢16ä½èµ‹å€¼</span></span><br><span class="line">    <span class="built_in">print</span>(s2.<span class="built_in">width</span>,s2.<span class="built_in">height</span>) <span class="comment">//11 22</span></span><br><span class="line">&#125;</span><br><span class="line">test()</span><br></pre></td></tr></table></figure><p>å¼•ç”¨ç±»å‹èµ‹å€¼ç»™let,varæˆ–è€…ç»™å‡½æ•°å‚æ•°ï¼Œæ˜¯å°†å†…å­˜åœ°å€æ‹·è´ä¸€ä»½ï¼Œç±»ä¼¼äºæ–‡ä»¶é“¾æ¥ï¼Œå¿«æ·æ–¹å¼ï¼ŒæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªæ–‡ä»¶ï¼Œå±äºæµ…æ‹·è´</p><h5 id="å¼•ç”¨ç±»å‹çš„èµ‹å€¼æ“ä½œ"><a href="#å¼•ç”¨ç±»å‹çš„èµ‹å€¼æ“ä½œ" class="headerlink" title="å¼•ç”¨ç±»å‹çš„èµ‹å€¼æ“ä½œ"></a>å¼•ç”¨ç±»å‹çš„èµ‹å€¼æ“ä½œ</h5><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Size</span>&#123;</span></span><br><span class="line">    var <span class="built_in">width</span>:Int</span><br><span class="line">    var <span class="built_in">height</span>:Int</span><br><span class="line">    init(<span class="built_in">width</span>:Int,<span class="built_in">height</span>:Int) &#123;</span><br><span class="line">        self.<span class="built_in">width</span> = <span class="built_in">width</span></span><br><span class="line">        self.<span class="built_in">height</span> = <span class="built_in">height</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var s1 = Size(<span class="built_in">width</span>: <span class="number">10</span>, <span class="built_in">height</span>: <span class="number">20</span>)  <span class="comment">//åˆ†é…ä¸€å—å†…å­˜ç©ºé—´</span></span><br><span class="line"><span class="built_in">print</span>(Mems.memStr(ofVal: &amp;s1)) <span class="comment">//0x000000010042c220</span></span><br><span class="line">s1 = Size(<span class="built_in">width</span>: <span class="number">30</span>, <span class="built_in">height</span>: <span class="number">40</span>)   <span class="comment">// æœ‰åˆ†é…ä¸€å—å†…å­˜ç©ºé—´ï¼Œs1çš„æŒ‡é’ˆæŒ‡å‘è¿™å—å†…å­˜ç©ºé—´</span></span><br><span class="line"><span class="built_in">print</span>(Mems.memStr(ofVal: &amp;s1)) <span class="comment">//0x000000010042e0b0</span></span><br><span class="line"><span class="built_in">print</span>(s1.<span class="built_in">width</span>,s1.<span class="built_in">height</span>) <span class="comment">//30 40  //å–å‡ºå¯¹è±¡å†…å­˜åé¢16ä½èµ‹å€¼</span></span><br></pre></td></tr></table></figure><h5 id="åä¸€-å€¼ç±»å‹-å¼•ç”¨ç±»å‹çš„let"><a href="#åä¸€-å€¼ç±»å‹-å¼•ç”¨ç±»å‹çš„let" class="headerlink" title="åä¸€ å€¼ç±»å‹ å¼•ç”¨ç±»å‹çš„let"></a>åä¸€ å€¼ç±»å‹ å¼•ç”¨ç±»å‹çš„let</h5><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Size &#123;</span><br><span class="line">    <span class="selector-tag">var</span> <span class="attribute">width</span>:Int</span><br><span class="line">    <span class="selector-tag">var</span> <span class="attribute">height</span>:Int</span><br><span class="line">    init(<span class="attribute">width</span>:Int, height:Int) &#123;</span><br><span class="line">        self<span class="selector-class">.width</span> = <span class="attribute">width</span></span><br><span class="line">        self<span class="selector-class">.height</span> = <span class="attribute">height</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let <span class="selector-tag">p</span> = Point(x: <span class="number">10</span>, y: <span class="number">20</span>)</span><br><span class="line"><span class="selector-tag">p</span> = Point(x: <span class="number">30</span>, y: <span class="number">40</span>)  <span class="comment">//p å†…å­˜ä¸å¯ä»¥ä¿®æ”¹âŒ</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.x</span> = <span class="number">20</span> <span class="comment">//p å†…å­˜ä¸å¯ä»¥ä¿®æ”¹âŒ</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.y</span> = <span class="number">50</span>  <span class="comment">//p å†…å­˜ä¸å¯ä»¥ä¿®æ”¹âŒ</span></span><br><span class="line"></span><br><span class="line">let s = Size(<span class="attribute">width</span>: <span class="number">20</span>, height: <span class="number">30</span>)</span><br><span class="line">s<span class="selector-class">.height</span> = <span class="number">10</span>  <span class="comment">//sæŒ‡å‘å¯¹è±¡é‡Œé¢çš„å€¼å¯ä»¥æ”¹âœ…</span></span><br><span class="line">s<span class="selector-class">.width</span> = <span class="number">20</span>  <span class="comment">//âœ…</span></span><br><span class="line">s = Size(<span class="attribute">width</span>: <span class="number">30</span>, height: <span class="number">50</span>) //sæŒ‡é’ˆæŒ‡å‘å†…å®¹ä¸èƒ½æ”¹âŒ</span><br></pre></td></tr></table></figure><h5 id="æšä¸¾-ï¼Œç»“æ„ä½“ï¼Œ-ç±»é‡Œé¢å®šä¹‰æ–¹æ³•"><a href="#æšä¸¾-ï¼Œç»“æ„ä½“ï¼Œ-ç±»é‡Œé¢å®šä¹‰æ–¹æ³•" class="headerlink" title="æšä¸¾ ï¼Œç»“æ„ä½“ï¼Œ ç±»é‡Œé¢å®šä¹‰æ–¹æ³•"></a>æšä¸¾ ï¼Œç»“æ„ä½“ï¼Œ ç±»é‡Œé¢å®šä¹‰æ–¹æ³•</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> y:<span class="type">Int</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">()</span></span>  &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"x= \(x),y=\(y)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="type">Point</span>(x: <span class="number">20</span>, y: <span class="number">40</span>)</span><br><span class="line">p.show() <span class="comment">//x= 20,y=40</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Size</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> height:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">init</span>(width:<span class="type">Int</span>, height:<span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.width = width</span><br><span class="line">        <span class="keyword">self</span>.height = height</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">     <span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">()</span></span>  &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"width\(width),height=\(height)"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> size = <span class="type">Size</span>(width: <span class="number">20</span>, height: <span class="number">30</span>)</span><br><span class="line">size.show() <span class="comment">//width20,height=30</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">PockeFace</span>:<span class="title">Character</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> spades=<span class="string">"x"</span>,hearts=<span class="string">"y"</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">()</span></span>  &#123;</span><br><span class="line">        <span class="built_in">print</span>(rawValue)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> pp = <span class="type">PockeFace</span>.spades</span><br><span class="line">pp.show() <span class="comment">//x</span></span><br></pre></td></tr></table></figure><p>æ–¹æ³•éƒ½ä¸å ç”¨å˜é‡å†…å­˜ï¼Œæ–¹æ³•çš„æœ¬è´¨å°±æ˜¯å‡½æ•°ï¼Œå®ƒéƒ½æ˜¯å­˜æ”¾åœ¨ä»£ç æ®µï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆçŸ¥é“å“ªä¸ªæ–¹æ³•æ˜¯å±äºå“ªä¸ªç»“æ„ä½“ æšä¸¾æˆ–è€…ç±»çš„å‘¢ï¼Œå…¶å®æ¯ä¸ªæ–¹æ³•éƒ½æœ‰é»˜äººä¼ å…¥äº†å½“å‰å¯¹è±¡ï¼Œå°±åƒä¸‹é¢è¿™æ ·</p> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">(_self:Point)</span></span>  &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">"x= \(x),y=\(y)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-ç»“æ„ä½“&quot;&gt;&lt;a href=&quot;#ä¸€-ç»“æ„ä½“&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ ç»“æ„ä½“&quot;&gt;&lt;/a&gt;ä¸€ ç»“æ„ä½“&lt;/h5&gt;&lt;figure class=&quot;highlight awk&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;  struct Date &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var year: Int&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var month: Int&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var day: Int&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var date = Date(year: &lt;span class=&quot;number&quot;&gt;2019&lt;/span&gt;, month: &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;, day: &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(date.year,date.month,date.day)&lt;span class=&quot;regexp&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;2019&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;regexp&quot;&gt;//&lt;/span&gt;Program ended with &lt;span class=&quot;keyword&quot;&gt;exit&lt;/span&gt; code: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;swiftæ ‡å‡†åº“ä¸­ï¼Œç»å¤§å¤šæ•°çš„å…¬å¼€ç±»å‹éƒ½æ˜¯ç»“æ„ä½“ï¼Œæšä¸¾åªå å¾ˆå°ä¸€éƒ¨åˆ†ï¼Œåƒï¼ŒBool, Int, Double, String, Array, Dictionaryç­‰å¸¸è§ç±»å‹éƒ½æ˜¯ç»“æ„ä½“&lt;/p&gt;
&lt;h5 id=&quot;äºŒ-ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨&quot;&gt;&lt;a href=&quot;#äºŒ-ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨&quot; class=&quot;headerlink&quot; title=&quot;äºŒ ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨&quot;&gt;&lt;/a&gt;äºŒ ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨&lt;/h5&gt;&lt;p&gt;&lt;img src=&quot;../assets/blogImg/jiegouti01.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;âŒé”™è¯¯æ”¹æ­£å›¾ç‰‡ä¸­æœ€åä¸€ä¸ªdate4 è¦æ”¹æˆdate5ï¼Œæç¤ºæ˜¯å¯¹çš„&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰çš„ç»“æ„ä½“éƒ½æœ‰ä¸€ä¸ªç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„åˆå§‹åŒ–å™¨ï¼ˆinitializerï¼‰&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘å™¨ä¼šæ ¹æ®æƒ…å†µï¼Œå¯èƒ½ä¼šä¸ºç»“æ„ä½“ç”Ÿæˆå¤šä¸ªåˆå§‹åŒ–å™¨ï¼Œ&lt;strong&gt;å®ƒè¦ä¿è¯æ‰€æœ‰æˆå‘˜éƒ½æœ‰åˆå§‹å€¼&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight vbscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;struct &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var &lt;span class=&quot;built_in&quot;&gt;year&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;Int&lt;/span&gt;?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var &lt;span class=&quot;built_in&quot;&gt;month&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;Int&lt;/span&gt;?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var &lt;span class=&quot;built_in&quot;&gt;day&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;Int&lt;/span&gt;?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var &lt;span class=&quot;built_in&quot;&gt;date&lt;/span&gt; =  &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;year&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;2019&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;month&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;day&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var date2 = &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;year&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;2019&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var date3 = &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;month&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var date4 = &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;day&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var date5 = &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¸ªä¼šæŠ¥é”™ä¹ˆï¼Œèƒ½ç¼–è¯‘é€šè¿‡ä¹ˆï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸ä¼šæŠ¥é”™ï¼Œå¯é€‰é¡¹éƒ½æœ‰ä¸ªé»˜è®¤å€¼nilï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆå¤šä¸ªåˆå§‹åŒ–æ–¹æ³•ï¼ŒåŒæ—¶å®ƒä¹Ÿèƒ½ä¿è¯æ‰€æœ‰å˜é‡éƒ½æœ‰åˆå§‹å€¼&lt;/p&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swiftæšä¸¾</title>
    <link href="http://example.com/2019/08/28/swift%E6%9E%9A%E4%B8%BE/"/>
    <id>http://example.com/2019/08/28/swiftæšä¸¾/</id>
    <published>2019-08-28T02:45:49.000Z</published>
    <updated>2020-12-05T06:41:26.861Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-æšä¸¾çš„åŸºæœ¬ç”¨æ³•"><a href="#ä¸€-æšä¸¾çš„åŸºæœ¬ç”¨æ³•" class="headerlink" title="ä¸€ æšä¸¾çš„åŸºæœ¬ç”¨æ³•"></a>ä¸€ æšä¸¾çš„åŸºæœ¬ç”¨æ³•</h5><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> &#123;</span></span><br><span class="line">    <span class="keyword">case</span> north</span><br><span class="line">    <span class="keyword">case</span> south</span><br><span class="line">    <span class="keyword">case</span> east</span><br><span class="line">    <span class="keyword">case</span> west</span><br><span class="line">&#125;</span><br><span class="line">var dir = Direction.west</span><br><span class="line">dir = .north</span><br><span class="line">print(dir)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> &#123;</span></span><br><span class="line">    <span class="keyword">case</span> spring, summer,autumn, winter</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var season = Season.summer</span><br><span class="line">switch season &#123;</span><br><span class="line"><span class="keyword">case</span> .<span class="symbol">spring:</span></span><br><span class="line">    print(<span class="string">"spring"</span>)</span><br><span class="line"><span class="keyword">case</span> .<span class="symbol">summer:</span></span><br><span class="line">    print(<span class="string">"summer"</span>)</span><br><span class="line"><span class="keyword">case</span> .<span class="symbol">autumn:</span></span><br><span class="line">    print(<span class="string">"autumn"</span>)</span><br><span class="line"><span class="keyword">case</span> .<span class="symbol">winter:</span></span><br><span class="line">    print(<span class="string">"winter"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºæœ‰é™å›ºå®šå€¼çš„å®šä¹‰æˆæšä¸¾æ¯”è¾ƒåˆé€‚,æ¯”å¦‚,å­£èŠ‚,è¯·æ±‚çŠ¶æ€,ç‰©æµæµè½¬çŠ¶æ€,è®¢å•çŠ¶æ€,ç­‰ç­‰</p><h5 id="äºŒ-å…³è”å€¼"><a href="#äºŒ-å…³è”å€¼" class="headerlink" title="äºŒ å…³è”å€¼"></a>äºŒ å…³è”å€¼</h5><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Score</span> &#123;</span></span><br><span class="line">    <span class="keyword">case</span> points(Int)</span><br><span class="line">    <span class="keyword">case</span> grade(Character)</span><br><span class="line">&#125;</span><br><span class="line">var score = Score.points(<span class="number">96</span>)</span><br><span class="line">score = .grade(<span class="string">"A"</span>)</span><br><span class="line">switch score &#123;</span><br><span class="line"><span class="keyword">case</span> let .points(point):</span><br><span class="line">    print(point)</span><br><span class="line"><span class="keyword">case</span> .grade(var grade):</span><br><span class="line">    grade = <span class="string">"B"</span></span><br><span class="line">    print(grade)</span><br><span class="line">&#125;/<span class="regexp">/B</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/Program ended with exit code: 0</span></span><br></pre></td></tr></table></figure><p>å¯åœ¨.pointså‰é¢æ•´ä½“å®šä¹‰ å®ƒå®šä¹‰ä»€ä¹ˆç±»å‹ï¼Œé‚£ä¸‰ä¸ªå˜é‡å°±æ˜¯ä»€ä¹ˆç±»å‹ï¼Œvar æˆ–let,ä¹Ÿå¯ä»¥å•ç‹¬å®šä¹‰æ¯”å¦‚.grade<br>å…³è”å€¼æ˜¯å­˜å‚¨åœ¨æšä¸¾å˜é‡å†…å­˜é‡Œé¢çš„</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> Password &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">number</span>(<span class="built_in">Int</span>,<span class="built_in">Int</span>,<span class="built_in">Int</span>,<span class="built_in">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> gesture(<span class="built_in">String</span>)</span><br><span class="line">&#125;</span><br><span class="line">var pwd = Password.<span class="built_in">number</span>(<span class="number">5</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>)</span><br><span class="line">pwd = .gesture(<span class="string">"13456"</span>)</span><br><span class="line"><span class="keyword">switch</span> pwd &#123;</span><br><span class="line"><span class="keyword">case</span> let .<span class="built_in">number</span>(n1, n2, n3, n4):</span><br><span class="line">    print(n1,n2,n3,n4)</span><br><span class="line"><span class="keyword">case</span>  .gesture(let gesture):</span><br><span class="line">    print(gesture)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯†ç æœ‰æ•°å­—å¯†ç å’Œæ‰‹åŠ¿å¯†ç ,è¿™ä¸¤ç§æ–¹å¼æ˜¯å›ºå®šçš„,å¯¹äºæœ‰é™å›ºå®šå€¼æˆ‘ä»¬å®šä¹‰æˆæšä¸¾,ä½†æ˜¯æ¯ä¸ªäººå®šä¹‰è®¾å®šçš„æ•°å­—å’Œæ‰‹åŠ¿å¯†ç éƒ½ä¸åŒ,é‚£æˆ‘ä»¬å°±å®šä¹‰å‡ ä¸ªå…³è”å€¼,ä¸è¿™ä¸ªæšä¸¾è¿›è¡Œå…³è”</p><a id="more"></a><h5 id="ä¸‰-åŸå§‹å€¼"><a href="#ä¸‰-åŸå§‹å€¼" class="headerlink" title="ä¸‰ åŸå§‹å€¼"></a>ä¸‰ åŸå§‹å€¼</h5><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">enum PokeSuit:Character &#123;</span><br><span class="line">    case spade = <span class="string">"â™ ï¸"</span></span><br><span class="line">    case heart = <span class="string">"â™¥ï¸"</span></span><br><span class="line">    case diamond = <span class="string">"â™¦ï¸"</span></span><br><span class="line">    case club = <span class="string">"â™£ï¸"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">var</span> suite = PokeSuit.heart</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(suite)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(suite.rawValue)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(PokeSuit.club.rawValue)</span></span><span class="comment">//heart</span></span><br><span class="line"><span class="comment">//â™¥ï¸</span></span><br><span class="line"><span class="comment">//â™£ï¸</span></span><br><span class="line"><span class="comment">//Program ended with exit code: 0</span></span><br></pre></td></tr></table></figure><p>æšä¸¾æˆå‘˜å¯ä»¥ä½¿ç”¨<strong>ç›¸åŒç±»å‹</strong>çš„é»˜è®¤å€¼é¢„å…ˆå¯¹åº”,è¿™ä¸ªé»˜è®¤å€¼å«åšåŸå§‹å€¼,æšä¸¾å˜é‡é€šè¿‡rawValueæ‹¿åˆ°åŸå§‹å€¼,åŸå§‹å€¼ä¸å ç”¨æšä¸¾å˜é‡å†…å­˜,å®ƒçš„å€¼å¯ä»¥åœ¨rawValueè°ƒç”¨æ—¶æ ¹æ®æšä¸¾å€¼ç›´æ¥è¿”å›,æ¯”å¦‚å¦‚ä¸‹çš„æ–¹å¼å®ç°</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">PokeSuit</span>:<span class="title">Character</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> spade = <span class="string">"â™ ï¸"</span></span><br><span class="line">    <span class="keyword">case</span> heart = <span class="string">"â™¥ï¸"</span></span><br><span class="line">    <span class="keyword">case</span> diamond = <span class="string">"â™¦ï¸"</span></span><br><span class="line">    <span class="keyword">case</span> club = <span class="string">"â™£ï¸"</span></span><br><span class="line">    <span class="keyword">var</span> rawValue:<span class="type">Character</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">         <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">                <span class="keyword">case</span> .spade:</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"h"</span></span><br><span class="line">                <span class="keyword">case</span> .heart:</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"â™¥ï¸"</span></span><br><span class="line">                <span class="keyword">case</span> .diamond:</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"â™¦ï¸"</span></span><br><span class="line">                <span class="keyword">case</span> .club:</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"â™£ï¸"</span></span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> suite = <span class="type">PokeSuit</span>.spade</span><br><span class="line"><span class="built_in">print</span>(suite.rawValue)</span><br><span class="line"><span class="built_in">print</span>(<span class="type">PokeSuit</span>.club.rawValue)</span><br><span class="line"><span class="comment">//output :h</span></span><br><span class="line"><span class="comment">//        â™£ï¸</span></span><br></pre></td></tr></table></figure><h5 id="å››-éšå¼åŸå§‹å€¼"><a href="#å››-éšå¼åŸå§‹å€¼" class="headerlink" title="å›› éšå¼åŸå§‹å€¼"></a>å›› éšå¼åŸå§‹å€¼</h5><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span>:<span class="title">String</span> &#123;</span></span><br><span class="line">    <span class="keyword">case</span> north = <span class="string">"north"</span></span><br><span class="line">    <span class="keyword">case</span> south = <span class="string">"south"</span></span><br><span class="line">    <span class="keyword">case</span> east = <span class="string">"east"</span></span><br><span class="line">    <span class="keyword">case</span> west = <span class="string">"west"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction2</span> :<span class="title">String</span> &#123;</span></span><br><span class="line">    <span class="keyword">case</span> north,south,east,west</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(Direction.north.rawValue)</span><br><span class="line">print(Direction2.north.rawValue)/<span class="regexp">/north</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/north</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/Program ended with exit code: 0</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæšä¸¾çš„åŸå§‹å€¼ç±»å‹æ˜¯<strong>Int</strong>,<strong>String</strong>,<strong>double</strong>,<strong>float</strong>Swiftä¼šè‡ªåŠ¨åˆ†é…åŸå§‹å€¼,Stringç±»å‹çš„åŸå§‹å€¼,å°±æ˜¯æšä¸¾å€¼æœ¬èº«</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">enum Season: Int &#123;</span><br><span class="line">    case spring, summer, autumn, winter</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Season.spring.rawValue)</span></span> <span class="comment">//0</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Season.summer.rawValue)</span></span> <span class="comment">//1</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Season.autumn.rawValue)</span></span> <span class="comment">//2</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Season.winter.rawValue)</span></span> <span class="comment">//3</span></span><br><span class="line"></span><br><span class="line">enum Season2: Int &#123;</span><br><span class="line">    case spring = <span class="number">1</span>, summer, autumn = <span class="number">4</span>, winter</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Season2.spring.rawValue)</span></span><span class="comment">//1</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Season2.summer.rawValue)</span></span><span class="comment">//2</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Season2.autumn.rawValue)</span></span><span class="comment">//4</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Season2.winter.rawValue)</span></span><span class="comment">//5</span></span><br></pre></td></tr></table></figure><p>Intç±»å‹çš„åŸå§‹å€¼é»˜è®¤ä»é›¶å¼€å§‹æ­¥é•¿ä¸º1å¾€ä¸Šé€’å¢,å¦‚æœæœ‰å‰ä¸€ä¸ªæšä¸¾æœ‰å®šä¹‰å€¼,åä¸€ä¸ªå°±åœ¨å‰ä¸€ä¸ªåŸºç¡€ä¸ŠåŠ 1</p><p><img src="../assets/blogImg/meiju01.png" alt><br>é™¤äº†ä¸Šé¢çš„ç±»å‹,å…¶ä»–ç±»å‹éƒ½ä¸ä¼šè‡ªåŠ¨åˆ†é…åŸå§‹å€¼,æ¯”å¦‚æˆ‘ä»¬æŒ‡å®šç±»å‹ä¸ºCharacterå°±ä¼šæŠ¥é”™. å…¶å®è¿™ä¸ªæ—¶å€™ç³»ç»Ÿæ€ä¹ˆç»™é»˜è®¤å€¼å‘¢,æ¯”å¦‚spring,å®ƒè¯¥æ‹¿å“ªä¸ªå­—ç¬¦ä½œä¸ºé»˜è®¤å€¼å‘¢, è€Œä¸”å®ƒä¹Ÿæ— æ³•æŠ‰æ‹©ä½ è°ƒç”¨rawvalue,è¯¥æŠŠé‚£ä¸ªå­—ç¬¦è¿”å›ç»™ä½ ,å¦‚æœæŠŠspringè¿”å›ç»™ä½ ,ä½†æ˜¯å®ƒçš„ç±»å‹æ˜¯Character,è¿”å›ç»™ä½ å­—ç¬¦ä¸²,è¿™ä¹Ÿä¸åˆé€‚,ç¼–è¯‘å™¨æ— æ³•æŠ‰æ‹©,æ‰€ä»¥è¦æˆ‘ä»¬è‡ªå·±æŒ‡å®š ,å½“ç„¶è¿™ä¸ªåŸå› æ˜¯æˆ‘ççŒœçš„ğŸ˜œ.</p><h5 id="äº”-é€’å½’æšä¸¾"><a href="#äº”-é€’å½’æšä¸¾" class="headerlink" title="äº” é€’å½’æšä¸¾"></a>äº” é€’å½’æšä¸¾</h5><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">indirect enum ArithExpr &#123;</span><br><span class="line">    <span class="keyword">case</span><span class="built_in"> number</span>(Int)</span><br><span class="line">    <span class="keyword">case</span><span class="built_in"> sum</span>(ArithExpr, ArithExpr)</span><br><span class="line">    <span class="keyword">case</span> difference(ArithExpr, ArithExpr)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> five = ArithExpr<span class="built_in">.number</span>(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">let</span> four = ArithExpr<span class="built_in">.number</span>(<span class="number">4</span>)</span><br><span class="line"><span class="keyword">let</span> two = ArithExpr<span class="built_in">.number</span>(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">let</span><span class="built_in"> sum</span> = ArithExpr<span class="built_in">.sum</span>(five, four)</span><br><span class="line"><span class="keyword">let</span> difference = ArithExpr.difference<span class="built_in">(sum</span>, two)</span><br><span class="line"></span><br><span class="line">func calculate(<span class="number">_</span> expr: ArithExpr) -&gt; Int &#123;</span><br><span class="line">    <span class="keyword">switch</span> expr &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> <span class="built_in">.number</span>(<span class="keyword">value</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span></span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> <span class="built_in">.sum</span>(n1, n2):</span><br><span class="line">        <span class="keyword">return</span> calculate(n1) + calculate(n2)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> .difference(n1, n2):</span><br><span class="line">        <span class="keyword">return</span> calculate(n1) - calculate(n2)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">print(calculate(difference))//<span class="number">7</span></span><br><span class="line">//Program ended with exit code: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>é€’å½’æšä¸¾è¦ç”¨<strong>indirect</strong>æ ‡è¯†, è‡ªå·±åµŒå¥—è‡ªå·±</p><h5 id="å…­-MemoryLayout"><a href="#å…­-MemoryLayout" class="headerlink" title="å…­ MemoryLayout"></a>å…­ MemoryLayout</h5><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">enum Password &#123;</span><br><span class="line">   case number(Int, Int, Int, Int)</span><br><span class="line">   case other</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;Password&gt;.stride)</span></span> <span class="comment">//40</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;Password&gt;.size)</span></span> <span class="comment">//33</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;Password&gt;.alignment)</span></span> <span class="comment">//8</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">var</span> pwd = Password.number(<span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">4</span>)</span><br><span class="line">pwd = .other</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.stride(ofValue: pwd)</span></span>)  <span class="comment">//40</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.size(ofValue: pwd)</span></span>) <span class="comment">//33</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.alignment(ofValue: pwd)</span></span>) <span class="comment">// 8</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨MemoryLayoutè·å–æ•°æ®ç±»å‹å ç”¨çš„å†…å­˜å¤§å°</p><ul><li>MemoryLayout<object>.stride<br>ç³»ç»Ÿåˆ†é…å ç”¨çš„ç©ºé—´å¤§å°</object></li><li>MemoryLayout<object>.size<br>å®é™…ç”¨åˆ°çš„ç©ºé—´å¤§å°</object></li><li>MemoryLayout<object>.alignment<br>å¯¹é½å‚æ•°,å†…å­˜å¯¹é½å‚æ•°,ä»€ä¹ˆæ˜¯å†…å­˜å¯¹é½å‚è€ƒbaidu</object></li></ul><hr><p>ğŸ¦</p><h5 id="ä¸ƒ-æšä¸¾å˜é‡çš„å†…å­˜å¸ƒå±€"><a href="#ä¸ƒ-æšä¸¾å˜é‡çš„å†…å­˜å¸ƒå±€" class="headerlink" title="ä¸ƒ æšä¸¾å˜é‡çš„å†…å­˜å¸ƒå±€"></a>ä¸ƒ æšä¸¾å˜é‡çš„å†…å­˜å¸ƒå±€</h5><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">enum TestEnum &#123;</span><br><span class="line">    case test1, test2, test3</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">var</span> t = TestEnum.test1</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(Mems.ptr(ofVal: &amp;t)</span></span>)</span><br><span class="line">t = .test2</span><br><span class="line">t = .test3</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.stride(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.size(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.alignment(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"-------"</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.stride)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.size)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.alignment)</span></span></span><br></pre></td></tr></table></figure><p><a href="https://github.com/CoderMJLee/Mems" target="_blank" rel="noopener">Mems</a><br>é€šè¿‡æ‰“å°æˆ‘ä»¬å¯ä»¥çœ‹å‡º åˆ†é…çš„å†…å­˜,å®é™…å ç”¨çš„å†…å­˜,å†…å­˜å¯¹é½å‚æ•°éƒ½æ˜¯1,å¯¹äºæ™®é€šçš„æšä¸¾é€šè¿‡1ä¸ªå­—èŠ‚æ¥å­˜å‚¨,é‡Œé¢å­˜å‚¨çš„æ˜¯0,1,2,3â€¦ æ ¹æ®caseçš„é¡ºåºæ¥æ’çš„,ä¸€ä¸ªå­—èŠ‚èƒ½ä»£è¡¨å¤šå°‘ä¸ªcaseå‘¢ 256ä¸ª,è¶…è¿‡256ä¸ªcase, æšä¸¾å°±ä¼šå ç”¨ä¸¤ä¸ªå­—èŠ‚<br><img src="../assets/blogImg/meiju02.png" alt><br><img src="../assets/blogImg/meiju03.png" alt><br><img src="../assets/blogImg/meiju04.png" alt></p><h5 id="æšä¸¾æŒ‡å®šåŸå§‹å€¼æ—¶å†…å­˜å¸ƒå±€æƒ…å†µ"><a href="#æšä¸¾æŒ‡å®šåŸå§‹å€¼æ—¶å†…å­˜å¸ƒå±€æƒ…å†µ" class="headerlink" title="æšä¸¾æŒ‡å®šåŸå§‹å€¼æ—¶å†…å­˜å¸ƒå±€æƒ…å†µ"></a>æšä¸¾æŒ‡å®šåŸå§‹å€¼æ—¶å†…å­˜å¸ƒå±€æƒ…å†µ</h5><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">enum TestEnum:Int &#123;</span><br><span class="line">    case test1 = <span class="number">1</span>, test = <span class="number">2</span>, test3 = <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">var</span> t = TestEnum.test1</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.stride(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.size(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.alignment(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"-------------"</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.stride)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.size)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.alignment)</span></span></span><br><span class="line"></span><br><span class="line">enum TestEnum2:String &#123;</span><br><span class="line">    case test1 = <span class="string">"hello"</span>, test2 = <span class="string">"world"</span>, test3 = <span class="string">"nihao"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">var</span> t2 = TestEnum2.test1</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.stride(ofValue: t2)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.size(ofValue: t2)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.alignment(ofValue: t2)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"-------------"</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum2&gt;.stride)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum2&gt;.size)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum2&gt;.alignment)</span></span></span><br><span class="line"><span class="comment">//-------------</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//-------------</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//1</span></span><br></pre></td></tr></table></figure><p> é€šè¿‡æ‰“å°ç»“æœæˆ‘ä»¬å¯ä»¥çŸ¥é“ä¸ç®¡ä½ æšä¸¾æŒ‡å®šçš„åŸå§‹å€¼ç±»å‹æ˜¯ä»€ä¹ˆ,ä¹Ÿä¸ç®¡ä½ çš„æ¯ä¸ªæšä¸¾å€¼æŒ‡å®šçš„æ˜¯ä»€ä¹ˆ,è¿˜æ˜¯å ç”¨ä¸€ä¸ªå­—èŠ‚<br> <img src="../assets/blogImg/meiju05.png" alt><br><img src="../assets/blogImg/meiju06.png" alt><br><img src="../assets/blogImg/meiju07.png" alt></p><h5 id="æšä¸¾æŒ‡å®šå…³è”å€¼æ—¶å†…å­˜å¸ƒå±€æƒ…å†µ"><a href="#æšä¸¾æŒ‡å®šå…³è”å€¼æ—¶å†…å­˜å¸ƒå±€æƒ…å†µ" class="headerlink" title="æšä¸¾æŒ‡å®šå…³è”å€¼æ—¶å†…å­˜å¸ƒå±€æƒ…å†µ"></a>æšä¸¾æŒ‡å®šå…³è”å€¼æ—¶å†…å­˜å¸ƒå±€æƒ…å†µ</h5><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">enum TestEnum &#123;</span><br><span class="line">    case test1(Int,Int,Int)</span><br><span class="line">    case test2(Int,Int)</span><br><span class="line">    case test3(Int)</span><br><span class="line">    case test4(Bool)</span><br><span class="line">    case test5</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">var</span> t = TestEnum.test1(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">t = .test2(<span class="number">30</span>,<span class="number">40</span>)</span><br><span class="line">t = .test3(<span class="number">100</span>)</span><br><span class="line">t = .test4(true)</span><br><span class="line">t = .test5</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.stride(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.size(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.alignment(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"----------------------------"</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.stride)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.size)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.alignment)</span></span></span><br><span class="line"><span class="comment">//32</span></span><br><span class="line"><span class="comment">//25</span></span><br><span class="line"><span class="comment">//8</span></span><br><span class="line"><span class="comment">//----------------------------</span></span><br><span class="line"><span class="comment">//32</span></span><br><span class="line"><span class="comment">//25</span></span><br><span class="line"><span class="comment">//8</span></span><br><span class="line"><span class="comment">//Program ended with exit code: 0</span></span><br></pre></td></tr></table></figure><p>å½“ä¸ºå…³è”å€¼æ—¶å†…å­˜å¸ƒå±€å°±ä¸ä¸€æ ·äº†,ä¸Šé¢æˆ‘ä»¬è®²è¿‡,æšä¸¾çš„å…³è”å€¼å­˜å‚¨åœ¨æšä¸¾å˜é‡çš„å†…å­˜ä¸­,æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„æšä¸¾ ç³»ç»Ÿåˆ†é…äº†32 å­—èŠ‚å¤§å°, å®ƒå®é™…ä½¿ç”¨äº†25å­—èŠ‚, å†…å­˜å¯¹é½ä¸º8ä¸ªå­—èŠ‚ é‚£ä¸ºä»€ä¹ˆå›äº‹è¿™æ ·çš„å‘¢: é‚£æ˜¯å› ä¸º æˆ‘ä»¬æšä¸¾çš„å…³è”å€¼åœ¨æœ€å¤§å­—èŠ‚çš„æ˜¯Intç±»å‹,Int åœ¨32å 4å­—èŠ‚ 64ä½ç³»ç»Ÿå 8ä¸ªå­—èŠ‚, æ‰€ä»¥å†…å­˜å¯¹é½ä¸º8  éœ€è¦å­˜å‚¨æœ€å¤§å ç”¨å­—èŠ‚çš„case æ˜¯test1(Int,Int,Int),å®ƒå ç”¨3*8 = 24  ,å…¶å®ƒå‡ ä¸ªcaseéƒ½æ²¡æœ‰å®ƒå ç”¨çš„å†…å­˜ç©ºé—´å¤§,æ‰€ä»¥å®Œå…¨å¯ä»¥å…±äº«test1çš„ç©ºé—´, æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æšä¸¾å®é™…å ç”¨25ä¸ªå­—èŠ‚,æœ€å¤§çš„caseå 24,é‚£å¤šçš„ä¸€ä¸ªå­—èŠ‚æ˜¯å­˜ä»€ä¹ˆçš„å‘¢? è·Ÿä¸Šé¢çš„æšä¸¾ä¸€æ ·,æ˜¯æ¥å­˜å‚¨caseæ ‡è¯†çš„,0,1,2,3â€¦. ç”¨æ¥åŒºåˆ«ä½ èµ‹å€¼çš„æ˜¯å“ªä¸ªcaseçš„</p><p><img src="../assets/blogImg/meiju08.png" alt><br><img src="../assets/blogImg/meiju09.png" alt><br><img src="../assets/blogImg/meiju10.png" alt><br><img src="../assets/blogImg/meiju11.png" alt><br><img src="../assets/blogImg/meiju12.png" alt></p><h5 id="1-ä¸ªcaseçš„æšä¸¾å†…å­˜å¸ƒå±€"><a href="#1-ä¸ªcaseçš„æšä¸¾å†…å­˜å¸ƒå±€" class="headerlink" title="1 ä¸ªcaseçš„æšä¸¾å†…å­˜å¸ƒå±€"></a>1 ä¸ªcaseçš„æšä¸¾å†…å­˜å¸ƒå±€</h5><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">enum TestEnum &#123;</span><br><span class="line">    case test</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">var</span> t = TestEnum.test</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.stride(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.size(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.alignment(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"----------------------------"</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.stride)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.size)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.alignment)</span></span><span class="comment">//1</span></span><br><span class="line"><span class="comment">//0</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//----------------------------</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//0</span></span><br><span class="line"><span class="comment">//1</span></span><br></pre></td></tr></table></figure><p>æšä¸¾å ç”¨ç©ºé—´ä¸ºé›¶,ä»¥å‰æœ‰ä¸ª1å­—èŠ‚æ¥æ ‡è¯†æ˜¯é‚£ä¸ªcase,ç°åœ¨å°±ä¸€ä¸ªcase ,å°±æ²¡å¿…è¦æ ‡è¯†äº†</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> enum TestEnum &#123;</span><br><span class="line">    case test(Int)</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">var</span> t = TestEnum.test(<span class="number">10</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.stride(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.size(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout.alignment(ofValue: t)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"----------------------------"</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.stride)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.size)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(MemoryLayout&lt;TestEnum&gt;.alignment)</span></span><span class="comment">//8</span></span><br><span class="line"><span class="comment">//8</span></span><br><span class="line"><span class="comment">//8</span></span><br><span class="line"><span class="comment">//----------------------------</span></span><br><span class="line"><span class="comment">//8</span></span><br><span class="line"><span class="comment">//8</span></span><br><span class="line"><span class="comment">//8</span></span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªcase ä¸éœ€è¦æ ‡è¯†ä½,æ‰€ä»¥ æœ€å¤§caseéœ€è¦å¤šå°‘å­—èŠ‚,æšä¸¾å°±å®é™…éœ€è¦å¤šå°‘ç©ºé—´</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-æšä¸¾çš„åŸºæœ¬ç”¨æ³•&quot;&gt;&lt;a href=&quot;#ä¸€-æšä¸¾çš„åŸºæœ¬ç”¨æ³•&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ æšä¸¾çš„åŸºæœ¬ç”¨æ³•&quot;&gt;&lt;/a&gt;ä¸€ æšä¸¾çš„åŸºæœ¬ç”¨æ³•&lt;/h5&gt;&lt;figure class=&quot;highlight crystal&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Direction&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; north&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; south&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; east&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; west&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var dir = Direction.west&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dir = .north&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(dir)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Season&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; spring, summer,autumn, winter&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var season = Season.summer&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;switch season &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; .&lt;span class=&quot;symbol&quot;&gt;spring:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(&lt;span class=&quot;string&quot;&gt;&quot;spring&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; .&lt;span class=&quot;symbol&quot;&gt;summer:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(&lt;span class=&quot;string&quot;&gt;&quot;summer&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; .&lt;span class=&quot;symbol&quot;&gt;autumn:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(&lt;span class=&quot;string&quot;&gt;&quot;autumn&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; .&lt;span class=&quot;symbol&quot;&gt;winter:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(&lt;span class=&quot;string&quot;&gt;&quot;winter&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯¹äºæœ‰é™å›ºå®šå€¼çš„å®šä¹‰æˆæšä¸¾æ¯”è¾ƒåˆé€‚,æ¯”å¦‚,å­£èŠ‚,è¯·æ±‚çŠ¶æ€,ç‰©æµæµè½¬çŠ¶æ€,è®¢å•çŠ¶æ€,ç­‰ç­‰&lt;/p&gt;
&lt;h5 id=&quot;äºŒ-å…³è”å€¼&quot;&gt;&lt;a href=&quot;#äºŒ-å…³è”å€¼&quot; class=&quot;headerlink&quot; title=&quot;äºŒ å…³è”å€¼&quot;&gt;&lt;/a&gt;äºŒ å…³è”å€¼&lt;/h5&gt;&lt;figure class=&quot;highlight crystal&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Score&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; points(Int)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; grade(Character)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var score = Score.points(&lt;span class=&quot;number&quot;&gt;96&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;score = .grade(&lt;span class=&quot;string&quot;&gt;&quot;A&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;switch score &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; let .points(point):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(point)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; .grade(var grade):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    grade = &lt;span class=&quot;string&quot;&gt;&quot;B&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(grade)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;/&lt;span class=&quot;regexp&quot;&gt;/B&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;regexp&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;regexp&quot;&gt;/Program ended with exit code: 0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯åœ¨.pointså‰é¢æ•´ä½“å®šä¹‰ å®ƒå®šä¹‰ä»€ä¹ˆç±»å‹ï¼Œé‚£ä¸‰ä¸ªå˜é‡å°±æ˜¯ä»€ä¹ˆç±»å‹ï¼Œvar æˆ–let,ä¹Ÿå¯ä»¥å•ç‹¬å®šä¹‰æ¯”å¦‚.grade&lt;br&gt;å…³è”å€¼æ˜¯å­˜å‚¨åœ¨æšä¸¾å˜é‡å†…å­˜é‡Œé¢çš„&lt;/p&gt;
&lt;figure class=&quot;highlight autoit&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;enum&lt;/span&gt; Password &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;number&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;Int&lt;/span&gt;,&lt;span class=&quot;built_in&quot;&gt;Int&lt;/span&gt;,&lt;span class=&quot;built_in&quot;&gt;Int&lt;/span&gt;,&lt;span class=&quot;built_in&quot;&gt;Int&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; gesture(&lt;span class=&quot;built_in&quot;&gt;String&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var pwd = Password.&lt;span class=&quot;built_in&quot;&gt;number&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pwd = .gesture(&lt;span class=&quot;string&quot;&gt;&quot;13456&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; pwd &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; let .&lt;span class=&quot;built_in&quot;&gt;number&lt;/span&gt;(n1, n2, n3, n4):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(n1,n2,n3,n4)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt;  .gesture(let gesture):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(gesture)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯†ç æœ‰æ•°å­—å¯†ç å’Œæ‰‹åŠ¿å¯†ç ,è¿™ä¸¤ç§æ–¹å¼æ˜¯å›ºå®šçš„,å¯¹äºæœ‰é™å›ºå®šå€¼æˆ‘ä»¬å®šä¹‰æˆæšä¸¾,ä½†æ˜¯æ¯ä¸ªäººå®šä¹‰è®¾å®šçš„æ•°å­—å’Œæ‰‹åŠ¿å¯†ç éƒ½ä¸åŒ,é‚£æˆ‘ä»¬å°±å®šä¹‰å‡ ä¸ªå…³è”å€¼,ä¸è¿™ä¸ªæšä¸¾è¿›è¡Œå…³è”&lt;/p&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swift å¯é€‰é¡¹(Optional)</title>
    <link href="http://example.com/2019/08/21/swift-%E5%8F%AF%E9%80%89%E9%A1%B9-Optional/"/>
    <id>http://example.com/2019/08/21/swift-å¯é€‰é¡¹-Optional/</id>
    <published>2019-08-21T11:32:28.000Z</published>
    <updated>2020-12-12T10:38:39.256Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-å¯é€‰é¡¹å®šä¹‰"><a href="#ä¸€-å¯é€‰é¡¹å®šä¹‰" class="headerlink" title="ä¸€ å¯é€‰é¡¹å®šä¹‰"></a>ä¸€ å¯é€‰é¡¹å®šä¹‰</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name:<span class="type">String?</span> = <span class="string">"Jack"</span></span><br><span class="line">name = <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> age:<span class="type">Int?</span></span><br><span class="line">age = <span class="number">10</span></span><br><span class="line">age = <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>,<span class="number">15</span>,<span class="number">40</span>,<span class="number">29</span>]</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">get</span><span class="params">(<span class="number">_</span> index:Int)</span></span> -&gt; <span class="type">Int?</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt;= array.<span class="built_in">count</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array[index]</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="keyword">get</span>(<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="keyword">get</span>(-<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="keyword">get</span>(<span class="number">4</span>))<span class="comment">//Optional(15)</span></span><br><span class="line"><span class="comment">//nil</span></span><br><span class="line"><span class="comment">//nil</span></span><br></pre></td></tr></table></figure><p>å¯é€‰é¡¹,ä¸€èˆ¬ä¹Ÿå«å¯é€‰ç±»å‹,å®ƒå…è®¸å°†å€¼è®¾ç½®ä¸ºnil,åœ¨ç±»å‹åç§°åé¢åŠ ä¸ªé—®å·â“æ¥å®šä¹‰ä¸€ä¸ªå¯é€‰é¡¹, é€šè¿‡æ‰“å°æˆ‘ä»¬çœ‹åˆ°å¯é€‰é¡¹æ‰“å°å‡ºæ¥æ˜¯Optional(15),é‚£ä¹ˆè¿™ä¸ªOptional(15)æˆ‘ä»¬è¯¥æ€ä¹ˆç”¨å‘¢</p><h5 id="äºŒ-å¼ºåˆ¶è§£åŒ…"><a href="#äºŒ-å¼ºåˆ¶è§£åŒ…" class="headerlink" title="äºŒ å¼ºåˆ¶è§£åŒ…"></a>äºŒ å¼ºåˆ¶è§£åŒ…</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var age:Int? = <span class="number">10</span></span><br><span class="line">var ageInt:Int = age!</span><br><span class="line">ageInt += <span class="number">10</span></span><br><span class="line">print(ageInt)<span class="regexp">//</span><span class="number">20</span></span><br><span class="line"><span class="regexp">//</span>Program ended with <span class="keyword">exit</span> code: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¦ä»å¯é€‰é¡¹ä¸­å–å‡ºè¢«åŒ…è£…çš„æ•°æ®,éœ€è¦ä½¿ç”¨æ„Ÿå¹å·â•</p><p><img src="../assets/blogImg/kexuanxiang01.png" alt><br>å¯¹å€¼ä¸ºnilçš„å¯é€‰é¡¹è¿›è¡Œå¼ºåˆ¶è§£åŒ…,å°†ä¼šäº§ç”Ÿè¿è¡Œæ—¶é”™è¯¯</p><h5 id="åˆ¤æ–­å¯é€‰é¡¹æ˜¯å¦åŒ…å«å€¼"><a href="#åˆ¤æ–­å¯é€‰é¡¹æ˜¯å¦åŒ…å«å€¼" class="headerlink" title="åˆ¤æ–­å¯é€‰é¡¹æ˜¯å¦åŒ…å«å€¼"></a>åˆ¤æ–­å¯é€‰é¡¹æ˜¯å¦åŒ…å«å€¼</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number = <span class="type">Int</span>(<span class="string">"123"</span>)</span><br><span class="line"><span class="keyword">if</span> number != <span class="literal">nil</span>&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°æˆåŠŸ:\(number)"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°å¤±è´¥"</span>)</span><br><span class="line">&#125;<span class="comment">//å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°æˆåŠŸ:Optional(123)</span></span><br></pre></td></tr></table></figure><a id="more"></a><h5 id="ä¸‰-å¯é€‰é¡¹ç»‘å®š"><a href="#ä¸‰-å¯é€‰é¡¹ç»‘å®š" class="headerlink" title="ä¸‰ å¯é€‰é¡¹ç»‘å®š"></a>ä¸‰ å¯é€‰é¡¹ç»‘å®š</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> number = <span class="type">Int</span>(<span class="string">"123"</span>) &#123;</span><br><span class="line">    <span class="comment">// number æ˜¯å¼ºåˆ¶è§£åŒ…åçš„Intå€¼</span></span><br><span class="line">    <span class="comment">// number ä½œç”¨åŸŸä»…é™äºè¿™ä¸ªå¤§æ‹¬å·,å¦‚æœä¸ä»…é™ ä½¿ç”¨guard</span></span><br><span class="line">    <span class="built_in">print</span>(number)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"è½¬æ¢å¤±è´¥"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span>:<span class="title">Int</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> spring = <span class="number">1</span> ,summer, autum, winter</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> season = <span class="type">Season</span>(rawValue: <span class="number">6</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> season &#123;</span><br><span class="line">    <span class="keyword">case</span> .spring:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">"spring season"</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"the other season"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"no such season"</span>)</span><br><span class="line">&#125;<span class="comment">//123</span></span><br><span class="line"><span class="comment">//no such season</span></span><br></pre></td></tr></table></figure><h5 id="å¯é€‰é¡¹å¤šå€¼é“¾æ¥-é€šè¿‡é€—å·"><a href="#å¯é€‰é¡¹å¤šå€¼é“¾æ¥-é€šè¿‡é€—å·" class="headerlink" title="å¯é€‰é¡¹å¤šå€¼é“¾æ¥ é€šè¿‡é€—å·"></a>å¯é€‰é¡¹å¤šå€¼é“¾æ¥ é€šè¿‡é€—å·</h5><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">let</span> <span class="built_in">first</span> = Int(<span class="string">"4"</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">let</span> <span class="built_in">second</span> = Int(<span class="string">"42"</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">first</span> &lt; <span class="built_in">second</span> &amp;&amp; <span class="built_in">second</span> &lt; <span class="number">100</span> &#123;</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">"\(first) &lt; \(second) &lt; 100"</span>)</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">let</span> <span class="built_in">first</span> = Int(<span class="string">"4"</span>),</span><br><span class="line"><span class="built_in">let</span> <span class="built_in">second</span> = Int(<span class="string">"42"</span>),</span><br><span class="line">    <span class="built_in">first</span> &lt; <span class="built_in">second</span> &amp;&amp; <span class="built_in">second</span> &lt; <span class="number">100</span> &#123;</span><br><span class="line">   <span class="built_in">print</span>(<span class="string">"\(first) &lt; \(second) &lt; 100"</span>)</span><br><span class="line">&#125;</span><br><span class="line">//<span class="number">4</span> &lt; <span class="number">42</span> &lt; <span class="number">100</span></span><br><span class="line">//<span class="number">4</span> &lt; <span class="number">42</span> &lt; <span class="number">100</span></span><br></pre></td></tr></table></figure><h5 id="whileå¾ªç¯ä¸­ä½¿ç”¨å¯é€‰é¡¹ç»‘å®š"><a href="#whileå¾ªç¯ä¸­ä½¿ç”¨å¯é€‰é¡¹ç»‘å®š" class="headerlink" title="whileå¾ªç¯ä¸­ä½¿ç”¨å¯é€‰é¡¹ç»‘å®š"></a>whileå¾ªç¯ä¸­ä½¿ç”¨å¯é€‰é¡¹ç»‘å®š</h5><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">var</span> strs = [<span class="string">"10"</span>,<span class="string">"20"</span>,<span class="string">"bcd"</span>,<span class="string">"-20"</span>, <span class="string">"30"</span>]</span><br><span class="line"><span class="built_in">var</span> index = <span class="number">0</span></span><br><span class="line"><span class="built_in">var</span> <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">let</span> <span class="built_in">num</span> = Int(strs[index]), <span class="built_in">num</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">    <span class="built_in">sum</span> += <span class="built_in">num</span></span><br><span class="line">    index += <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure><p>éå†æ•°ç»„,å°†é‡åˆ°çš„æ•´æ•°éƒ½åŠ èµ·æ¥,é‡åˆ°è´Ÿæ•°,æˆ–éæ•°å­—,è·³è¿‡</p><h5 id="å››-ç©ºåˆå¹¶è¿ç®—ç¬¦"><a href="#å››-ç©ºåˆå¹¶è¿ç®—ç¬¦" class="headerlink" title="å›› ç©ºåˆå¹¶è¿ç®—ç¬¦ ??"></a>å›› ç©ºåˆå¹¶è¿ç®—ç¬¦ ??</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a:<span class="type">Int?</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> b:<span class="type">Int?</span> = <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">c</span> = a ?? b</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"a=\(a),b=\(b),c=\(c)"</span>) <span class="comment">//a=Optional(1),b=Optional(2),c=Optional(1)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a1:<span class="type">Int?</span> = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">let</span> b1:<span class="type">Int?</span> = <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> c1 = a1 ?? b1</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"a1=\(a1),b1=\(b1),c1=\(c1)"</span>)  <span class="comment">//a1=nil,b1=Optional(2),c1=Optional(2)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a2:<span class="type">Int?</span> = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">let</span> b2:<span class="type">Int?</span> = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">let</span> c2 = a2 ?? b2</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"a2=\(a2),b2=\(b2),c2=\(c2)"</span>) <span class="comment">//a2=nil,b2=nil,c2=nil</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a3:<span class="type">Int?</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> b3:<span class="type">Int</span> = <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> c3 = a3 ?? b3</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"a3=\(a3),b3=\(b3),c3=\(c3)"</span>) <span class="comment">//a3=Optional(1),b3=2,c3=1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a4:<span class="type">Int?</span> = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">let</span> b4:<span class="type">Int</span> = <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> c4 = a4 ?? b4</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"a4=\(a4),b4=\(b4),c4=\(c4)"</span>) <span class="comment">//a4=nil,b4=2,c4=2</span></span><br></pre></td></tr></table></figure><p>å¯é€‰é¡¹è¦æ±‚</p><ul><li><p>a ?? b</p></li><li><p>aæ˜¯å¯é€‰é¡¹</p></li><li><p>b æ˜¯æˆ–è€…ä¸æ˜¯å¯é€‰é¡¹éƒ½è¡Œ</p></li><li><p>a è·Ÿ bçš„å­˜å‚¨ç±»å‹å¿…é¡»ç›¸åŒ</p></li><li><p>å¦‚æœa ä¸ä¸ºç©ºå°±è¿”å›a</p></li><li><p>å¦‚æœa ä¸ºç©ºå°±è¿”å›b</p></li><li><p>å¦‚æœ b ä¸æ˜¯å¯é€‰é¡¹,è¿”å›a ä¼šè‡ªåŠ¨è§£åŒ…</p></li></ul><p>?? è¿ç®—ç¬¦å®šä¹‰</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> ?? &lt;T&gt;<span class="params">(<span class="keyword">optional</span>: T?, defaultValue: @autoclosure <span class="params">()</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">T</span>) <span class="keyword">rethrows</span> -&gt; <span class="type">T</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> ?? &lt;T&gt;<span class="params">(<span class="keyword">optional</span>: T?, defaultValue: @autoclosure <span class="params">()</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">T?</span>) <span class="keyword">rethrows</span> -&gt; <span class="type">T?</span></span><br></pre></td></tr></table></figure><h5 id="äº”-guardè¯­å¥"><a href="#äº”-guardè¯­å¥" class="headerlink" title="äº” guardè¯­å¥"></a>äº” guardè¯­å¥</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">login</span><span class="params">(<span class="number">_</span> info:[String:String])</span></span>  &#123;</span><br><span class="line">    <span class="keyword">let</span> username:<span class="type">String</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> tmp = info[<span class="string">"username"</span>] &#123;</span><br><span class="line">        username = tmp</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"è¯·è¾“å…¥ç”¨æˆ·å"</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> password:<span class="type">String</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> tmp = info[<span class="string">"password"</span>] &#123;</span><br><span class="line">        password = tmp</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"è¯·è¾“å…¥å¯†ç "</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"ç”¨æˆ·å:\(username), å¯†ç :\(password)"</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">login([<span class="string">"username"</span>:<span class="string">"jack"</span>,<span class="string">"password"</span>:<span class="string">"123456"</span>]) <span class="comment">//ç”¨æˆ·å:jack, å¯†ç :123456</span></span><br><span class="line">login([<span class="string">"password"</span>:<span class="string">"123456"</span>]) <span class="comment">//è¯·è¾“å…¥ç”¨æˆ·å</span></span><br><span class="line">login([<span class="string">"username"</span>:<span class="string">"jack"</span>]) <span class="comment">// è¯·è¾“å…¥å¯†ç </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">guardLogin</span><span class="params">(<span class="number">_</span> info:[String:String])</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> username = info[<span class="string">"username"</span>] <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"è¯·è¾“å…¥ç”¨æˆ·å"</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> password = info[<span class="string">"password"</span>] <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"è¯·è¾“å…¥å¯†ç "</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">"ç”¨æˆ·å:\(username), å¯†ç :\(password)"</span>)</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">guard æ¡ä»¶ <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="regexp">//</span> <span class="keyword">do</span> something....</span><br><span class="line">é€€å‡ºå½“å‰ä½œç”¨åŸŸ</span><br><span class="line"><span class="regexp">//</span> returnã€<span class="keyword">break</span>ã€<span class="keyword">continue</span>ã€throw error</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“guardè¯­å¥çš„æ¡ä»¶ä¸ºfalseæ—¶,å°±ä¼šæ‰§è¡Œå¤§æ‹¬å·é‡Œé¢çš„ä»£ç <br>å½“guardè¯­å¥çš„æ¡ä»¶ä¸ºtrueæ—¶,å°±ä¼šè·³è¿‡guardè¯­å¥<br>å½“ä½¿ç”¨guardè¯­å¥è¿›è¡Œå¯é€‰é¡¹ç»‘å®šæ—¶,ç»‘å®šçš„å¸¸é‡(let),å˜é‡(var)ä¹Ÿèƒ½åœ¨å¤–å±‚ä½œç”¨åŸŸä¸­ä½¿ç”¨</p><h5 id="å…­-éšå¼è§£åŒ…"><a href="#å…­-éšå¼è§£åŒ…" class="headerlink" title="å…­ éšå¼è§£åŒ…"></a>å…­ éšå¼è§£åŒ…</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1:<span class="type">Int!</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">let</span> num2:<span class="type">Int</span> = num1</span><br><span class="line"><span class="keyword">if</span> num1 != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(num1 + <span class="number">6</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> num3 = num1 &#123;</span><br><span class="line">    <span class="built_in">print</span>(num3)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> num1:<span class="type">Int!</span> = <span class="literal">nil</span><span class="comment">// Fatal error: Unexpectedly found nil while implicitly unwrapping an Optional value</span></span><br><span class="line"><span class="keyword">let</span> num2:<span class="type">Int</span> = num1</span><br></pre></td></tr></table></figure><ul><li><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯é€‰é¡¹ä¸€æ—¦è¢«è®¾å®šå€¼ä¹‹åï¼Œå°±ä¼šä¸€ç›´æ‹¥æœ‰å€¼</p></li><li><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å»æ‰æ£€æŸ¥ï¼Œä¹Ÿä¸å¿…æ¯æ¬¡è®¿é—®çš„æ—¶å€™éƒ½è¿›è¡Œè§£åŒ…ï¼Œå› ä¸ºå®ƒèƒ½ç¡®å®šæ¯æ¬¡è®¿é—®çš„æ—¶å€™éƒ½æœ‰å€¼</p></li><li><p>å¯ä»¥åœ¨ç±»å‹åé¢åŠ ä¸ªæ„Ÿå¹å· ! å®šä¹‰ä¸€ä¸ªéšå¼è§£åŒ…çš„å¯é€‰é¡¹</p></li></ul><h5 id="ä¸ƒ-å¤šé‡å¯é€‰é¡¹"><a href="#ä¸ƒ-å¤šé‡å¯é€‰é¡¹" class="headerlink" title="ä¸ƒ å¤šé‡å¯é€‰é¡¹"></a>ä¸ƒ å¤šé‡å¯é€‰é¡¹</h5><p><img src="../assets/blogImg/kexuanxiang02.png" alt><br><img src="../assets/blogImg/kexuanxiang03.png" alt></p><h5 id="å…«-å¯é€‰é¡¹çš„æœ¬è´¨"><a href="#å…«-å¯é€‰é¡¹çš„æœ¬è´¨" class="headerlink" title="å…« å¯é€‰é¡¹çš„æœ¬è´¨"></a>å…« å¯é€‰é¡¹çš„æœ¬è´¨</h5><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a:Int</span>? = <span class="number">10</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">b:Optional</span><span class="symbol">&lt;Int&gt;</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">print</span>(<span class="keyword">a</span> == <span class="keyword">b</span>) //true</span><br></pre></td></tr></table></figure><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> enum Optional&lt;Wrapped&gt; : ExpressibleByNilLiteral &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The absence of a value.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// In code, the absence of a value is typically written using the `nil`</span></span><br><span class="line">    <span class="comment">/// literal rather than the explicit `.none` enumeration case.</span></span><br><span class="line">    <span class="keyword">case</span> <span class="literal">none</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The presence of a value, stored as `Wrapped`.</span></span><br><span class="line">    <span class="keyword">case</span> some(Wrapped)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Creates an instance that stores the given value.</span></span><br><span class="line">    <span class="keyword">public</span> init(_ some: Wrapped)</span><br><span class="line">       <span class="params">...</span><span class="params">...</span><span class="params">...</span><span class="params">...</span><span class="params">...</span>.</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å¯é€‰é¡¹æœ¬è´¨å°±æ˜¯ä¸€ä¸ªæšä¸¾, Wrappedå°±æ˜¯è¦åŒ…è£…çš„ç±»å‹, Int? åŒ…è£…çš„å°±æ˜¯Intç±»å‹, é€šè¿‡ç¬¬7èŠ‚æˆ‘ä»¬çš„æ‰“å°å¯ä»¥çœ‹å‡º,å¯¹äºå¯é€‰é¡¹å˜é‡èµ‹å€¼,åº•å±‚å°±æ˜¯ç”¨someå…³è”å€¼è¿›è¡Œå­˜å‚¨,è¿”å›ä¼šåšåˆ¤æ–­,ä¸ä¸ºç©ºå°±è¿”å›someå…³è”å€¼, ä¸ºç©ºå°±è¿”å›none</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-å¯é€‰é¡¹å®šä¹‰&quot;&gt;&lt;a href=&quot;#ä¸€-å¯é€‰é¡¹å®šä¹‰&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ å¯é€‰é¡¹å®šä¹‰&quot;&gt;&lt;/a&gt;ä¸€ å¯é€‰é¡¹å®šä¹‰&lt;/h5&gt;&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; name:&lt;span class=&quot;type&quot;&gt;String?&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;Jack&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;name = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; age:&lt;span class=&quot;type&quot;&gt;Int?&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;age = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;age = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; array = [&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;40&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;29&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt; index:Int)&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;type&quot;&gt;Int?&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; index &amp;lt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; || index &amp;gt;= array.&lt;span class=&quot;built_in&quot;&gt;count&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; array[index]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt;(-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;))&lt;span class=&quot;comment&quot;&gt;//Optional(15)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯é€‰é¡¹,ä¸€èˆ¬ä¹Ÿå«å¯é€‰ç±»å‹,å®ƒå…è®¸å°†å€¼è®¾ç½®ä¸ºnil,åœ¨ç±»å‹åç§°åé¢åŠ ä¸ªé—®å·â“æ¥å®šä¹‰ä¸€ä¸ªå¯é€‰é¡¹, é€šè¿‡æ‰“å°æˆ‘ä»¬çœ‹åˆ°å¯é€‰é¡¹æ‰“å°å‡ºæ¥æ˜¯Optional(15),é‚£ä¹ˆè¿™ä¸ªOptional(15)æˆ‘ä»¬è¯¥æ€ä¹ˆç”¨å‘¢&lt;/p&gt;
&lt;h5 id=&quot;äºŒ-å¼ºåˆ¶è§£åŒ…&quot;&gt;&lt;a href=&quot;#äºŒ-å¼ºåˆ¶è§£åŒ…&quot; class=&quot;headerlink&quot; title=&quot;äºŒ å¼ºåˆ¶è§£åŒ…&quot;&gt;&lt;/a&gt;äºŒ å¼ºåˆ¶è§£åŒ…&lt;/h5&gt;&lt;figure class=&quot;highlight awk&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;var age:Int? = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var ageInt:Int = age!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ageInt += &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(ageInt)&lt;span class=&quot;regexp&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;regexp&quot;&gt;//&lt;/span&gt;Program ended with &lt;span class=&quot;keyword&quot;&gt;exit&lt;/span&gt; code: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœè¦ä»å¯é€‰é¡¹ä¸­å–å‡ºè¢«åŒ…è£…çš„æ•°æ®,éœ€è¦ä½¿ç”¨æ„Ÿå¹å·â•&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;../assets/blogImg/kexuanxiang01.png&quot; alt&gt;&lt;br&gt;å¯¹å€¼ä¸ºnilçš„å¯é€‰é¡¹è¿›è¡Œå¼ºåˆ¶è§£åŒ…,å°†ä¼šäº§ç”Ÿè¿è¡Œæ—¶é”™è¯¯&lt;/p&gt;
&lt;h5 id=&quot;åˆ¤æ–­å¯é€‰é¡¹æ˜¯å¦åŒ…å«å€¼&quot;&gt;&lt;a href=&quot;#åˆ¤æ–­å¯é€‰é¡¹æ˜¯å¦åŒ…å«å€¼&quot; class=&quot;headerlink&quot; title=&quot;åˆ¤æ–­å¯é€‰é¡¹æ˜¯å¦åŒ…å«å€¼&quot;&gt;&lt;/a&gt;åˆ¤æ–­å¯é€‰é¡¹æ˜¯å¦åŒ…å«å€¼&lt;/h5&gt;&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; number = &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;123&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; number != &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°æˆåŠŸ:\(number)&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°å¤±è´¥&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;span class=&quot;comment&quot;&gt;//å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°æˆåŠŸ:Optional(123)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swiftå‡½æ•°</title>
    <link href="http://example.com/2019/08/15/swift%E5%87%BD%E6%95%B0/"/>
    <id>http://example.com/2019/08/15/swiftå‡½æ•°/</id>
    <published>2019-08-15T10:59:24.000Z</published>
    <updated>2020-12-05T12:01:44.466Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-å‡½æ•°çš„å®šä¹‰"><a href="#ä¸€-å‡½æ•°çš„å®šä¹‰" class="headerlink" title="ä¸€ å‡½æ•°çš„å®šä¹‰"></a>ä¸€ å‡½æ•°çš„å®šä¹‰</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ— å‚æœ‰è¿”å›å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pi</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3.1415926</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ‰å‚æœ‰è¿”å›å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(v1:Int, v2:Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> v1 + v2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ— å‚æ— è¿”å›å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">()</span></span> -&gt; <span class="type">Void</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ‰å‚æ— è¿”å›å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayWorld</span><span class="params">(v1:Int)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(v1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½¢å‚é»˜è®¤æ˜¯let,ä¹Ÿåªèƒ½æ˜¯let</p><h5 id="äºŒ-å‡½æ•°çš„æ–‡æ¡£æ³¨é‡Š"><a href="#äºŒ-å‡½æ•°çš„æ–‡æ¡£æ³¨é‡Š" class="headerlink" title="äºŒ å‡½æ•°çš„æ–‡æ¡£æ³¨é‡Š"></a>äºŒ å‡½æ•°çš„æ–‡æ¡£æ³¨é‡Š</h5><figure class="highlight plain"><figcaption><span>è¿”å›å¤šä¸ªå€¼</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">///</span><br><span class="line">/// è¿”å›ä¸¤ä¸ªæ•°çš„å’Œ å·® å¹³å‡å€¼</span><br><span class="line">///</span><br><span class="line">/// - Parameter v1: ç¬¬ä¸€ä¸ªæ•´æ•°</span><br><span class="line">/// - Parameter v2: ç¬¬äºŒä¸ªæ•´æ•°</span><br><span class="line">/// - Returns: sum:Int, difference:Int, average:Int</span><br><span class="line">///</span><br><span class="line">/// - Note:é€šè¿‡ä¸€ä¸ªå…ƒç»„å®ç°å¤šè¿”å›å€¼</span><br><span class="line">func calculate(v1:Int, v2:Int) -&gt; (sum:Int, difference:Int, average:Int) &#123;</span><br><span class="line">    let sum = v1 + v2</span><br><span class="line">    return (sum,v1-v2, sum &gt;&gt; 1)</span><br><span class="line">&#125;</span><br><span class="line">let result = calculate(v1: 20, v2: 10)</span><br></pre></td></tr></table></figure><p>å¯¹ç€å‡½æ•°è°ƒç”¨æŒ‰ä½optioné”®å³å¯æŸ¥çœ‹æ³¨é‡Šæ•ˆæœ</p><p><img src="../assets/blogImg/hanshu01.jpg" alt><br><a href="https://swift.org/documentation/api-design-guidelines/" target="_blank" rel="noopener">æ›´å¤šæ³¨é‡Šè§„èŒƒ ç‚¹æ­¤æŸ¥çœ‹</a></p><a id="more"></a><h5 id="ä¸‰-å‡½æ•°éšå¼è¿”å›"><a href="#ä¸‰-å‡½æ•°éšå¼è¿”å›" class="headerlink" title="ä¸‰ å‡½æ•°éšå¼è¿”å›"></a>ä¸‰ å‡½æ•°éšå¼è¿”å›</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> sum(v1:Int, v2:Int) -&gt; Int &#123;</span><br><span class="line">    v1 + v2</span><br><span class="line">&#125;</span><br><span class="line">let isum = sum(v1: <span class="number">10</span>, v2: <span class="number">20</span>)</span><br><span class="line">print(isum)<span class="regexp">//</span><span class="number">30</span></span><br><span class="line"><span class="regexp">//</span>Program ended with <span class="keyword">exit</span> code: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæ•´ä¸ªå‡½æ•°ä½“æ˜¯ä¸€ä¸ªå•ä¸€è¡¨è¾¾å¼,é‚£ä¹ˆå‡½æ•°ä¼šéšå¼è¿”å›è¿™ä¸ªè¡¨è¾¾å¼</p><h5 id="å››-å®ç°å¤šè¿”å›å€¼"><a href="#å››-å®ç°å¤šè¿”å›å€¼" class="headerlink" title="å›› å®ç°å¤šè¿”å›å€¼"></a>å›› å®ç°å¤šè¿”å›å€¼</h5><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">func calculate(v1:<span class="built_in">Int</span>, v2:<span class="built_in">Int</span>) -&gt; (<span class="built_in">sum</span>:<span class="built_in">Int</span>, difference:<span class="built_in">Int</span>, average:<span class="built_in">Int</span>) &#123;</span><br><span class="line">    let <span class="built_in">sum</span> = v1 + v2</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">sum</span>,v1-v2, <span class="built_in">sum</span> &gt;&gt; <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line">let result = calculate(v1: <span class="number">20</span>, v2: <span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(result.<span class="built_in">sum</span>)</span><br><span class="line"><span class="built_in">print</span>(result.difference)</span><br><span class="line"><span class="built_in">print</span>(result.average)//<span class="number">30</span></span><br><span class="line">//<span class="number">10</span></span><br><span class="line">//<span class="number">15</span></span><br><span class="line">//<span class="function"><span class="keyword">Program</span></span> ended with <span class="keyword">exit</span> code: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é€šè¿‡è¿”å›ä¸€ä¸ªå…ƒç»„æ¥å®ç°å¤šä¸ªè¿”å›å€¼</p><h5 id="äº”-å‚æ•°æ ‡ç­¾-Argument-Lable"><a href="#äº”-å‚æ•°æ ‡ç­¾-Argument-Lable" class="headerlink" title="äº” å‚æ•°æ ‡ç­¾ (Argument Lable)"></a>äº” å‚æ•°æ ‡ç­¾ (Argument Lable)</h5><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">func</span> <span class="selector-tag">goBackHome</span>(at <span class="attribute">time</span>:String) &#123;   <span class="comment">//å¯ä»¥ä¿®æ”¹å‚æ•°æ ‡ç­¾</span></span><br><span class="line">    <span class="selector-tag">print</span>(<span class="string">"go back home at \(time)"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">goBackHome</span>(<span class="attribute">at</span>: <span class="string">"08:00"</span>) <span class="comment">// go back home at 08:00 è¯­å¥æ˜¯ä¸æ˜¯å¾ˆé€šé¡º</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">func</span> <span class="selector-tag">goBackHome</span>(<span class="attribute">time</span>:String) &#123;  <span class="comment">//å¹³æ—¶å‚æ•°å£°æ˜</span></span><br><span class="line">    <span class="selector-tag">print</span>(<span class="string">"go back home  \(time)"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">goBackHome</span>(<span class="attribute">time</span>: <span class="string">"08:00"</span>) <span class="comment">// // go back home time 08:00 è¯­å¥é€šé¡ºä¹ˆ???</span></span><br></pre></td></tr></table></figure><p>å‚æ•°æ ‡ç­¾æ˜¯å‡½æ•°æ›´åŠ è¯­æ„åŒ–,æ›´å‹å¥½é€šé¡º. è¿™ä¸ªåŠŸèƒ½çœŸçš„æ˜¯perfect ğŸ‘</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">func <span class="built_in">sum</span>(_ <span class="symbol">v1</span>: <span class="built_in">Int</span>, _ <span class="symbol">v2</span>:<span class="built_in">Int</span>) -&gt; <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="symbol">v1</span> + <span class="symbol">v2</span></span><br><span class="line"><span class="symbol"></span>&#125;</span><br><span class="line"><span class="built_in">sum</span>(<span class="number">10</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿_ çœç•¥å‚æ•°æ ‡ç­¾</p><h5 id="å…­-é»˜è®¤å‚æ•°å€¼"><a href="#å…­-é»˜è®¤å‚æ•°å€¼" class="headerlink" title="å…­ é»˜è®¤å‚æ•°å€¼"></a>å…­ é»˜è®¤å‚æ•°å€¼</h5><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">func</span> <span class="selector-tag">check</span>(<span class="attribute">name</span>:String = <span class="string">"nobody"</span>, <span class="attribute">age</span>:Int, <span class="attribute">job</span>:String=<span class="string">"none"</span>) &#123;</span><br><span class="line">    <span class="selector-tag">print</span>(<span class="string">"name=\(name) , age=\(age), job=\(job)"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">check</span>(<span class="attribute">age</span>: <span class="number">20</span>)</span><br><span class="line"><span class="selector-tag">check</span>(<span class="attribute">name</span>: <span class="string">"hello"</span>, <span class="attribute">age</span>: <span class="number">30</span>, <span class="attribute">job</span>: <span class="string">"softdeveloper"</span>)</span><br><span class="line"><span class="selector-tag">check</span>(<span class="attribute">age</span>:<span class="number">30</span>, <span class="attribute">job</span>: <span class="string">"anmoshi"</span>)</span><br></pre></td></tr></table></figure><p>å…¶ä»–è¯­è¨€é»˜è®¤å‚æ•°å¿…é¡»ä»å³å¾€å·¦è®¾ç½®,swiftä¸éœ€è¦,swiftå‚æ•°éƒ½æœ‰æ ‡ç­¾æ ‡ç¤º,æ‰€ä»¥ä¸éœ€è¦é¡ºåºå£°æ˜,å®ƒæ ¹æ®æ ‡ç­¾éƒ½èƒ½æ‰¾åˆ°,ä½†æ˜¯æœ‰æ—¶å€™ä½ ä½¿ç”¨äº†çœç•¥æ ‡ç­¾å°±è¦æ³¨æ„äº†<br><img src="../assets/blogImg/hanshu02.jpg" alt><br>æ ‡ç­¾éƒ½çœç•¥,å®ƒå°±æ²¡åŠæ³•æ‰¾åˆ°å“ªä¸ªæ²¡æœ‰é»˜è®¤å€¼äº†.åæ­£è¦å®é™…çœ‹å¾…,ä¸ç®¡æ€ä¹ˆå®šä¹‰,ä½ è¦ä¿è¯ä»–èƒ½æ‰¾åˆ°æœªèµ‹å€¼çš„å‚æ•°</p><h5 id="ä¸ƒ-å¯å˜å‚æ•°"><a href="#ä¸ƒ-å¯å˜å‚æ•°" class="headerlink" title="ä¸ƒ å¯å˜å‚æ•°"></a>ä¸ƒ å¯å˜å‚æ•°</h5><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">func <span class="built_in">sum</span>(numbers: <span class="built_in">Int</span>...) -&gt; <span class="built_in">Int</span> &#123;</span><br><span class="line">    var total = <span class="number">0</span></span><br><span class="line">    for <span class="keyword">number</span> <span class="keyword">in</span> numbers&#123;</span><br><span class="line">        total += <span class="keyword">number</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>(numbers: <span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>))</span><br></pre></td></tr></table></figure><p>å‚æ•°ç±»å‹åé¢åŠ ä¸‰ä¸ªç‚¹â€¦ è¿™ä¸ªå‚æ•°å°±æ˜¯å¯å˜å‚æ•°äº†,ä¸€ä¸ªå‡½æ•°æœ€å¤šåªèƒ½æœ‰1ä¸ªå¯å˜å‚æ•°</p><p><img src="../assets/blogImg/hanshu03.png" alt><br>ç´§è·Ÿåœ¨å¯å˜å‚æ•°åé¢çš„å‚æ•°ä¸èƒ½çœç•¥å‚æ•°æ ‡ç­¾</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">print</span><span class="params">(<span class="number">_</span> items: <span class="keyword">Any</span>..., separator: String = <span class="string">" "</span>, terminator: String = <span class="string">"\n"</span>)</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>) <span class="comment">//è¿™æ ·æ‰“å°ä¹Ÿæ˜¯å¯ä»¥çš„</span></span><br></pre></td></tr></table></figure><p>swiftè‡ªå¸¦çš„printå‡½æ•°å°±æœ‰å¯å˜å‚æ•°,ä¹Ÿæœ‰å‚æ•°é»˜è®¤å€¼</p><h5 id="å…«-è¾“å…¥è¾“å‡ºå‚æ•°"><a href="#å…«-è¾“å…¥è¾“å‡ºå‚æ•°" class="headerlink" title="å…« è¾“å…¥è¾“å‡ºå‚æ•°"></a>å…« è¾“å…¥è¾“å‡ºå‚æ•°</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapValues</span><span class="params">(<span class="number">_</span> v1: <span class="keyword">inout</span> Int, <span class="number">_</span> v2: <span class="keyword">inout</span> Int)</span></span> &#123;</span><br><span class="line">    (v1, v2) = (v2, v1)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> num1 = <span class="number">10</span></span><br><span class="line"><span class="keyword">var</span> num2 = <span class="number">20</span></span><br><span class="line"><span class="built_in">swap</span>(&amp;num1, &amp;num2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"num1:\(num1)"</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"num2:\(num2)"</span>)<span class="comment">//num1:20</span></span><br><span class="line"><span class="comment">//num2:10</span></span><br><span class="line"><span class="comment">//Program ended with exit code: 0</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ç”¨inoutå®šä¹‰ä¸€ä¸ªè¾“å…¥è¾“å‡ºå‚æ•°:å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹å¤–éƒ¨å®å‚çš„å€¼</p><p>æ³¨æ„âš ï¸:</p><ul><li>å¯å˜å‚æ•°ä¸èƒ½æ ‡è®°ä¸ºinout.   num:inout Intâ€¦ âŒ</li><li>inoutå‚æ•°ä¸èƒ½æœ‰é»˜è®¤å€¼ âŒ</li><li>inout å‚æ•°ä¸èƒ½ä¼ å…¥åªèƒ½èµ‹å€¼ä¸€æ¬¡çš„, å¸¸é‡å°±ä¸è¡Œ âŒ </li></ul><p><strong>inoutå‚æ•°æœ¬è´¨æ˜¯åœ°å€ä¼ é€’(å¼•ç”¨ä¼ é€’)</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">intValue</span><span class="params">(<span class="number">_</span> v1: <span class="keyword">inout</span> Int)</span></span> &#123;</span><br><span class="line">    v1 = <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> num1 = <span class="number">10</span></span><br><span class="line">intValue(&amp;num1)</span><br></pre></td></tr></table></figure><p><img src="../assets/blogImg/å‡½æ•°04.jpg" alt></p><h5 id="ä¹-å‡½æ•°é‡è½½"><a href="#ä¹-å‡½æ•°é‡è½½" class="headerlink" title="ä¹ å‡½æ•°é‡è½½"></a>ä¹ å‡½æ•°é‡è½½</h5><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">func</span> <span class="selector-tag">sum</span>(<span class="attribute">v1</span>:Int, <span class="attribute">v2</span>:Int) <span class="selector-tag">-</span>&gt; <span class="selector-tag">Int</span> &#123;</span><br><span class="line">    <span class="selector-tag">v1</span> + <span class="selector-tag">v2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">func</span> <span class="selector-tag">sum</span>(<span class="attribute">v1</span>:Int, <span class="attribute">v2</span>:Int, <span class="attribute">v3</span>:Int) <span class="selector-tag">-</span>&gt; <span class="selector-tag">Int</span> &#123;</span><br><span class="line">    <span class="selector-tag">v1</span> + <span class="selector-tag">v2</span> + <span class="selector-tag">v3</span></span><br><span class="line">&#125; <span class="comment">//å‚æ•°ä¸ªæ•°ä¸åŒ</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">func</span> <span class="selector-tag">sum</span>(<span class="attribute">v1</span>:Double,<span class="attribute">v2</span>:Double) <span class="selector-tag">-</span>&gt; <span class="selector-tag">Int</span> &#123;</span><br><span class="line">    <span class="selector-tag">Int</span>(v1) + <span class="selector-tag">Int</span>(v2)</span><br><span class="line">&#125; <span class="comment">//å‚æ•°ç±»å‹ä¸åŒ</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">func</span> <span class="selector-tag">sum</span>(<span class="attribute">a</span>:Int, <span class="attribute">b</span>:Int) <span class="selector-tag">-</span>&gt; <span class="selector-tag">Int</span> &#123;</span><br><span class="line">    <span class="selector-tag">a</span> + <span class="selector-tag">b</span></span><br><span class="line">&#125; <span class="comment">//å‚æ•°æ ‡ç­¾ä¸åŒ</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">print</span>(sum(<span class="attribute">v1</span>: <span class="number">20</span>, <span class="attribute">v2</span>: <span class="number">10</span>))</span><br><span class="line"><span class="selector-tag">print</span>(sum(<span class="attribute">v1</span>: <span class="number">20.0</span>, <span class="attribute">v2</span>: <span class="number">30.5</span>))</span><br><span class="line"><span class="selector-tag">print</span>(sum(<span class="attribute">v1</span>: <span class="number">20</span>, <span class="attribute">v2</span>: <span class="number">30</span>, <span class="attribute">v3</span>:<span class="number">40</span>))</span><br><span class="line"><span class="selector-tag">print</span>(sum(<span class="attribute">a</span>: <span class="number">10</span>, <span class="attribute">b</span>:<span class="number">20</span>))<span class="comment">//30</span></span><br><span class="line"><span class="comment">//50</span></span><br><span class="line"><span class="comment">//90</span></span><br><span class="line"><span class="comment">//30</span></span><br><span class="line"><span class="comment">//Program ended with exit code: 0</span></span><br></pre></td></tr></table></figure><p><strong>è§„åˆ™:</strong></p><ul><li>å‡½æ•°åç§°ç›¸åŒ</li><li>å‚æ•°ä¸ªæ•°ä¸åŒ || å‚æ•°ç±»å‹ä¸åŒ || å‚æ•°æ ‡ç­¾ä¸åŒ<br>é€šè¿‡ä¸Šé¢ä¸‰ç§æˆ‘ä»¬éƒ½èƒ½å¤ŸåŒºåˆ†ä½ è°ƒç”¨çš„æ˜¯å“ªä¸ªå‡½æ•°,å¦‚æœä½ å®šä¹‰çš„å‡½æ•°ä¸èƒ½åŒºåˆ†ä½ è°ƒç”¨çš„æ˜¯é‚£ä¸ª,é‚£å°±ä¸å…è®¸é‡è½½</li></ul><p><img src="../assets/blogImg/hanshu05.png" alt></p><h5 id="å-å†…è”å‡½æ•°"><a href="#å-å†…è”å‡½æ•°" class="headerlink" title="å å†…è”å‡½æ•°"></a>å å†…è”å‡½æ•°</h5><p>å¦‚æœå¼€å¯äº†ç¼–è¯‘å™¨ä¼˜åŒ–(Releaseæ¨¡å¼é»˜è®¤ä¼šå¼€å¯ä¼˜åŒ–), ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†æŸäº›å‡½æ•°å˜æˆå†…è”å‡½æ•°</p><p><img src="../assets/blogImg/hanshu06.jpg" alt><br><img src="../assets/blogImg/hanshu07.jpg" alt><br><img src="../assets/blogImg/hanshu08.jpg" alt><br><img src="../assets/blogImg/hanshu09.jpg" alt></p><p><strong>å“ªäº›å‡½æ•°ä¸ä¼šè¢«è‡ªåŠ¨å†…è”</strong></p><ul><li><p>å‡½æ•°ä½“æ¯”è¾ƒé•¿</p></li><li><p>åŒ…å«é€’å½’è°ƒç”¨</p></li><li><p>åŒ…å«åŠ¨æ€æ´¾å‘ ç»§æ‰¿è°ƒç”¨</p></li><li><p>â€¦â€¦â€¦..</p></li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ°¸è¿œä¸ä¼šè¢«å†…è”(å³ä½¿å¼€å¯äº†ç¼–è¯‘å™¨ä¼˜åŒ–)</span></span><br><span class="line">@inline(never) <span class="function"><span class="keyword">func</span> <span class="title">hello</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello world"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼€å¯äº†ç¼–è¯‘å™¨ä¼˜åŒ–å,å³ä½¿ä»£ç å¾ˆé•¿,ä¹Ÿä¼šè¢«å†…è”(é€’å½’å‡½æ•°,åŠ¨æ€æ´¾å‘çš„å‡½æ•°é™¤å¤–)</span></span><br><span class="line">@inline(__always) <span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello world"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello world"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello world"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello world"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello world"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello world"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello world"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>@inlineå¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šæ§åˆ¶æ˜¯å¦è¦è¢«å†…è”</p><h5 id="åä¸€-å‡½æ•°ç±»å‹"><a href="#åä¸€-å‡½æ•°ç±»å‹" class="headerlink" title="åä¸€ å‡½æ•°ç±»å‹"></a>åä¸€ å‡½æ•°ç±»å‹</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> sum(a:Int,b:Int) -&gt;Int &#123;</span><br><span class="line">    a + b</span><br><span class="line">&#125;</span><br><span class="line">var fn:(Int,Int)-&gt;Int = sum</span><br><span class="line">print(fn(<span class="number">20</span>,<span class="number">30</span>))<span class="regexp">//</span><span class="number">50</span></span><br><span class="line"><span class="regexp">//</span>Program ended with <span class="keyword">exit</span> code: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>æ¯ä¸€ä¸ªå‡½æ•°éƒ½æ˜¯æœ‰ç±»å‹çš„,å‡½æ•°ç±»å‹ç”±,<strong>å½¢å¼å‚æ•°ç±»å‹</strong>, <strong>è¿”å›å€¼ç±»å‹</strong>ç»„æˆ</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">func sum(<span class="selector-tag">a</span>:Int,<span class="selector-tag">b</span>:Int) -&gt;Int &#123;</span><br><span class="line">    <span class="selector-tag">a</span> + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func difference(<span class="selector-tag">a</span>:Int,<span class="selector-tag">b</span>:Int) -&gt;Int&#123;</span><br><span class="line">    <span class="selector-tag">a</span> - b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func result(_ mathFun:(Int,Int)-&gt;Int, _ <span class="selector-tag">a</span>:Int, _ <span class="selector-tag">b</span>:Int)&#123;</span><br><span class="line">    print(<span class="string">"result:\(mathFun(a,b))"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">result</span><span class="params">(sum, <span class="number">10</span>, <span class="number">20</span>)</span></span>  <span class="comment">//è°ƒç”¨æ—¶ä¸éœ€è¦å‚æ•°æ ‡ç­¾</span></span><br><span class="line"><span class="function"><span class="title">result</span><span class="params">(difference,<span class="number">30</span>,<span class="number">40</span>)</span></span><span class="comment">//result:30</span></span><br><span class="line"><span class="comment">//result:-10</span></span><br><span class="line"><span class="comment">//Program ended with exit code: 0</span></span><br></pre></td></tr></table></figure><p>å‡½æ•°ç±»å‹ä½œä¸ºå‡½æ•°å‚æ•°, æœ‰ç‚¹blockçš„æ„æ€</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">func sum(<span class="selector-tag">a</span>:Int,<span class="selector-tag">b</span>:Int) -&gt;Int &#123;</span><br><span class="line">    <span class="selector-tag">a</span> + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func difference(<span class="selector-tag">a</span>:Int,<span class="selector-tag">b</span>:Int) -&gt;Int&#123;</span><br><span class="line">    <span class="selector-tag">a</span> - b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func result(_ <span class="selector-tag">a</span>:Int) -&gt; (Int,Int)-&gt;Int&#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="selector-tag">a</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">        return sum</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        return difference</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(result(-<span class="number">1</span>)</span><span class="params">(<span class="number">20</span>,<span class="number">30</span>)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(result(<span class="number">1</span>)</span><span class="params">(<span class="number">10</span>,<span class="number">20</span>)</span></span>)<span class="comment">//-10</span></span><br><span class="line"><span class="comment">//30</span></span><br><span class="line"><span class="comment">//Program ended with exit code: 0</span></span><br></pre></td></tr></table></figure><p>å‡½æ•°ç±»å‹ä¹Ÿå¯ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼, ä¹Ÿå«é«˜é˜¶å‡½æ•°</p><h5 id="typealias"><a href="#typealias" class="headerlink" title="typealias"></a>typealias</h5><p>ç”¨æ¥ç»™ç±»å‹èµ·åˆ«å</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">Byte</span> = <span class="type">Int8</span></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">Short</span> = <span class="type">Int16</span></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">Long</span> = <span class="type">Int64</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">Date</span> = (year:<span class="type">Int</span>, month:<span class="type">Int</span>, day:<span class="type">Int</span>)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">time</span><span class="params">(<span class="number">_</span> date:Date)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(date.year)</span><br><span class="line">    <span class="built_in">print</span>(date.month)</span><br><span class="line">    <span class="built_in">print</span>(date.day)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">InrFn</span> = (<span class="type">Int</span>,<span class="type">Int</span>)-&gt;<span class="type">Int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">difference</span><span class="params">(v1:Int,v2:Int)</span></span> -&gt;<span class="type">Int</span> &#123;</span><br><span class="line">    </span><br><span class="line">    v1  - v2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> fn:<span class="type">InrFn</span> = difference</span><br><span class="line"><span class="built_in">print</span>(difference(v1: <span class="number">10</span>, v2: <span class="number">20</span>))</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setFn</span><span class="params">(<span class="number">_</span> fn:InrFn)</span></span> &#123;&#125;</span><br><span class="line">setFn(difference)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getFn</span><span class="params">()</span></span> -&gt; <span class="type">InrFn</span> &#123;</span><br><span class="line">    difference</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡½æ•° å…ƒç»„ åŸºæœ¬ç±»å‹ç­‰éƒ½å¯ä»¥èµ·åˆ«å</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span> -&gt; <span class="title">Void</span> &#123; &#125;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span> -&gt; <span class="params">()</span> &#123;&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªå‡½æ•°æ˜¯ç­‰ä»·çš„ è·Ÿè¿›å»çœ‹Voidå®šä¹‰<br><img src="../assets/blogImg/hanshu10.jpg" alt><br>Voidå°±æ˜¯ç©ºå…ƒç»„çš„åˆ«å</p><h5 id="åµŒå¥—å‡½æ•°"><a href="#åµŒå¥—å‡½æ•°" class="headerlink" title="åµŒå¥—å‡½æ•°"></a>åµŒå¥—å‡½æ•°</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">forward</span><span class="params">(<span class="number">_</span> forward: Bool)</span></span> -&gt; (<span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">next</span><span class="params">(<span class="number">_</span> input: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        input + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">previous</span><span class="params">(<span class="number">_</span> input: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">         input - <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> forward ? next : previous</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(forward(<span class="literal">true</span>)(<span class="number">3</span>) )<span class="comment">// 4</span></span><br><span class="line"><span class="built_in">print</span>(forward(<span class="literal">false</span>)(<span class="number">3</span>) )<span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p>å‡½æ•°é‡Œé¢å¥—å‡½æ•°,æ²¡å•¥å¯è®²çš„,é™¤äº†è°ƒç”¨çš„æ—¶å€™æ„Ÿè§‰ç»•ä¸€ç‚¹</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-å‡½æ•°çš„å®šä¹‰&quot;&gt;&lt;a href=&quot;#ä¸€-å‡½æ•°çš„å®šä¹‰&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ å‡½æ•°çš„å®šä¹‰&quot;&gt;&lt;/a&gt;ä¸€ å‡½æ•°çš„å®šä¹‰&lt;/h5&gt;&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ— å‚æœ‰è¿”å›å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;pi&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;type&quot;&gt;Double&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;3.1415926&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æœ‰å‚æœ‰è¿”å›å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(v1:Int, v2:Int)&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;type&quot;&gt;Int&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; v1 + v2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ— å‚æ— è¿”å›å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sayHello&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;type&quot;&gt;Void&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;hello&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æœ‰å‚æ— è¿”å›å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sayWorld&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(v1:Int)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(v1)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å½¢å‚é»˜è®¤æ˜¯let,ä¹Ÿåªèƒ½æ˜¯let&lt;/p&gt;
&lt;h5 id=&quot;äºŒ-å‡½æ•°çš„æ–‡æ¡£æ³¨é‡Š&quot;&gt;&lt;a href=&quot;#äºŒ-å‡½æ•°çš„æ–‡æ¡£æ³¨é‡Š&quot; class=&quot;headerlink&quot; title=&quot;äºŒ å‡½æ•°çš„æ–‡æ¡£æ³¨é‡Š&quot;&gt;&lt;/a&gt;äºŒ å‡½æ•°çš„æ–‡æ¡£æ³¨é‡Š&lt;/h5&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;figcaption&gt;&lt;span&gt;è¿”å›å¤šä¸ªå€¼&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;///&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/// è¿”å›ä¸¤ä¸ªæ•°çš„å’Œ å·® å¹³å‡å€¼&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;///&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/// - Parameter v1: ç¬¬ä¸€ä¸ªæ•´æ•°&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/// - Parameter v2: ç¬¬äºŒä¸ªæ•´æ•°&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/// - Returns: sum:Int, difference:Int, average:Int&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;///&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/// - Note:é€šè¿‡ä¸€ä¸ªå…ƒç»„å®ç°å¤šè¿”å›å€¼&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;func calculate(v1:Int, v2:Int) -&amp;gt; (sum:Int, difference:Int, average:Int) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    let sum = v1 + v2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return (sum,v1-v2, sum &amp;gt;&amp;gt; 1)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;let result = calculate(v1: 20, v2: 10)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯¹ç€å‡½æ•°è°ƒç”¨æŒ‰ä½optioné”®å³å¯æŸ¥çœ‹æ³¨é‡Šæ•ˆæœ&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;../assets/blogImg/hanshu01.jpg&quot; alt&gt;&lt;br&gt;&lt;a href=&quot;https://swift.org/documentation/api-design-guidelines/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ›´å¤šæ³¨é‡Šè§„èŒƒ ç‚¹æ­¤æŸ¥çœ‹&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swiftæµç¨‹æ§åˆ¶</title>
    <link href="http://example.com/2019/08/10/swift%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/"/>
    <id>http://example.com/2019/08/10/swiftæµç¨‹æ§åˆ¶/</id>
    <published>2019-08-10T09:15:16.000Z</published>
    <updated>2020-12-05T06:41:26.861Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸€-if-else"><a href="#ä¸€-if-else" class="headerlink" title="ä¸€ if else"></a>ä¸€ if else</h5><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let age = 30</span><br><span class="line"><span class="keyword">if</span> age &gt;= 22 &#123;</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"Get married"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> age &gt;= 18 &#123;</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"Being a adult"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"listening tu ta zi jiao huan"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>if åé¢çš„æ¡ä»¶å¯ä»¥çœç•¥å°æ‹¬å·<br>æ¡ä»¶åé¢çš„å¤§æ‹¬å·ä¸å¯ä»¥çœç•¥<br><img src="../assets/blogImg/if01.jpg" alt><br>if åé¢çš„æ¡ä»¶åªèƒ½æ˜¯Boolç±»å‹</p><h5 id="äºŒ-while"><a href="#äºŒ-while" class="headerlink" title="äºŒ while"></a>äºŒ while</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">num</span> = <span class="number">5</span></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">num</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"num is \(num)"</span>)</span><br><span class="line">    <span class="built_in">num</span> -= <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num2 = <span class="number">-1</span></span><br><span class="line">repeat &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"num2 is \(num2)"</span>)</span><br><span class="line">&#125; <span class="keyword">while</span> num2 &gt; <span class="number">0</span></span><br></pre></td></tr></table></figure><p>repeat-whileç›¸å½“äºCè¯­è¨€ä¸­çš„do-while<br>ä»Swift3å¼€å§‹,å»é™¤äº†è‡ªå¢(++),è‡ªå‡(â€“)è¿ç®—ç¬¦,ä¸ºå•¥å»é™¤å‘¢,å¯èƒ½ä¸ºäº†æ›´ä¸¥è°¨å§.</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">var</span> number = <span class="number">0</span></span><br><span class="line">let <span class="selector-tag">b</span> = ++ number + number++</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(b)</span></span> <span class="comment">//?? ä½ èƒ½å¿«é€Ÿç®—å‡ºbæ˜¯å‡ ä¹ˆ?</span></span><br></pre></td></tr></table></figure><p>swiftå»é™¤è‡ªå¢è‡ªå‡,ä¹Ÿæ˜¯ä¸ºäº†æ›´æ˜ç¡®ç®€æ´å§.</p><a id="more"></a><h5 id="ä¸‰-for"><a href="#ä¸‰-for" class="headerlink" title="ä¸‰ for"></a>ä¸‰ for</h5><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let names = [<span class="string">"Anna"</span>, <span class="string">"AlX"</span>, <span class="string">"BTAD"</span>, <span class="string">"MOKY"</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> 0 <span class="built_in">..</span>. 3 &#123;</span><br><span class="line">    <span class="builtin-name">print</span>(names[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é—­åŒºé—´è¿ç®—ç¬¦: a â€¦ b,  ç›¸å½“äº  a &lt;= å–å€¼ &lt;= b</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let names = [<span class="string">"Anna"</span>, <span class="string">"AlX"</span>, <span class="string">"BTAD"</span>, <span class="string">"MOKY"</span>]</span><br><span class="line"><span class="keyword">for</span> var i <span class="keyword">in</span> 0 <span class="built_in">..</span>. 3 &#123;</span><br><span class="line">    <span class="builtin-name">print</span>(names[i])</span><br><span class="line">    i += 5</span><br><span class="line">    <span class="builtin-name">print</span>(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ié»˜è®¤æ˜¯let, æƒ³ä¿®æ”¹å®ƒå¯ä»¥å£°æ˜ä¸ºvar</p><p><img src="../assets/blogImg/for01.jpg" alt><br>i å¦‚æœæ²¡æœ‰ç”¨åˆ°å¯ä»¥ä½¿ç”¨_</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="built_in">range</span>:ClosedRange<span class="symbol">&lt;Int&gt;</span> = <span class="number">1</span> ... <span class="number">3</span></span><br><span class="line"><span class="keyword">for</span> i in <span class="built_in">range</span> &#123;</span><br><span class="line">    <span class="keyword">print</span>(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥å®šä¹‰ä¸ªåŒºé—´ç±»å‹çš„å˜é‡</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let <span class="selector-tag">a</span> = <span class="number">1</span></span><br><span class="line"><span class="selector-tag">var</span> <span class="selector-tag">b</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> <span class="selector-tag">a</span> ... <span class="selector-tag">b</span> &#123;</span><br><span class="line">   print(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å˜é‡ä¹‹é—´çš„åŒºé—´, æ­¤æ—¶å®šä¹‰æˆå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥â€aaâ€ â€¦ â€œbbâ€</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> 1 <span class="built_in">..</span>&lt; 5 &#123;</span><br><span class="line">   <span class="builtin-name">print</span>(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŠå¼€åŒºé—´è¿ç®—ç¬¦ a ..&lt;b, a &lt;= å–å€¼ &lt; b</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let names = [<span class="string">"Anna"</span>, <span class="string">"AlX"</span>, <span class="string">"BTAD"</span>, <span class="string">"MOKY"</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names[0 <span class="built_in">..</span>. 3] &#123;</span><br><span class="line">    <span class="builtin-name">print</span>(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>for åŒºé—´è¿ç®—ç¬¦ç”¨åœ¨æ•°ç»„ä¸Š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">let names = [<span class="string">"Anna"</span>, <span class="string">"AlX"</span>, <span class="string">"BTAD"</span>, <span class="string">"MOKY"</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names[2<span class="built_in">..</span>.] &#123;</span><br><span class="line">    <span class="builtin-name">print</span>(name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name2 <span class="keyword">in</span> names[<span class="built_in">..</span>.2] &#123;</span><br><span class="line">    <span class="builtin-name">print</span>(name2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name3 <span class="keyword">in</span> names[<span class="built_in">..</span>&lt;2] &#123;</span><br><span class="line">    <span class="builtin-name">print</span>(name3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å•ä¾§åŒºé—´: è®©åŒºé—´æœä¸€ä¸ªæ–¹å‘å°½å¯èƒ½çš„è¿œ, æœ€è¿œåˆ°æ•°ç»„çš„å°½å¤´</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> range1: ClosedRange&lt;<span class="built_in">Int</span>&gt; = <span class="number">1.</span>.<span class="number">.3</span>  <span class="comment">//é—­åˆåŒºé—´</span></span><br><span class="line"><span class="keyword">let</span> range2: Range&lt;<span class="built_in">Int</span>&gt; = <span class="number">1.</span>.&lt;<span class="number">3</span><span class="comment">//åŠå¼€åŒºé—´</span></span><br><span class="line"><span class="keyword">let</span> range3: PartialRangeThrough&lt;<span class="built_in">Int</span>&gt; = ..<span class="number">.5</span> <span class="comment">//å•ä¾§åŒºé—´</span></span><br></pre></td></tr></table></figure><p>3ç§åŒºé—´ç±»å‹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">let</span> <span class="string">hours</span> <span class="string">=</span> <span class="number">11</span></span><br><span class="line"><span class="string">let</span> <span class="string">hourInterval</span> <span class="string">=</span> <span class="number">2</span></span><br><span class="line"><span class="string">for</span> <span class="string">time</span> <span class="string">in</span> <span class="string">stride(from:</span> <span class="number">4</span><span class="string">,</span> <span class="attr">through:</span> <span class="string">hours,</span> <span class="attr">by:</span> <span class="string">hourInterval)</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">print(time)</span></span><br><span class="line"><span class="string">&#125;</span> <span class="string">//</span> <span class="number">4</span> <span class="number">6</span> <span class="number">8</span> <span class="number">10</span></span><br></pre></td></tr></table></figure><p><strong>å¸¦é—´éš”çš„åŒºé—´å€¼</strong></p><h5 id="å››-switch"><a href="#å››-switch" class="headerlink" title="å›› switch"></a>å›› switch</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">1</span></span><br><span class="line"><span class="keyword">switch</span> number &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"number is one"</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"number is other"</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125; <span class="comment">//number is one</span></span><br></pre></td></tr></table></figure><p>case, defaultåé¢ä¸èƒ½å†™å¤§æ‹¬å·{}</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">1</span></span><br><span class="line"><span class="keyword">switch</span> number &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"number is one"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"number is other"</span>)</span><br><span class="line">&#125; <span class="comment">//number is one</span></span><br></pre></td></tr></table></figure><p>é»˜è®¤å¯ä»¥ä¸å†™break å¹¶ä¸ä¼šè´¯ç©¿åˆ°åé¢çš„æ¡ä»¶</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">1</span></span><br><span class="line"><span class="keyword">switch</span> number &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"number is one"</span>)</span><br><span class="line">    <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"number is other"</span>)</span><br><span class="line">&#125;<span class="comment">//number is one</span></span><br><span class="line"><span class="comment">//number is other</span></span><br></pre></td></tr></table></figure><p>è¦æƒ³è´¯ç©¿å¯ä»¥ä½¿ç”¨ <strong>fallthrough</strong>,  æˆ‘çš„å¦ˆå¦ˆâœŒï¸,æƒ³çš„çœŸå‘¨åˆ°</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”-switchæ³¨æ„ç‚¹âš ï¸â€”â€”â€”â€”â€”â€”â€”â€”-</p><p><img src="../assets/blogImg/switch01.jpg" alt></p><p>switch å¿…é¡»è¦ä¿è¯èƒ½å¤„ç†æ‰€æœ‰çš„æƒ…å†µ, å¯ä»¥åŠ defaultæ¥è§£å†³</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Answer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">right</span>, wrong</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> answer = <span class="type">Answer</span>.<span class="keyword">right</span></span><br><span class="line"><span class="keyword">switch</span> answer &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="type">Answer</span>.<span class="keyword">right</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"right"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="type">Answer</span>.wrong:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"wrong"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¡®å®šæ˜¯Answerç±»å‹å¯ä»¥çœç•¥Answer</span></span><br><span class="line"><span class="keyword">switch</span> answer &#123;</span><br><span class="line"><span class="keyword">case</span> .<span class="keyword">right</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"right"</span>)</span><br><span class="line"><span class="keyword">case</span> .wrong:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"wrong"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœèƒ½ä¿è¯å·²å¤„ç†æ‰€æœ‰æƒ…å†µ, ä¹Ÿå¯ä»¥ä¸å¿…ä½¿ç”¨default</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">let <span class="keyword">string</span> = <span class="string">"Jack"</span></span><br><span class="line"><span class="keyword">switch</span> <span class="keyword">string</span> &#123;  <span class="comment">//String ç±»å‹</span></span><br><span class="line"><span class="keyword">case</span> <span class="string">"Jack"</span>:</span><br><span class="line">    fallthrough</span><br><span class="line"><span class="keyword">case</span> <span class="string">"Rose"</span>:</span><br><span class="line">    <span class="keyword">print</span>(<span class="string">"Right person"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125; <span class="comment">//Right person</span></span><br><span class="line"></span><br><span class="line">let <span class="keyword">character</span>: Character = <span class="string">"a"</span></span><br><span class="line"><span class="keyword">switch</span> <span class="keyword">character</span> &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"a"</span>, <span class="string">"A"</span>:</span><br><span class="line">    <span class="keyword">print</span>(<span class="string">"the letter A"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">print</span>(<span class="string">"Not the letter A"</span>)</span><br><span class="line">&#125; <span class="comment">//the letter A</span></span><br></pre></td></tr></table></figure><p>switchä¹Ÿæ”¯æŒCharacter,Stringç±»å‹</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="built_in">count</span> = <span class="number">40</span></span><br><span class="line"><span class="keyword">switch</span> <span class="built_in">count</span> &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"none"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span> ..&lt; <span class="number">5</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"a few"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span> ..&lt; <span class="number">50</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"just soso"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">50</span> ..&lt; <span class="number">100</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"good"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"so many"</span>)</span><br><span class="line">&#125; <span class="comment">//just soso</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> point = (<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line"><span class="keyword">switch</span> point &#123;</span><br><span class="line"><span class="keyword">case</span> (<span class="number">0</span>,<span class="number">0</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"the origin"</span>)</span><br><span class="line"><span class="keyword">case</span> (<span class="number">_</span>,<span class="number">0</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"åœ¨xè½´"</span>)</span><br><span class="line"><span class="keyword">case</span> (<span class="number">0</span>,<span class="number">_</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"åœ¨yè½´"</span>)</span><br><span class="line"><span class="keyword">case</span> (-<span class="number">2</span>...<span class="number">2</span>, -<span class="number">2</span>...<span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"åœ¨è¿™ä¸ªæ¡†å†…"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"ä¸åœ¨æ­¤æ¡†"</span>)</span><br><span class="line">&#125; <span class="comment">//åœ¨è¿™ä¸ªæ¡†å†…</span></span><br></pre></td></tr></table></figure><p>switchä¹Ÿæ”¯æŒåŒºé—´åŒ¹é…,å…ƒç»„åŒ¹é…</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point = (<span class="number">2</span>,<span class="number">0</span>)</span><br><span class="line">switch point &#123;</span><br><span class="line"><span class="built_in">case</span> (<span class="keyword">let</span> x, <span class="number">0</span>):</span><br><span class="line">    <span class="keyword">print</span>(x)</span><br><span class="line"><span class="built_in">case</span> (<span class="number">0</span>,<span class="keyword">let</span> y):</span><br><span class="line">    <span class="keyword">print</span>(y)</span><br><span class="line">case <span class="keyword">let</span> (x ,y):</span><br><span class="line">    <span class="keyword">print</span>(x,y)</span><br><span class="line">&#125; <span class="comment">//2</span></span><br></pre></td></tr></table></figure><p>å€¼ç»‘å®š, let ä¹Ÿå¯ä»¥æ”¹ä¸ºvar ,é‚£æ ·å°±å¯ä»¥ä¿®æ”¹x,yçš„å€¼äº†</p><h5 id="äº”-where"><a href="#äº”-where" class="headerlink" title="äº” where"></a>äº” where</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†æ‰€æœ‰æ­£æ•°åŠ èµ·æ¥</span></span><br><span class="line"><span class="keyword">var</span> numbers = [<span class="number">10</span>,<span class="number">15</span>,-<span class="number">10</span>,-<span class="number">20</span>,<span class="number">40</span>,-<span class="number">100</span>]</span><br><span class="line"><span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> numbers <span class="keyword">where</span> num &gt; <span class="number">0</span> &#123;</span><br><span class="line">    sum += num</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(sum)<span class="comment">//65</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> point = (<span class="number">1</span>, -<span class="number">1</span>)</span><br><span class="line"><span class="keyword">switch</span> point &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x, y) <span class="keyword">where</span> x == y:</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"on the line x == y"</span>) <span class="keyword">case</span> <span class="keyword">let</span> (x, y) <span class="keyword">where</span> x == -y:</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"on the line x == -y"</span>) <span class="keyword">case</span> <span class="keyword">let</span> (x, y):</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"(\(x), \(y)) is just some arbitrary point"</span>) &#125; <span class="comment">// on the line x == -y</span></span><br></pre></td></tr></table></figure><h5 id="å…­-æ ‡ç­¾è¯­å¥"><a href="#å…­-æ ‡ç­¾è¯­å¥" class="headerlink" title="å…­ æ ‡ç­¾è¯­å¥"></a>å…­ æ ‡ç­¾è¯­å¥</h5><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">outer</span>: <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>...<span class="number">4</span> &#123; <span class="keyword">for</span> k <span class="keyword">in</span> <span class="number">1</span>...<span class="number">4</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> k == <span class="number">3</span> &#123;</span><br><span class="line">            <span class="keyword">continue</span> <span class="keyword">outer</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> i == <span class="number">3</span> &#123;</span><br><span class="line"><span class="keyword">break</span> <span class="keyword">outer</span> &#125;</span><br><span class="line">        print(<span class="string">"i == \(i), k == \(k)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸€-if-else&quot;&gt;&lt;a href=&quot;#ä¸€-if-else&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ if else&quot;&gt;&lt;/a&gt;ä¸€ if else&lt;/h5&gt;&lt;figure class=&quot;highlight routeros&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;let age = 30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; age &amp;gt;= 22 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;builtin-name&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Get married&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; age &amp;gt;= 18 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;builtin-name&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Being a adult&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;builtin-name&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;listening tu ta zi jiao huan&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;if åé¢çš„æ¡ä»¶å¯ä»¥çœç•¥å°æ‹¬å·&lt;br&gt;æ¡ä»¶åé¢çš„å¤§æ‹¬å·ä¸å¯ä»¥çœç•¥&lt;br&gt;&lt;img src=&quot;../assets/blogImg/if01.jpg&quot; alt&gt;&lt;br&gt;if åé¢çš„æ¡ä»¶åªèƒ½æ˜¯Boolç±»å‹&lt;/p&gt;
&lt;h5 id=&quot;äºŒ-while&quot;&gt;&lt;a href=&quot;#äºŒ-while&quot; class=&quot;headerlink&quot; title=&quot;äºŒ while&quot;&gt;&lt;/a&gt;äºŒ while&lt;/h5&gt;&lt;figure class=&quot;highlight dart&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;num&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;num&lt;/span&gt; &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;num is \(num)&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;num&lt;/span&gt; -= &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; num2 = &lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;repeat &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;num2 is \(num2)&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; num2 &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;repeat-whileç›¸å½“äºCè¯­è¨€ä¸­çš„do-while&lt;br&gt;ä»Swift3å¼€å§‹,å»é™¤äº†è‡ªå¢(++),è‡ªå‡(â€“)è¿ç®—ç¬¦,ä¸ºå•¥å»é™¤å‘¢,å¯èƒ½ä¸ºäº†æ›´ä¸¥è°¨å§.&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; number = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;let &lt;span class=&quot;selector-tag&quot;&gt;b&lt;/span&gt; = ++ number + number++&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(b)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;//?? ä½ èƒ½å¿«é€Ÿç®—å‡ºbæ˜¯å‡ ä¹ˆ?&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;swiftå»é™¤è‡ªå¢è‡ªå‡,ä¹Ÿæ˜¯ä¸ºäº†æ›´æ˜ç¡®ç®€æ´å§.&lt;/p&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>swiftåŸºç¡€è¯­æ³•</title>
    <link href="http://example.com/2019/07/30/swift%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/"/>
    <id>http://example.com/2019/07/30/swiftåŸºç¡€è¯­æ³•/</id>
    <published>2019-07-30T05:42:31.000Z</published>
    <updated>2020-12-05T11:56:11.570Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä¸€-Hello-World"><a href="#ä¸€-Hello-World" class="headerlink" title="ä¸€ Hello World"></a>ä¸€ Hello World</h4><h4 id="äºŒ-æ³¨é‡Š"><a href="#äºŒ-æ³¨é‡Š" class="headerlink" title="äºŒ æ³¨é‡Š"></a>äºŒ æ³¨é‡Š</h4><h4 id="ä¸‰-å¸¸é‡"><a href="#ä¸‰-å¸¸é‡" class="headerlink" title="ä¸‰ å¸¸é‡"></a>ä¸‰ å¸¸é‡</h4><h4 id="å››-æ ‡è¯†ç¬¦"><a href="#å››-æ ‡è¯†ç¬¦" class="headerlink" title="å›› æ ‡è¯†ç¬¦"></a>å›› æ ‡è¯†ç¬¦</h4><h4 id="äº”-å¸¸è§æ•°æ®ç±»å‹"><a href="#äº”-å¸¸è§æ•°æ®ç±»å‹" class="headerlink" title="äº” å¸¸è§æ•°æ®ç±»å‹"></a>äº” å¸¸è§æ•°æ®ç±»å‹</h4><h4 id="å…­-å­—é¢é‡"><a href="#å…­-å­—é¢é‡" class="headerlink" title="å…­ å­—é¢é‡"></a>å…­ å­—é¢é‡</h4><h4 id="ä¸ƒ-å…ƒç»„"><a href="#ä¸ƒ-å…ƒç»„" class="headerlink" title="ä¸ƒ å…ƒç»„"></a>ä¸ƒ å…ƒç»„</h4><h5 id="ä¸€-Hellow-World"><a href="#ä¸€-Hellow-World" class="headerlink" title="ä¸€  Hellow World"></a>ä¸€  Hellow World</h5><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">helloworld</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello world"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"ä½ å¥½,ä¸–ç•Œ"</span>)</span><br></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">output: ä½ å¥½,ä¸–ç•Œ</span><br><span class="line">Program ended with <span class="keyword">exit</span> code: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>1 ä¸ç”¨åƒOCé‚£æ ·éœ€è¦mainå‡½æ•°,Swiftä¼šå°†å…¨å±€å†…çš„é¦–å¥å¯æ‰§è¡Œä»£ç ä½œä¸ºç¨‹åºå…¥å£, å…¶å®å®ƒè¿˜æ˜¯æœ‰mainå‡½æ•°çš„,åº•å±‚åšçš„,ä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å†™äº†</p><p>2 ç›¸æ¯”OCæˆ‘ä»¬è¯­å¥åé¢ä¹Ÿä¸ç”¨å†™  â€œ ; â€äº†,ä½†æ˜¯å¤šä¸ªè¯­å¥åœ¨ä¸€è¡Œè¿˜æ˜¯éœ€è¦çš„.</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let a = <span class="number">10</span></span><br><span class="line">var b = <span class="number">20</span></span><br><span class="line">b = <span class="number">100</span></span><br><span class="line"><span class="regexp">//</span>a = <span class="number">100</span>  xxx</span><br><span class="line">print(a,b)</span><br><span class="line"></span><br><span class="line"><span class="number">10</span> <span class="number">100</span></span><br><span class="line">Program ended with <span class="keyword">exit</span> code: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>1 ç”¨<strong>var</strong> å®šä¹‰å˜é‡, å˜é‡å¯ä¿®æ”¹å€¼</p><p>2 ç”¨<strong>let</strong> å®šä¹‰å¸¸é‡,å€¼ä¸å¯ä¿®æ”¹</p><p>æœ‰ç‚¹åƒjavasriptå¸¸ å˜é‡çš„å®šä¹‰</p><a id="more"></a><h5 id="äºŒ-æ³¨é‡Š-1"><a href="#äºŒ-æ³¨é‡Š-1" class="headerlink" title="äºŒ æ³¨é‡Š"></a>äºŒ æ³¨é‡Š</h5><p>swift æœ‰å•è¡Œæ³¨é‡Šå’Œå¤šè¡Œæ³¨é‡Š,å¤šè¡Œæ³¨é‡Šæ”¯æŒåµŒå¥—, ~  (æ³¨é‡Šæ–¹å¼éƒ½æ”¯æŒMarkupè¯­æ³•,ä½†æ˜¯åªåœ¨Playgrounä¸­æœ‰æ•ˆ)~</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment"> /*  æ”¯æŒæ³¨é‡ŠåµŒå¥—</span></span><br><span class="line"><span class="comment">func helloworld() &#123;</span></span><br><span class="line"><span class="comment"> print("hello world")</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line"><span class="comment">//print("ä½ å¥½,ä¸–ç•Œ") å•è¡Œæ³¨é‡Š</span></span><br><span class="line">let <span class="selector-tag">a</span> = <span class="number">10</span></span><br><span class="line"><span class="selector-tag">var</span> <span class="selector-tag">b</span> = <span class="number">20</span></span><br><span class="line"><span class="selector-tag">b</span> = <span class="number">100</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(a,b)</span></span></span><br></pre></td></tr></table></figure><p>â€“<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/* å¤šè¡Œæ³¨é‡Š</span><br><span class="line"> /*:  æ”¯æŒæ³¨é‡ŠåµŒå¥—</span><br><span class="line"> ####  æ ‡é¢˜ä¸€</span><br><span class="line"> [<span class="string">é“¾æ¥</span>](<span class="link">http://www.lerpo.github.io</span>)</span><br><span class="line">func helloworld() &#123;</span><br><span class="line"> print("hello world")</span><br><span class="line">&#125;</span><br><span class="line"> */</span><br><span class="line">*/</span><br></pre></td></tr></table></figure></p><p>markup è¯­æ³•åªåœ¨Playgroundä¸­æœ‰æ•ˆæœ,Editor -&gt; Show Rendered Markup</p><h5 id="ä¸‰-å¸¸é‡-1"><a href="#ä¸‰-å¸¸é‡-1" class="headerlink" title="ä¸‰ å¸¸é‡"></a>ä¸‰ å¸¸é‡</h5><p><img src="../assets/blogImg/let01.png" alt><br>1 å¸¸é‡ç”¨<strong>let</strong> å®šä¹‰</p><p>2 åªèƒ½èµ‹å€¼ä¸€æ¬¡,è¶…è¿‡ä¸€æ¬¡å°±æŠ¥é”™<br><img src="../assets/blogImg/let02.png" alt><br><img src="../assets/blogImg/let03.png" alt><br>3 å®ƒçš„å€¼ä¸è¦æ±‚åœ¨ç¼–è¯‘æ—¶æœŸç¡®å®š,ä½†ä½¿ç”¨å‰å¿…é¡»èµ‹å€¼ä¸€æ¬¡</p><h5 id="å››-æ ‡è¯†ç¬¦-1"><a href="#å››-æ ‡è¯†ç¬¦-1" class="headerlink" title="å›› æ ‡è¯†ç¬¦"></a>å›› æ ‡è¯†ç¬¦</h5><p>æ ‡è¯†ç¬¦ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œä¸èƒ½åŒ…å«ç©ºç™½å­—ç¬¦ã€åˆ¶è¡¨ç¬¦ã€ç®­å¤´ç­‰ç‰¹æ®Šå­—ç¬¦<br>å¤ªç®€å•äº†,æ²¡å•¥å¯è®²çš„</p><h5 id="äº”-å¸¸è§çš„æ•°æ®ç±»å‹"><a href="#äº”-å¸¸è§çš„æ•°æ®ç±»å‹" class="headerlink" title="äº” å¸¸è§çš„æ•°æ®ç±»å‹"></a>äº” å¸¸è§çš„æ•°æ®ç±»å‹</h5><table><thead><tr><th style="text-align:center">ç±»å‹</th><th style="text-align:center"></th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center">å€¼ç±»å‹(value type)</td><td style="text-align:center">æšä¸¾(enum)</td><td style="text-align:center">Optional</td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center">ç»“æ„ä½“(struct)</td><td style="text-align:center">Bool, Int, Float,Double, Character,String,Array,Dictionary,Set</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">å¼•ç”¨ç±»å‹(reference type)</td><td style="text-align:center">ç±»(class)</td><td style="text-align:center"></td></tr></tbody></table><p>æ•°æ®ç±»å‹è½¬æ¢</p><figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•´æ•°è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> int1: UInt16 = <span class="number">1</span>_000</span><br><span class="line"><span class="keyword">let</span> int2: UInt8 = <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> int3 = int1 + UInt16(int2)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ•´æ•° æµ®ç‚¹æ•° è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">int</span> = <span class="number">3</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">double</span> = <span class="number">0.1234</span></span><br><span class="line"><span class="keyword">let</span> pi = <span class="keyword">Double</span>(<span class="keyword">int</span>) + <span class="keyword">double</span></span><br><span class="line"><span class="keyword">let</span> intPi = <span class="keyword">Int</span>(pi)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­—é¢é‡å¯ä»¥ç›´æ¥ç›¸åŠ ,å› ä¸ºæ•°å­—å­—é¢é‡æœ¬èº«æ²¡æœ‰æ˜ç¡®çš„ç±»å‹</span></span><br><span class="line"><span class="keyword">let</span> redult = <span class="number">3</span> + <span class="number">0.14234</span></span><br></pre></td></tr></table></figure><p>è¦è½¬æ¢ç±»å‹,ä¸€èˆ¬ä»¥è¦è½¬æ¢ç±»å‹åŠ å°æ‹¬å·,å°æ‹¬å·é‡Œé¢æ˜¯ä½ è¦è½¬æ¢çš„æ•°æ®</p><h5 id="å…­-å­—é¢é‡-1"><a href="#å…­-å­—é¢é‡-1" class="headerlink" title="å…­ å­—é¢é‡"></a>å…­ å­—é¢é‡</h5><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸ƒå°”</span></span><br><span class="line"> <span class="keyword">let</span> <span class="keyword">bool</span> = <span class="literal">true</span> <span class="comment">// å–åhæ˜¯false  OC is YES OR NO</span></span><br><span class="line"> <span class="comment">//æ•´æ•°</span></span><br><span class="line"> <span class="keyword">let</span> intDecimal = <span class="number">30</span> <span class="comment">//åè¿›åˆ¶</span></span><br><span class="line"> <span class="keyword">let</span> intBinary = <span class="number">0b10001</span> <span class="comment">//äºŒè¿›åˆ¶</span></span><br><span class="line"> <span class="keyword">let</span> intOctal = <span class="number">0</span>o21 <span class="comment">//å…«è¿›åˆ¶</span></span><br><span class="line"> <span class="keyword">let</span> intHexadecimal = <span class="number">0x11</span> <span class="comment">// åå…­è¿›åˆ¶</span></span><br><span class="line"> <span class="comment">// å­—ç¬¦ä¸²</span></span><br><span class="line"> <span class="keyword">let</span> <span class="keyword">string</span> = <span class="string">"lerpo"</span></span><br><span class="line"> <span class="comment">//å­—ç¬¦ è¦åŠ Characterç±»å‹,å¦åˆ™ä¼šé»˜è®¤æˆå­—ç¬¦ä¸²</span></span><br><span class="line"> <span class="keyword">let</span> character:Character = <span class="string">"ğŸº"</span></span><br><span class="line"> <span class="comment">//æµ®ç‚¹æ•°</span></span><br><span class="line"> <span class="keyword">let</span> doubeleDecimal = <span class="number">125.0</span></span><br><span class="line"> <span class="comment">//æ•°ç»„</span></span><br><span class="line"> <span class="keyword">let</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"> <span class="comment">//å­—å…¸</span></span><br><span class="line"> <span class="keyword">let</span> dictionary = [<span class="string">"age"</span>: <span class="number">20</span>,<span class="string">"height"</span>: <span class="number">185</span>]</span><br></pre></td></tr></table></figure><p>æ•´æ•°å’Œæµ®ç‚¹æ•°å¯ä»¥æ·»åŠ é¢å¤–çš„é›¶æˆ–è€…æ·»åŠ ä¸‹åˆ’çº¿æ¥å¢å¼ºå¯è¯»æ€§ 100_0000ã€ 1_000_000.000_000_1ã€ 000123.456</p><h5 id="ä¸ƒ-å…ƒç»„-1"><a href="#ä¸ƒ-å…ƒç»„-1" class="headerlink" title="ä¸ƒ å…ƒç»„"></a>ä¸ƒ å…ƒç»„</h5><p>å…ƒç»„(tuples)æŠŠå¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªå¤åˆå€¼ã€‚å…ƒç»„å†…çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå¹¶ä¸è¦æ±‚æ˜¯ç›¸åŒç±»å‹ã€‚</p><p>ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œ (404, â€œNot Foundâ€) æ˜¯ä¸€ä¸ªæè¿°<em> HTTP çŠ¶æ€ç (HTTP status code)çš„å…ƒç»„ã€‚HTTP çŠ¶æ€ç æ˜¯ å½“ä½ è¯·æ±‚ç½‘é¡µçš„æ—¶å€™ web </em>æœåŠ¡å™¨è¿”å›çš„ä¸€ä¸ªç‰¹æ®Šå€¼ã€‚å¦‚æœä½ è¯·æ±‚çš„ç½‘é¡µä¸å­˜åœ¨å°±ä¼šè¿”å›ä¸€ä¸ª <em>404 Not Found </em>çŠ¶æ€ç ã€‚</p><figure class="highlight plain"><figcaption><span>http404Error </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// http404Error çš„ç±»å‹æ˜¯ (Int, String)ï¼Œå€¼æ˜¯ (404, &quot;Not Found&quot;)</span><br><span class="line">(404, &quot;Not Found&quot;) å…ƒç»„æŠŠä¸€ä¸ª* Int å€¼å’Œä¸€ä¸ª String å€¼ç»„åˆèµ·æ¥è¡¨ç¤º HTTP çŠ¶æ€ç çš„ä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€ä¸ªæ•°å­—å’Œä¸€ä¸ªäººç±»å¯è¯»çš„æè¿°ã€‚è¿™ä¸ªå…ƒç»„å¯ä»¥è¢«æè¿°ä¸ºâ€œä¸€ä¸ªç±»å‹ä¸º (Int, String) *çš„å…ƒç»„â€ã€‚</span><br><span class="line"></span><br><span class="line">ä½ å¯ä»¥æŠŠä»»æ„é¡ºåºçš„ç±»å‹ç»„åˆæˆä¸€ä¸ªå…ƒç»„ï¼Œè¿™ä¸ªå…ƒç»„å¯ä»¥åŒ…å«æ‰€æœ‰ç±»å‹ã€‚åªè¦ä½ æƒ³ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªç±»å‹ä¸º (Int, Int, Int) æˆ–è€… (String, Bool) æˆ–è€…å…¶ä»–ä»»ä½•ä½ æƒ³è¦çš„ç»„åˆçš„å…ƒç»„ã€‚</span><br><span class="line"></span><br><span class="line">ä½ å¯ä»¥å°†ä¸€ä¸ªå…ƒç»„çš„å†…å®¹åˆ†è§£* (decompose)* æˆå•ç‹¬çš„å¸¸é‡å’Œå˜é‡ï¼Œç„¶åä½ å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨å®ƒä»¬äº†:</span><br></pre></td></tr></table></figure><p>let (statusCode, statusMessage) = http404Error<br>print(â€œThe status code is (statusCode)â€)<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡º "The status code is 404"</span></span><br></pre></td></tr></table></figure></p><p>print(â€œThe status message is (statusMessage)â€)<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="comment">// è¾“å‡º "The status message is Not Found"</span></span><br><span class="line">å¦‚æœä½ åªéœ€è¦ä¸€éƒ¨åˆ†å…ƒç»„å€¼ï¼Œåˆ†è§£çš„æ—¶å€™å¯ä»¥æŠŠè¦å¿½ç•¥çš„éƒ¨åˆ†ç”¨ä¸‹åˆ’çº¿* ï¼ˆ_ï¼‰ *æ ‡è®°ï¼š</span><br><span class="line"></span><br><span class="line">```<span class="keyword">let</span> (justTheStatusCode, _) = http404Error</span><br><span class="line"><span class="keyword">print</span>(<span class="string">"The status code is \(justTheStatusCode)"</span>)</span><br></pre></td></tr></table></figure></p><p> // è¾“å‡º â€œThe status code is 404â€<br>æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®å…ƒç»„ä¸­çš„å•ä¸ªå…ƒç´ ï¼Œä¸‹æ ‡ä»é›¶å¼€å§‹ï¼š</p><figure class="highlight plain"><figcaption><span>status code is \(http404Error.0)")```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// è¾“å‡º &quot;The status code is 404&quot;</span><br><span class="line"></span><br><span class="line">```print(&quot;The status message is \(http404Error.1)&quot;)</span><br></pre></td></tr></table></figure><p>// è¾“å‡º â€œThe status message is Not Foundâ€<br>ä½ å¯ä»¥åœ¨å®šä¹‰å…ƒç»„çš„æ—¶å€™ç»™å•ä¸ªå…ƒç´ å‘½åï¼š</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let http200Status = (<span class="string">statusCode:</span> <span class="number">200</span>, <span class="string">description:</span> <span class="string">"OK"</span>)</span><br></pre></td></tr></table></figure><p>ç»™å…ƒç»„ä¸­çš„å…ƒç´ å‘½ååï¼Œä½ å¯ä»¥é€šè¿‡åå­—æ¥è·å–è¿™äº›å…ƒç´ çš„å€¼ï¼š<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"The status code is \(http200Status.statusCode)"</span>)</span></span></span><br></pre></td></tr></table></figure></p><p>// è¾“å‡º â€œThe status code is 200â€</p><figure class="highlight plain"><figcaption><span>status message is \(http200Status.description)")</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// è¾“å‡º &quot;The status message is OK&quot;</span><br></pre></td></tr></table></figure><p>ä½œä¸ºå‡½æ•°è¿”å›å€¼æ—¶ï¼Œå…ƒç»„éå¸¸æœ‰ç”¨ã€‚ä¸€ä¸ªç”¨æ¥è·å–ç½‘é¡µçš„å‡½æ•°å¯èƒ½ä¼šè¿”å›ä¸€ä¸ª<em> (Int, String) </em>å…ƒç»„æ¥æè¿°æ˜¯å¦ è·å–æˆåŠŸã€‚å’Œåªèƒ½è¿”å›ä¸€ä¸ªç±»å‹çš„å€¼æ¯”è¾ƒèµ·æ¥ï¼Œä¸€ä¸ªåŒ…å«ä¸¤ä¸ªä¸åŒç±»å‹å€¼çš„å…ƒç»„å¯ä»¥è®©å‡½æ•°çš„è¿”å›ä¿¡æ¯æ›´æœ‰ç”¨ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;ä¸€-Hello-World&quot;&gt;&lt;a href=&quot;#ä¸€-Hello-World&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ Hello World&quot;&gt;&lt;/a&gt;ä¸€ Hello World&lt;/h4&gt;&lt;h4 id=&quot;äºŒ-æ³¨é‡Š&quot;&gt;&lt;a href=&quot;#äºŒ-æ³¨é‡Š&quot; class=&quot;headerlink&quot; title=&quot;äºŒ æ³¨é‡Š&quot;&gt;&lt;/a&gt;äºŒ æ³¨é‡Š&lt;/h4&gt;&lt;h4 id=&quot;ä¸‰-å¸¸é‡&quot;&gt;&lt;a href=&quot;#ä¸‰-å¸¸é‡&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰ å¸¸é‡&quot;&gt;&lt;/a&gt;ä¸‰ å¸¸é‡&lt;/h4&gt;&lt;h4 id=&quot;å››-æ ‡è¯†ç¬¦&quot;&gt;&lt;a href=&quot;#å››-æ ‡è¯†ç¬¦&quot; class=&quot;headerlink&quot; title=&quot;å›› æ ‡è¯†ç¬¦&quot;&gt;&lt;/a&gt;å›› æ ‡è¯†ç¬¦&lt;/h4&gt;&lt;h4 id=&quot;äº”-å¸¸è§æ•°æ®ç±»å‹&quot;&gt;&lt;a href=&quot;#äº”-å¸¸è§æ•°æ®ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;äº” å¸¸è§æ•°æ®ç±»å‹&quot;&gt;&lt;/a&gt;äº” å¸¸è§æ•°æ®ç±»å‹&lt;/h4&gt;&lt;h4 id=&quot;å…­-å­—é¢é‡&quot;&gt;&lt;a href=&quot;#å…­-å­—é¢é‡&quot; class=&quot;headerlink&quot; title=&quot;å…­ å­—é¢é‡&quot;&gt;&lt;/a&gt;å…­ å­—é¢é‡&lt;/h4&gt;&lt;h4 id=&quot;ä¸ƒ-å…ƒç»„&quot;&gt;&lt;a href=&quot;#ä¸ƒ-å…ƒç»„&quot; class=&quot;headerlink&quot; title=&quot;ä¸ƒ å…ƒç»„&quot;&gt;&lt;/a&gt;ä¸ƒ å…ƒç»„&lt;/h4&gt;&lt;h5 id=&quot;ä¸€-Hellow-World&quot;&gt;&lt;a href=&quot;#ä¸€-Hellow-World&quot; class=&quot;headerlink&quot; title=&quot;ä¸€  Hellow World&quot;&gt;&lt;/a&gt;ä¸€  Hellow World&lt;/h5&gt;&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;helloworld&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;hello world&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;ä½ å¥½,ä¸–ç•Œ&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight awk&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;output: ä½ å¥½,ä¸–ç•Œ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Program ended with &lt;span class=&quot;keyword&quot;&gt;exit&lt;/span&gt; code: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;1 ä¸ç”¨åƒOCé‚£æ ·éœ€è¦mainå‡½æ•°,Swiftä¼šå°†å…¨å±€å†…çš„é¦–å¥å¯æ‰§è¡Œä»£ç ä½œä¸ºç¨‹åºå…¥å£, å…¶å®å®ƒè¿˜æ˜¯æœ‰mainå‡½æ•°çš„,åº•å±‚åšçš„,ä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å†™äº†&lt;/p&gt;
&lt;p&gt;2 ç›¸æ¯”OCæˆ‘ä»¬è¯­å¥åé¢ä¹Ÿä¸ç”¨å†™  â€œ ; â€äº†,ä½†æ˜¯å¤šä¸ªè¯­å¥åœ¨ä¸€è¡Œè¿˜æ˜¯éœ€è¦çš„.&lt;/p&gt;
&lt;figure class=&quot;highlight awk&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;let a = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var b = &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;b = &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;regexp&quot;&gt;//&lt;/span&gt;a = &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;  xxx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(a,b)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Program ended with &lt;span class=&quot;keyword&quot;&gt;exit&lt;/span&gt; code: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;1 ç”¨&lt;strong&gt;var&lt;/strong&gt; å®šä¹‰å˜é‡, å˜é‡å¯ä¿®æ”¹å€¼&lt;/p&gt;
&lt;p&gt;2 ç”¨&lt;strong&gt;let&lt;/strong&gt; å®šä¹‰å¸¸é‡,å€¼ä¸å¯ä¿®æ”¹&lt;/p&gt;
&lt;p&gt;æœ‰ç‚¹åƒjavasriptå¸¸ å˜é‡çš„å®šä¹‰&lt;/p&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>Swiftç®€ä»‹</title>
    <link href="http://example.com/2019/07/20/Swift%E7%AE%80%E4%BB%8B/"/>
    <id>http://example.com/2019/07/20/Swiftç®€ä»‹/</id>
    <published>2019-07-20T15:00:48.000Z</published>
    <updated>2020-12-05T06:41:26.859Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Swiftæ˜¯Appleåœ¨2014å¹´6æœˆWWDCå‘å¸ƒçš„å…¨æ–°ç¼–ç¨‹è¯­è¨€ï¼Œä¸­æ–‡åå’ŒLOGOæ˜¯â€œé›¨ç‡•â€ Swiftä¹‹çˆ¶Chris Lattner pClangç¼–è¯‘å™¨ä½œè€…ã€LLVMé¡¹ç›®çš„ä¸»è¦å‘èµ·äºº ä»Appleç¦»èŒåï¼Œå…ˆåè·³æ§½åˆ°Teslaã€Google pç›®å‰åœ¨Google Brainä»äº‹AIç ”ç©¶</p></blockquote><p>å†æ—¶5å¹´å‘å±•ï¼Œä»Swift1.xå‘å±•åˆ°äº†Swift5.xç‰ˆæœ¬ï¼Œç»å†äº†å¤šæ¬¡é‡å¤§æ”¹å˜ï¼Œ<strong>ABI</strong>ç»ˆäºç¨³å®š <strong>API(Application Programming Interface)</strong>:åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£</p><p>æºä»£ç å’Œåº“ä¹‹é—´çš„æ¥å£<br>ABI(Application Binary Interface):åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£<br> åº”ç”¨ç¨‹åºä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„åº•å±‚æ¥å£<br>æ¶‰åŠçš„å†…å®¹æœ‰: <strong>ç›®æ ‡æ–‡ä»¶æ ¼å¼ã€æ•°æ®ç±»å‹çš„å¤§å°\å¸ƒå±€\å¯¹é½ã€å‡½æ•°è°ƒç”¨çº¦å®šç­‰ç­‰ </strong>  éšç€ABIçš„ç¨³å®šï¼ŒSwiftè¯­æ³•åŸºæœ¬ä¸ä¼šå†æœ‰å¤ªå¤§çš„å˜åŠ¨,æˆªæ­¢è‡³2019å¹´6æœˆï¼Œç›®å‰æœ€æ–°ç‰ˆæœ¬:Swift5.1<br>Swiftå®Œå…¨å¼€æº: <a href="https://github.com/apple/swift" target="_blank" rel="noopener">https://github.com/apple/swift</a>ï¼Œä¸»è¦é‡‡ç”¨C++ç¼–å†™</p><h5 id="ä¸€-swift-ç¼–è¯‘æµç¨‹"><a href="#ä¸€-swift-ç¼–è¯‘æµç¨‹" class="headerlink" title="ä¸€  swift ç¼–è¯‘æµç¨‹"></a>ä¸€  swift ç¼–è¯‘æµç¨‹</h5><p><img src="../assets/blogImg/binyiliucheng1.png" alt="ç¼–è¯‘æµç¨‹"><br>é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ç¼–è¯‘å™¨åˆ†ä¸ºå‰ç«¯å’Œåç«¯ï¼š<br>å‰ç«¯ï¼šè¯æ³•åˆ†æ<br>åç«¯ï¼šç”Ÿæˆå¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶ä»£ç </p><p>Swiftä¸OCå’ŒCçš„ç¼–è¯‘æµç¨‹åŒºåˆ«ï¼šCå’ŒOCç¼–è¯‘å™¨çš„å‰ç«¯æ˜¯Clangï¼Œä¹Ÿå°±æ˜¯ä»¥å‰çš„OCä»£ç é€šè¿‡Clangè¿™ä¸ªç¼–è¯‘å™¨çš„å‰ç«¯è¿›è¡Œå¤„ç†ï¼Œè½¬äº¤ç»™LLVMè¿™ä¸ªç¼–è¯‘å™¨çš„åç«¯ï¼Œæœ€åç”ŸæˆARMçš„äºŒè¿›åˆ¶ä»£ç ã€‚è€ŒSwiftçš„ç¼–è¯‘å™¨çš„å‰ç«¯æ˜¯swiftcï¼Œé€šè¿‡swiftcè¿›è¡Œè¯æ³•åˆ†æå’Œè¯­æ³•æ ‘å¤„ç†ï¼Œç„¶åäº¤ç»™LLVMçš„åç«¯ç¼–è¯‘å™¨ï¼Œæœ€åç”ŸæˆARMæ ¼å¼çš„äºŒè¿›åˆ¶ä»£ç <br><img src="../assets/blogImg/bianyiliucheng2.png" alt="ç¼–è¯‘æµç¨‹"><br>Swiftä»£ç â€“&gt;é€šè¿‡swiftcç”ŸæˆSwift AST(Swiftè¯­æ³•æ ‘)â€“&gt;Raw Swift IL(Swiftç‰¹æœ‰çš„ä¸­é—´ä»£ç )â€“&gt;Canonical Swift IL(æ›´ç®€æ´çš„Swiftä»£ç )â€“&gt;è½¬äº¤ç»™åç«¯ç”ŸæˆLLVMä»£ç â€“&gt;Assembly(æ±‡ç¼–ä»£ç )â€“&gt;Executable(äºŒè¿›åˆ¶ä»£ç )<br><a href="https://swift.org/swift-compiler/" target="_blank" rel="noopener">æ¯ä¸ªé˜¶æ®µå…·ä½“ä»‹ç»</a></p><a id="more"></a><h5 id="äºŒ-swiftc"><a href="#äºŒ-swiftc" class="headerlink" title="äºŒ swiftc"></a>äºŒ swiftc</h5><p>Swiftçš„ç¼–è¯‘å™¨çš„å‰ç«¯æ˜¯swiftcï¼Œé€šè¿‡swiftcè¿›è¡Œè¯æ³•åˆ†æå’Œè¯­æ³•æ ‘å¤„ç†,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæä¾›çš„ä¸€äº›å‘½ä»¤å¯¹swiftæ–‡ä»¶è¿›è¡Œä¸€äº›æ“ä½œ.</p><ul><li><p>ç”Ÿæˆè¯­æ³•æ ‘: <figure class="highlight plain"><figcaption><span>-dump-ast main.swift ```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* ç”Ÿæˆæœ€ç®€æ´çš„SILä»£ç :```swiftc -emit-sil main.swift</span><br></pre></td></tr></table></figure></p></li><li><p>ç”ŸæˆLLVM IRä»£ç : <figure class="highlight plain"><figcaption><span>-emit-ir main.swift -o main.ll ```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* ç”Ÿæˆæ±‡ç¼–ä»£ç :``` swiftc -emit-assembly main.swift -o main.s</span><br></pre></td></tr></table></figure></p></li></ul><p>æƒ³çŸ¥é“å®ƒæ›´å¤šçš„å‘½ä»¤æˆ‘ä»¬å¯ä»¥é€šè¿‡<figure class="highlight plain"><figcaption><span>-h```æŸ¥çœ‹</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">macbookdeMacBook-Pro:Log mac$ swiftc -h</span><br><span class="line"></span><br><span class="line">OVERVIEW: Swift compiler</span><br><span class="line">USAGE: swiftc</span><br><span class="line"></span><br><span class="line">MODES:</span><br><span class="line">  -dump-ast              Parse and type-check input file(s) and dump AST(s)</span><br><span class="line">  </span><br><span class="line">  -dump-parse            Parse input file(s) and dump AST(s)</span><br><span class="line">  </span><br><span class="line">  -dump-scope-maps &lt;expanded-or-list-of-line:column&gt;</span><br><span class="line">                         Parse and type-check input file(s) and dump the scope map(s)</span><br><span class="line">                         </span><br><span class="line">  -dump-type-info        Output YAML dump of fixed-size types from all imported modules</span><br><span class="line">  </span><br><span class="line">  -dump-type-refinement-contexts</span><br><span class="line">                         Type-check input file(s) and dump type refinement contexts(s)</span><br><span class="line">                         </span><br><span class="line">  -emit-assembly         Emit assembly file(s) (-S)</span><br><span class="line">  </span><br><span class="line">  -emit-bc               Emit LLVM BC file(s)</span><br><span class="line">  </span><br><span class="line">  -emit-executable       Emit a linked executable</span><br><span class="line">  </span><br><span class="line">  -emit-imported-modules Emit a list of the imported modules</span><br><span class="line">  </span><br><span class="line">  -emit-ir               Emit LLVM IR file(s)</span><br><span class="line">  </span><br><span class="line">  -emit-library          Emit a linked library</span><br><span class="line">  </span><br><span class="line">  -emit-object           Emit object file(s) (-c)</span><br><span class="line">  </span><br><span class="line">  -emit-sibgen           Emit serialized AST + raw SIL file(s)</span><br><span class="line">  </span><br><span class="line">  -emit-sib              Emit serialized AST + canonical SIL file(s)</span><br><span class="line">  </span><br><span class="line">  -emit-silgen           Emit raw SIL file(s)</span><br><span class="line">  </span><br><span class="line">  -emit-sil              Emit canonical SIL file(s)</span><br><span class="line">  </span><br><span class="line">  -index-file            Produce index data for a source file</span><br><span class="line">  </span><br><span class="line">  -parse                 Parse input file(s)</span><br><span class="line">  </span><br><span class="line">  -print-ast             Parse and type-check input file(s) and pretty print AST(s)</span><br><span class="line">  </span><br><span class="line">  -resolve-imports       Parse and resolve imports in input file(s)</span><br><span class="line">  </span><br><span class="line">  -typecheck             Parse and type-check input file(s)</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">OPTIONS:</span><br><span class="line">  -api-diff-data-dir &lt;path&gt;</span><br><span class="line">                          Load platform and version specific API migration data files from &lt;path&gt;. Ignored if -api-diff-data-file is specified.</span><br><span class="line">                          </span><br><span class="line">  -api-diff-data-file &lt;path&gt;</span><br><span class="line">                          API migration data is from &lt;path&gt;</span><br><span class="line">                          </span><br><span class="line">  -application-extension  Restrict code to those available for App Extensions</span><br><span class="line">  </span><br><span class="line">  -assert-config &lt;value&gt;  Specify the assert_configuration replacement. Possible values are Debug, Release, Unchecked, DisableReplacement.</span><br><span class="line">  </span><br><span class="line">  -continue-building-after-errors</span><br><span class="line">                          Continue building, even after errors are encountered</span><br><span class="line">                          </span><br><span class="line">  -debug-info-format=&lt;value&gt;</span><br><span class="line">                          Specify the debug info format type to either &apos;dwarf&apos; or &apos;codeview&apos;</span><br><span class="line">                          </span><br><span class="line">  -debug-info-store-invocation</span><br><span class="line">                          Emit the compiler invocation in the debug info.</span><br><span class="line">                          </span><br><span class="line">  -debug-prefix-map &lt;value&gt;</span><br><span class="line">                          Remap source paths in debug info</span><br><span class="line">                          </span><br><span class="line">  -disable-autolinking-runtime-compatibility-dynamic-replacements</span><br><span class="line">                          Do not use autolinking for the dynamic replacement runtime compatibility library</span><br><span class="line">                          </span><br><span class="line">  -disable-autolinking-runtime-compatibility</span><br><span class="line">                          Do not use autolinking for runtime compatibility libraries</span><br><span class="line">                          </span><br><span class="line">  -disable-migrator-fixits</span><br><span class="line">                          Disable the Migrator phase which automatically applies fix-its</span><br><span class="line">                          </span><br><span class="line">  -driver-time-compilation</span><br><span class="line">                          Prints the total time it took to execute all compilation tasks</span><br><span class="line">                          </span><br><span class="line">  -dump-migration-states-dir &lt;path&gt;</span><br><span class="line">                          Dump the input text, output text, and states for migration to &lt;path&gt;</span><br><span class="line">                          </span><br><span class="line">  -dump-usr               Dump USR for each declaration reference</span><br><span class="line">  </span><br><span class="line">  -D &lt;value&gt;              Marks a conditional compilation flag as true</span><br><span class="line">  </span><br><span class="line">  -embed-bitcode-marker   Embed placeholder LLVM IR data as a marker</span><br><span class="line">  </span><br><span class="line">  -embed-bitcode          Embed LLVM IR bitcode as data</span><br><span class="line">  </span><br><span class="line">  -emit-dependencies      Emit basic Make-compatible dependencies files</span><br><span class="line">  </span><br><span class="line">  -emit-loaded-module-trace-path &lt;path&gt;</span><br><span class="line">                          Emit the loaded module trace JSON to &lt;path&gt;</span><br><span class="line">                          </span><br><span class="line">  -emit-loaded-module-trace</span><br><span class="line">                          Emit a JSON file containing information about what modules were loaded</span><br><span class="line">                          </span><br><span class="line">  -emit-module-interface-path &lt;path&gt;</span><br><span class="line">                          Output module interface file to &lt;path&gt;</span><br><span class="line">                          </span><br><span class="line">  -emit-module-interface  Output module interface file</span><br><span class="line">  </span><br><span class="line">  -emit-module-path &lt;path&gt;</span><br><span class="line">                          Emit an importable module to &lt;path&gt;</span><br><span class="line">                          </span><br><span class="line">  -emit-module            Emit an importable module</span><br><span class="line">  </span><br><span class="line">  -emit-objc-header-path &lt;path&gt;</span><br><span class="line">                          Emit an Objective-C header file to &lt;path&gt;</span><br><span class="line">                          </span><br><span class="line">  -emit-objc-header       Emit an Objective-C header file</span><br><span class="line">  </span><br><span class="line">  -emit-tbd-path &lt;path&gt;   Emit the TBD file to &lt;path&gt;</span><br><span class="line">  </span><br><span class="line">  -emit-tbd               Emit a TBD file</span><br><span class="line">  </span><br><span class="line">  -enable-library-evolution</span><br><span class="line">                          Build the module to allow binary-compatible library evolution</span><br><span class="line">                          </span><br><span class="line">  -enforce-exclusivity=&lt;enforcement&gt;</span><br><span class="line">                          Enforce law of exclusivity</span><br><span class="line">                          </span><br><span class="line">  -fixit-all              Apply all fixits from diagnostics without any filtering</span><br><span class="line">  </span><br><span class="line">  -framework &lt;value&gt;      Specifies a framework which should be linked against</span><br><span class="line">  </span><br><span class="line">  -Fsystem &lt;value&gt;        Add directory to system framework search path</span><br><span class="line">  </span><br><span class="line">  -F &lt;value&gt;              Add directory to framework search path</span><br><span class="line">  </span><br><span class="line">  -gdwarf-types           Emit full DWARF type info.</span><br><span class="line">  </span><br><span class="line">  -gline-tables-only      Emit minimal debug info for backtraces only</span><br><span class="line">  </span><br><span class="line">  -gnone                  Don&apos;t emit debug info</span><br><span class="line">  </span><br><span class="line">  -g                      Emit debug info. This is the preferred setting for debugging with LLDB.</span><br><span class="line">  </span><br><span class="line">  -help                   Display available options</span><br><span class="line">  </span><br><span class="line">  -import-underlying-module</span><br><span class="line">                          Implicitly imports the Objective-C half of a module</span><br><span class="line">                          </span><br><span class="line">  -index-file-path &lt;path&gt; Produce index data for file &lt;path&gt;</span><br><span class="line">  </span><br><span class="line">  -index-ignore-system-modules</span><br><span class="line">                          Avoid indexing system modules</span><br><span class="line">                          </span><br><span class="line">  -index-store-path &lt;path&gt;</span><br><span class="line">                          Store indexing data to &lt;path&gt;</span><br><span class="line">                          </span><br><span class="line">  -I &lt;value&gt;              Add directory to the import search path</span><br><span class="line">  </span><br><span class="line">  -j &lt;n&gt;                  Number of commands to execute in parallel</span><br><span class="line">  </span><br><span class="line">  -L &lt;value&gt;              Add directory to library link search path</span><br><span class="line">  </span><br><span class="line">  -l&lt;value&gt;               Specifies a library which should be linked against</span><br><span class="line">  </span><br><span class="line">  -migrate-keep-objc-visibility</span><br><span class="line">                          When migrating, add &apos;@objc&apos; to declarations that would&apos;ve been implicitly visible in Swift 3</span><br><span class="line">                          </span><br><span class="line">  -migrator-update-sdk    Does nothing. Temporary compatibility flag for Xcode.</span><br><span class="line">  </span><br><span class="line">  -migrator-update-swift  Does nothing. Temporary compatibility flag for Xcode.</span><br><span class="line">  </span><br><span class="line">  -module-cache-path &lt;value&gt;</span><br><span class="line">                          Specifies the Clang module cache path</span><br><span class="line">                          </span><br><span class="line">  -module-link-name &lt;value&gt;</span><br><span class="line">                          Library to link against when using this module</span><br><span class="line">                          </span><br><span class="line">  -module-name &lt;value&gt;    Name of the module to build</span><br><span class="line">  </span><br><span class="line">  -nostdimport            Don&apos;t search the standard library import path for modules</span><br><span class="line">  </span><br><span class="line">  -num-threads &lt;n&gt;        Enable multi-threading and specify number of threads</span><br><span class="line">  </span><br><span class="line">  -Onone                  Compile without any optimization</span><br><span class="line">  </span><br><span class="line">  -Osize                  Compile with optimizations and target small code size</span><br><span class="line">  </span><br><span class="line">  -Ounchecked             Compile with optimizations and remove runtime safety checks</span><br><span class="line">  </span><br><span class="line">  -output-file-map &lt;path&gt; A file which specifies the location of outputs</span><br><span class="line">  </span><br><span class="line">  -O                      Compile with optimizations</span><br><span class="line">  </span><br><span class="line">  -o &lt;file&gt;               Write output to &lt;file&gt;</span><br><span class="line">  </span><br><span class="line">  -parse-as-library       Parse the input file(s) as libraries, not scripts</span><br><span class="line">  </span><br><span class="line">  -parse-sil              Parse the input file as SIL code, not Swift source</span><br><span class="line">  </span><br><span class="line">  -parseable-output       Emit textual output in a parseable format</span><br><span class="line">  </span><br><span class="line">  -profile-coverage-mapping</span><br><span class="line">                          Generate coverage data for use with profiled execution counts</span><br><span class="line">                          </span><br><span class="line">  -profile-generate       Generate instrumented code to collect execution counts</span><br><span class="line">  </span><br><span class="line">  -profile-use=&lt;profdata&gt; Supply a profdata file to enable profile-guided optimization</span><br><span class="line">  </span><br><span class="line">  -remove-runtime-asserts Remove runtime safety checks.</span><br><span class="line">  </span><br><span class="line">  -require-explicit-availability-target &lt;target&gt;</span><br><span class="line">                          Suggest fix-its adding @available(&lt;target&gt;, *) to public declarations without availability</span><br><span class="line">                          </span><br><span class="line">  -require-explicit-availability</span><br><span class="line">                          Require explicit availability on public declarations</span><br><span class="line">                          </span><br><span class="line">  -Rpass-missed=&lt;value&gt;   Report missed transformations by optimization passes whose name matches the given POSIX regular expression</span><br><span class="line">  </span><br><span class="line">  -Rpass=&lt;value&gt;          Report performed transformations by optimization passes whose name matches the given POSIX regular expression</span><br><span class="line">  </span><br><span class="line">  -runtime-compatibility-version &lt;value&gt;</span><br><span class="line">                          Link compatibility library for Swift runtime version, or &apos;none&apos;</span><br><span class="line">                          </span><br><span class="line">  -sanitize-coverage=&lt;type&gt;</span><br><span class="line">                          Specify the type of coverage instrumentation for Sanitizers and additional options separated by commas</span><br><span class="line">                          </span><br><span class="line">  -sanitize=&lt;check&gt;       Turn on runtime checks for erroneous behavior.</span><br><span class="line">  </span><br><span class="line">  -save-optimization-record-path &lt;value&gt;</span><br><span class="line">                          Specify the file name of any generated YAML optimization record</span><br><span class="line">                          </span><br><span class="line">  -save-optimization-record</span><br><span class="line">                          Generate a YAML optimization record file</span><br><span class="line">                          </span><br><span class="line">  -save-temps             Save intermediate compilation results</span><br><span class="line">  </span><br><span class="line">  -sdk &lt;sdk&gt;              Compile against &lt;sdk&gt;</span><br><span class="line">  </span><br><span class="line">  -serialize-diagnostics  Serialize diagnostics in a binary format</span><br><span class="line">  </span><br><span class="line">  -static-executable      Statically link the executable</span><br><span class="line">  </span><br><span class="line">  -static-stdlib          Statically link the Swift standard library</span><br><span class="line">  </span><br><span class="line">  -static                 Make this module statically linkable and make the output of -emit-library a static library.</span><br><span class="line">  </span><br><span class="line">  -suppress-warnings      Suppress all warnings</span><br><span class="line">  </span><br><span class="line">  -swift-version &lt;vers&gt;   Interpret input according to a specific Swift language version number</span><br><span class="line">  </span><br><span class="line">  -target-cpu &lt;value&gt;     Generate code for a particular CPU variant</span><br><span class="line">  </span><br><span class="line">  -target-variant &lt;value&gt; Generate code that may run on a particular variant of the  deployment target</span><br><span class="line">  </span><br><span class="line">  -target &lt;value&gt;         Generate code for the given target</span><br><span class="line">  </span><br><span class="line">  -tools-directory &lt;directory&gt;</span><br><span class="line">                          Look for external executables (ld, clang, binutils) in &lt;directory&gt;</span><br><span class="line">                          </span><br><span class="line">  -track-system-dependencies</span><br><span class="line">                          Track system dependencies while emitting Make-style dependencies</span><br><span class="line">                          </span><br><span class="line">  -use-ld=&lt;value&gt;         Specifies the linker to be used</span><br><span class="line">  </span><br><span class="line">  -verify-debug-info      Verify the binary representation of debug output.</span><br><span class="line">  </span><br><span class="line">  -version                Print version information and exit</span><br><span class="line">  </span><br><span class="line">  -vfsoverlay &lt;value&gt;     Add directory to VFS overlay file</span><br><span class="line">  </span><br><span class="line">  -v                      Show commands to run and use verbose output</span><br><span class="line">  </span><br><span class="line">  -warn-implicit-overrides</span><br><span class="line">                          Warn about implicit overrides of protocol members</span><br><span class="line">                          </span><br><span class="line">  -warn-swift3-objc-inference-complete</span><br><span class="line">                          Warn about deprecated @objc inference in Swift 3 for every declaration that will no longer be inferred as @objc in Swift 4</span><br><span class="line">                          </span><br><span class="line">  -warn-swift3-objc-inference-minimal</span><br><span class="line">                          Warn about deprecated @objc inference in Swift 3 based on direct uses of the Objective-C entrypoint</span><br><span class="line">                          </span><br><span class="line">  -warnings-as-errors     Treat warnings as errors</span><br><span class="line">  </span><br><span class="line">  -whole-module-optimization</span><br><span class="line">                          Optimize input files together instead of individually</span><br><span class="line">                          </span><br><span class="line">  -working-directory &lt;path&gt;</span><br><span class="line">                          Resolve file paths relative to the specified directory</span><br><span class="line">                          </span><br><span class="line">  -Xcc &lt;arg&gt;              Pass &lt;arg&gt; to the C/C++/Objective-C compiler</span><br><span class="line">  </span><br><span class="line">  -Xlinker &lt;value&gt;        Specifies an option which should be passed to the linker</span><br></pre></td></tr></table></figure></p><h5 id="sä¸‰-swiftcä½¿ç”¨ç¤ºä¾‹"><a href="#sä¸‰-swiftcä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ÃŸä¸‰ swiftcä½¿ç”¨ç¤ºä¾‹"></a>ÃŸä¸‰ swiftcä½¿ç”¨ç¤ºä¾‹</h5><figure class="highlight plain"><figcaption><span>Foundation</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class ZLog</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    static func d&lt;T&gt;(_ value: T)</span><br><span class="line">    </span><br><span class="line">    &#123;</span><br><span class="line">    </span><br><span class="line">        let prefix = &quot;log: &quot;</span><br><span class="line">        </span><br><span class="line">        print(prefix, terminator: &quot;&quot;)</span><br><span class="line">        </span><br><span class="line">        print(value)</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1 æŸ¥çœ‹æ–‡ä»¶å¯¼å…¥çš„åº“</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">macbookdeMacBook-<span class="keyword">Pro</span>:<span class="keyword">Log</span> <span class="keyword">mac</span>$ swiftc  -emit-imported-modules ZLog.swift</span><br><span class="line"></span><br><span class="line">Foundation</span><br></pre></td></tr></table></figure><p>2 ç”Ÿæˆè¯­æ³•æ ‘</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">macbookdeMacBook-Pro<span class="keyword">:Log</span> mac$ swiftc -dump-parse ZLog.swift</span><br><span class="line">(source_file <span class="string">"ZLog.swift"</span></span><br><span class="line">  (import_decl range=[ZLog.swift:9:1 - line:9:8] <span class="string">'Foundation'</span>)</span><br><span class="line">  (class_decl range=[ZLog.swift:10:1 - line:18:1] <span class="string">"ZLog"</span></span><br><span class="line">    (func_decl range=[ZLog.swift:12:5 - line:17:5] <span class="string">"d(_:)"</span> &lt;T&gt; type</span><br><span class="line">      (parameter <span class="string">"self"</span>)</span><br><span class="line">      (parameter_list</span><br><span class="line">        (parameter <span class="string">"value"</span>) range=[ZLog.swift:12:21 - line:12:32])</span><br><span class="line">      (brace_stmt range=[ZLog.swift:13:5 - line:17:5]</span><br><span class="line">        (pattern_binding_decl range=[ZLog.swift:14:9 - line:14:22]</span><br><span class="line">          (pattern_named <span class="string">'prefix'</span>)</span><br><span class="line">          (string_literal_expr <span class="attribute">type</span>=<span class="string">'&lt;null&gt;'</span> <span class="attribute">encoding</span>=utf8 <span class="attribute">value</span>=<span class="string">"log: "</span> <span class="attribute">builtin_initializer</span>=**NULL** <span class="attribute">initializer</span>=**NULL**))</span><br><span class="line">        (var_decl range=[ZLog.swift:14:13 - line:14:13] <span class="string">"prefix"</span> <span class="attribute">type</span>=<span class="string">'&lt;null type&gt;'</span> let <span class="attribute">readImpl</span>=stored immutable)</span><br><span class="line">        (call_expr <span class="attribute">type</span>=<span class="string">'&lt;null&gt;'</span> <span class="attribute">arg_labels</span>=_:terminator:</span><br><span class="line">          (unresolved_decl_ref_expr <span class="attribute">type</span>=<span class="string">'&lt;null&gt;'</span> <span class="attribute">name</span>=print <span class="attribute">function_ref</span>=unapplied)</span><br><span class="line">          (tuple_expr <span class="attribute">type</span>=<span class="string">'&lt;null&gt;'</span> <span class="attribute">names</span>=<span class="string">''</span>,terminator</span><br><span class="line">            (declref_expr <span class="attribute">type</span>=<span class="string">'&lt;null&gt;'</span> <span class="attribute">decl</span>=ZLog.(file).ZLog.d(_:).prefix@ZLog.swift:14:13 <span class="attribute">function_ref</span>=unapplied)</span><br><span class="line">            (string_literal_expr <span class="attribute">type</span>=<span class="string">'&lt;null&gt;'</span> <span class="attribute">encoding</span>=utf8 <span class="attribute">value</span>=<span class="string">""</span> <span class="attribute">builtin_initializer</span>=**NULL** <span class="attribute">initializer</span>=**NULL**)))</span><br><span class="line">        (call_expr <span class="attribute">type</span>=<span class="string">'&lt;null&gt;'</span> <span class="attribute">arg_labels</span>=_:</span><br><span class="line">          (unresolved_decl_ref_expr <span class="attribute">type</span>=<span class="string">'&lt;null&gt;'</span> <span class="attribute">name</span>=print <span class="attribute">function_ref</span>=unapplied)</span><br><span class="line">          (paren_expr <span class="attribute">type</span>=<span class="string">'&lt;null&gt;'</span></span><br><span class="line">            (declref_expr <span class="attribute">type</span>=<span class="string">'&lt;null&gt;'</span> <span class="attribute">decl</span>=ZLog.(file).ZLog.d(_:).value@ZLog.swift:12:24 <span class="attribute">function_ref</span>=unapplied)))))))</span><br><span class="line">macbookdeMacBook-Pro<span class="keyword">:Log</span> mac$ swiftc -dump-ast ZLog.swift</span><br><span class="line">(source_file <span class="string">"ZLog.swift"</span></span><br><span class="line">  (import_decl range=[ZLog.swift:9:1 - line:9:8] <span class="string">'Foundation'</span>)</span><br><span class="line">  (class_decl range=[ZLog.swift:10:1 - line:18:1] <span class="string">"ZLog"</span><span class="built_in"> interface </span><span class="attribute">type</span>=<span class="string">'ZLog.Type'</span> <span class="attribute">access</span>=internal non-resilient</span><br><span class="line">    (func_decl range=[ZLog.swift:12:5 - line:17:5] <span class="string">"d(_:)"</span> &lt;T&gt;<span class="built_in"> interface </span><span class="attribute">type</span>=<span class="string">'&lt;T&gt; (ZLog.Type) -&gt; (T) -&gt; ()'</span> <span class="attribute">access</span>=internal final captures=(&lt;generic&gt; ) type</span><br><span class="line">      (parameter <span class="string">"self"</span><span class="built_in"> interface </span><span class="attribute">type</span>=<span class="string">'ZLog.Type'</span>)</span><br><span class="line">      (parameter_list</span><br><span class="line">        (parameter <span class="string">"value"</span><span class="built_in"> interface </span><span class="attribute">type</span>=<span class="string">'T'</span>) range=[ZLog.swift:12:21 - line:12:32])</span><br><span class="line">      (brace_stmt range=[ZLog.swift:13:5 - line:17:5]</span><br><span class="line">        (pattern_binding_decl range=[ZLog.swift:14:9 - line:14:22]</span><br><span class="line">          (pattern_named <span class="attribute">type</span>=<span class="string">'String'</span> <span class="string">'prefix'</span>)</span><br><span class="line">          (string_literal_expr <span class="attribute">type</span>=<span class="string">'String'</span> <span class="attribute">location</span>=ZLog.swift:14:22 range=[ZLog.swift:14:22 - line:14:22] <span class="attribute">encoding</span>=utf8 <span class="attribute">value</span>=<span class="string">"log: "</span> <span class="attribute">builtin_initializer</span>=Swift.(file).String extension.init(_builtinStringLiteral:utf8CodeUnitCount:isASCII:) <span class="attribute">initializer</span>=**NULL**))</span><br><span class="line">        (var_decl range=[ZLog.swift:14:13 - line:14:13] <span class="string">"prefix"</span> <span class="attribute">type</span>=<span class="string">'String'</span><span class="built_in"> interface </span><span class="attribute">type</span>=<span class="string">'String'</span> <span class="attribute">access</span>=private let <span class="attribute">readImpl</span>=stored immutable)</span><br><span class="line">        (call_expr <span class="attribute">type</span>=<span class="string">'()'</span> <span class="attribute">location</span>=ZLog.swift:15:9 range=[ZLog.swift:15:9 - line:15:37] nothrow <span class="attribute">arg_labels</span>=_:terminator:</span><br><span class="line">          (declref_expr <span class="attribute">type</span>=<span class="string">'(Any..., String, String) -&gt; ()'</span> <span class="attribute">location</span>=ZLog.swift:15:9 range=[ZLog.swift:15:9 - line:15:9] <span class="attribute">decl</span>=Swift.(file).print(_:separator:terminator:) <span class="attribute">function_ref</span>=single)</span><br><span class="line">          (argument_shuffle_expr implicit <span class="attribute">type</span>=<span class="string">'(Any..., separator: String, terminator: String)'</span> <span class="attribute">location</span>=ZLog.swift:15:14 range=[ZLog.swift:15:14 - line:15:37] tuple_to_tuple elements=[-2, -1, 1] variadic_sources=[0] <span class="attribute">default_args_owner</span>=Swift.(file).print(_:separator:terminator:)</span><br><span class="line">            (tuple_expr <span class="attribute">type</span>=<span class="string">'(Any, terminator: String)'</span> <span class="attribute">location</span>=ZLog.swift:15:14 range=[ZLog.swift:15:14 - line:15:37] <span class="attribute">names</span>=<span class="string">''</span>,terminator</span><br><span class="line">              (erasure_expr implicit <span class="attribute">type</span>=<span class="string">'Any'</span> <span class="attribute">location</span>=ZLog.swift:15:15 range=[ZLog.swift:15:15 - line:15:15]</span><br><span class="line">                (declref_expr <span class="attribute">type</span>=<span class="string">'String'</span> <span class="attribute">location</span>=ZLog.swift:15:15 range=[ZLog.swift:15:15 - line:15:15] <span class="attribute">decl</span>=ZLog.(file).ZLog.d(_:).prefix@ZLog.swift:14:13 <span class="attribute">function_ref</span>=unapplied))</span><br><span class="line">              (string_literal_expr <span class="attribute">type</span>=<span class="string">'String'</span> <span class="attribute">location</span>=ZLog.swift:15:35 range=[ZLog.swift:15:35 - line:15:35] <span class="attribute">encoding</span>=utf8 <span class="attribute">value</span>=<span class="string">""</span> <span class="attribute">builtin_initializer</span>=Swift.(file).String extension.init(_builtinStringLiteral:utf8CodeUnitCount:isASCII:) <span class="attribute">initializer</span>=**NULL**))))</span><br><span class="line">        (call_expr <span class="attribute">type</span>=<span class="string">'()'</span> <span class="attribute">location</span>=ZLog.swift:16:9 range=[ZLog.swift:16:9 - line:16:20] nothrow <span class="attribute">arg_labels</span>=_:</span><br><span class="line">          (declref_expr <span class="attribute">type</span>=<span class="string">'(Any..., String, String) -&gt; ()'</span> <span class="attribute">location</span>=ZLog.swift:16:9 range=[ZLog.swift:16:9 - line:16:9] <span class="attribute">decl</span>=Swift.(file).print(_:separator:terminator:) <span class="attribute">function_ref</span>=single)</span><br><span class="line">          (argument_shuffle_expr implicit <span class="attribute">type</span>=<span class="string">'(Any..., separator: String, terminator: String)'</span> <span class="attribute">location</span>=ZLog.swift:16:15 range=[ZLog.swift:16:14 - line:16:20] scalar_to_tuple elements=[-2, -1, -1] variadic_sources=[0] <span class="attribute">default_args_owner</span>=Swift.(file).print(_:separator:terminator:)</span><br><span class="line">            (paren_expr <span class="attribute">type</span>=<span class="string">'(Any)'</span> <span class="attribute">location</span>=ZLog.swift:16:15 range=[ZLog.swift:16:14 - line:16:20]</span><br><span class="line">              (erasure_expr implicit <span class="attribute">type</span>=<span class="string">'Any'</span> <span class="attribute">location</span>=ZLog.swift:16:15 range=[ZLog.swift:16:15 - line:16:15]</span><br><span class="line">                (declref_expr <span class="attribute">type</span>=<span class="string">'T'</span> <span class="attribute">location</span>=ZLog.swift:16:15 range=[ZLog.swift:16:15 - line:16:15] <span class="attribute">decl</span>=ZLog.(file).ZLog.d(_:).value@ZLog.swift:12:24 <span class="attribute">function_ref</span>=unapplied)))))))</span><br><span class="line">    (constructor_decl implicit range=[ZLog.swift:10:7 - line:10:7] <span class="string">"init()"</span><span class="built_in"> interface </span><span class="attribute">type</span>=<span class="string">'(ZLog.Type) -&gt; () -&gt; ZLog'</span> <span class="attribute">access</span>=internal designated</span><br><span class="line">      (parameter <span class="string">"self"</span><span class="built_in"> interface </span><span class="attribute">type</span>=<span class="string">'ZLog'</span>)</span><br><span class="line">      (parameter_list)</span><br><span class="line">      (brace_stmt implicit</span><br><span class="line">        (return_stmt implicit)))</span><br><span class="line">    (destructor_decl implicit range=[ZLog.swift:10:7 - line:10:7] <span class="string">"deinit"</span><span class="built_in"> interface </span><span class="attribute">type</span>=<span class="string">'(ZLog) -&gt; () -&gt; ()'</span> <span class="attribute">access</span>=internal @objc</span><br><span class="line">      (parameter <span class="string">"self"</span><span class="built_in"> interface </span><span class="attribute">type</span>=<span class="string">'ZLog'</span>)</span><br><span class="line">      (parameter_list)</span><br><span class="line">      (brace_stmt implicit range=[ZLog.swift:10:7 - line:10:7]))))</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯ç®€å•çš„ç¤ºä¾‹ä»‹ç»,å…³äºè¯­æ³•æ ‘å®é™…åº”ç”¨è¿˜æœ‰ä¸‹é¢çš„ä¸€ç‚¹ä»‹ç»:</p><p><a href="https://github.com/apple/swift-syntax" target="_blank" rel="noopener">SwiftSyntax</a>æ˜¯åŸºäºlibSyntaxæ„å»ºçš„Swiftåº“ï¼Œåˆ©ç”¨å®ƒå¯ä»¥åˆ†æï¼Œç”Ÿæˆå’Œè½¬æ¢Swiftä»£ç ã€‚ç°åœ¨å·²ç»æœ‰ä¸€äº›åŸºäºå®ƒå¼€æºçš„åº“ï¼Œæ¯”å¦‚SwiftRewriteré’ˆå¯¹ä»£ç è¿›è¡Œè‡ªåŠ¨æ ¼å¼åŒ–(å…¶ä¸­åŒ…æ‹¬åŸºäºä»£ç è§„èŒƒè¿›è¡Œç®€å•çš„ä»£ç ä¼˜åŒ–),<a href="https://github.com/peripheryapp/periphery" target="_blank" rel="noopener">periphery</a>ï¼Œæ£€æµ‹æœªä½¿ç”¨çš„Swiftä»£ç ï¼Œæ¯”å¦‚æœªä½¿ç”¨çš„Protocolå’Œç±»ï¼Œä»¥åŠä»–ä»¬çš„æ–¹æ³•å’Œæ–¹æ³•å‚æ•°ç­‰ç­‰</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Swiftæ˜¯Appleåœ¨2014å¹´6æœˆWWDCå‘å¸ƒçš„å…¨æ–°ç¼–ç¨‹è¯­è¨€ï¼Œä¸­æ–‡åå’ŒLOGOæ˜¯â€œé›¨ç‡•â€ Swiftä¹‹çˆ¶Chris Lattner pClangç¼–è¯‘å™¨ä½œè€…ã€LLVMé¡¹ç›®çš„ä¸»è¦å‘èµ·äºº ä»Appleç¦»èŒåï¼Œå…ˆåè·³æ§½åˆ°Teslaã€Google pç›®å‰åœ¨Google Brainä»äº‹AIç ”ç©¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å†æ—¶5å¹´å‘å±•ï¼Œä»Swift1.xå‘å±•åˆ°äº†Swift5.xç‰ˆæœ¬ï¼Œç»å†äº†å¤šæ¬¡é‡å¤§æ”¹å˜ï¼Œ&lt;strong&gt;ABI&lt;/strong&gt;ç»ˆäºç¨³å®š &lt;strong&gt;API(Application Programming Interface)&lt;/strong&gt;:åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£&lt;/p&gt;
&lt;p&gt;æºä»£ç å’Œåº“ä¹‹é—´çš„æ¥å£&lt;br&gt;ABI(Application Binary Interface):åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£&lt;br&gt; åº”ç”¨ç¨‹åºä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„åº•å±‚æ¥å£&lt;br&gt;æ¶‰åŠçš„å†…å®¹æœ‰: &lt;strong&gt;ç›®æ ‡æ–‡ä»¶æ ¼å¼ã€æ•°æ®ç±»å‹çš„å¤§å°\å¸ƒå±€\å¯¹é½ã€å‡½æ•°è°ƒç”¨çº¦å®šç­‰ç­‰ &lt;/strong&gt;  éšç€ABIçš„ç¨³å®šï¼ŒSwiftè¯­æ³•åŸºæœ¬ä¸ä¼šå†æœ‰å¤ªå¤§çš„å˜åŠ¨,æˆªæ­¢è‡³2019å¹´6æœˆï¼Œç›®å‰æœ€æ–°ç‰ˆæœ¬:Swift5.1&lt;br&gt;Swiftå®Œå…¨å¼€æº: &lt;a href=&quot;https://github.com/apple/swift&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/apple/swift&lt;/a&gt;ï¼Œä¸»è¦é‡‡ç”¨C++ç¼–å†™&lt;/p&gt;
&lt;h5 id=&quot;ä¸€-swift-ç¼–è¯‘æµç¨‹&quot;&gt;&lt;a href=&quot;#ä¸€-swift-ç¼–è¯‘æµç¨‹&quot; class=&quot;headerlink&quot; title=&quot;ä¸€  swift ç¼–è¯‘æµç¨‹&quot;&gt;&lt;/a&gt;ä¸€  swift ç¼–è¯‘æµç¨‹&lt;/h5&gt;&lt;p&gt;&lt;img src=&quot;../assets/blogImg/binyiliucheng1.png&quot; alt=&quot;ç¼–è¯‘æµç¨‹&quot;&gt;&lt;br&gt;é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ç¼–è¯‘å™¨åˆ†ä¸ºå‰ç«¯å’Œåç«¯ï¼š&lt;br&gt;å‰ç«¯ï¼šè¯æ³•åˆ†æ&lt;br&gt;åç«¯ï¼šç”Ÿæˆå¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶ä»£ç &lt;/p&gt;
&lt;p&gt;Swiftä¸OCå’ŒCçš„ç¼–è¯‘æµç¨‹åŒºåˆ«ï¼šCå’ŒOCç¼–è¯‘å™¨çš„å‰ç«¯æ˜¯Clangï¼Œä¹Ÿå°±æ˜¯ä»¥å‰çš„OCä»£ç é€šè¿‡Clangè¿™ä¸ªç¼–è¯‘å™¨çš„å‰ç«¯è¿›è¡Œå¤„ç†ï¼Œè½¬äº¤ç»™LLVMè¿™ä¸ªç¼–è¯‘å™¨çš„åç«¯ï¼Œæœ€åç”ŸæˆARMçš„äºŒè¿›åˆ¶ä»£ç ã€‚è€ŒSwiftçš„ç¼–è¯‘å™¨çš„å‰ç«¯æ˜¯swiftcï¼Œé€šè¿‡swiftcè¿›è¡Œè¯æ³•åˆ†æå’Œè¯­æ³•æ ‘å¤„ç†ï¼Œç„¶åäº¤ç»™LLVMçš„åç«¯ç¼–è¯‘å™¨ï¼Œæœ€åç”ŸæˆARMæ ¼å¼çš„äºŒè¿›åˆ¶ä»£ç &lt;br&gt;&lt;img src=&quot;../assets/blogImg/bianyiliucheng2.png&quot; alt=&quot;ç¼–è¯‘æµç¨‹&quot;&gt;&lt;br&gt;Swiftä»£ç â€“&amp;gt;é€šè¿‡swiftcç”ŸæˆSwift AST(Swiftè¯­æ³•æ ‘)â€“&amp;gt;Raw Swift IL(Swiftç‰¹æœ‰çš„ä¸­é—´ä»£ç )â€“&amp;gt;Canonical Swift IL(æ›´ç®€æ´çš„Swiftä»£ç )â€“&amp;gt;è½¬äº¤ç»™åç«¯ç”ŸæˆLLVMä»£ç â€“&amp;gt;Assembly(æ±‡ç¼–ä»£ç )â€“&amp;gt;Executable(äºŒè¿›åˆ¶ä»£ç )&lt;br&gt;&lt;a href=&quot;https://swift.org/swift-compiler/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ¯ä¸ªé˜¶æ®µå…·ä½“ä»‹ç»&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="swift" scheme="http://example.com/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºå°ç¥¨æ‰“å°åŠŸèƒ½ï¼ˆä»¥åŠä¸­æ–‡ä¹±ç çš„è§£å†³ï¼‰</title>
    <link href="http://example.com/2018/11/10/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%B0%8F%E7%A5%A8%E6%89%93%E5%8D%B0%E5%8A%9F%E8%83%BD%EF%BC%88%E4%BB%A5%E5%8F%8A%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E7%9A%84%E8%A7%A3%E5%86%B3%EF%BC%89/"/>
    <id>http://example.com/2018/11/10/å¾®ä¿¡å°ç¨‹åºå°ç¥¨æ‰“å°åŠŸèƒ½ï¼ˆä»¥åŠä¸­æ–‡ä¹±ç çš„è§£å†³ï¼‰/</id>
    <published>2018-11-10T08:07:10.000Z</published>
    <updated>2020-12-05T06:41:26.861Z</updated>
    
    <content type="html"><![CDATA[<p>å› ä¸ºä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦å®ç°å¾®ä¿¡å°ç¨‹åºè¿æ¥çƒ­æ•æ‰“å°æœºæ‰“å°å°ç¥¨ã€‚é¦–å…ˆæˆ‘è¦å…ˆçŸ¥é“å¾®ä¿¡å°ç¨‹åºæœ‰æ²¡æœ‰è“ç‰™æ“ä½œç›¸å…³çš„APIï¼Œç„¶åå°±æ˜¯å¦‚ä½•è“ç‰™è¿æ¥æ‰“å°æœºï¼Œå‘é€æ‰“å°æŒ‡ä»¤äº†ã€‚</p><p>é€šè¿‡æŸ¥çœ‹<a href="[https://developers.weixin.qq.com/miniprogram/dev/api/wx.writeBLECharacteristicValue.html](https://developers.weixin.qq.com/miniprogram/dev/api/wx.writeBLECharacteristicValue.html">å°ç¨‹åºæ–‡æ¡£</a><br>)ï¼Œæˆ‘çœ‹åˆ°å¾®ä¿¡å°ç¨‹åºæ˜¯æ”¯æŒè“ç‰™æ“ä½œçš„<br><img src="https://upload-images.jianshu.io/upload_images/1972799-8f242641e7154fc1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å°ç¨‹åºæ–‡æ¡£"><br>ä½†æ˜¯æˆ‘çœ‹åˆ°å®ƒæœ‰ä¸¤ä¸ªï¼Œä½åŠŸè€—è“ç‰™ï¼Œè“ç‰™ã€‚è“ç‰™æˆ‘ä»¬çŸ¥é“ï¼Œä½åŠŸè€—è“ç‰™æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œç½‘ä¸ŠæŸ¥äº†ä¸‹ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š<br>ä»¥å‰å¯èƒ½æœ‰è“ç‰™1.0ã€è“ç‰™2.0ã€è“ç‰™3.0ã€è“ç‰™4.0ä¹‹ç±»çš„ä»¥æ•°å­—ç»“å°¾çš„è“ç‰™ç‰ˆæœ¬å·ï¼Œè€Œå®é™…ä¸Šï¼Œåœ¨æœ€æ–°çš„æ ‡å‡†ä¸­ï¼Œå·²ç»ä¸å†ä½¿ç”¨æ•°å­—ç‰ˆæœ¬å·ä½œä¸ºè“ç‰™ç‰ˆæœ¬çš„åŒºåˆ†äº†ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ç»å…¸è“ç‰™ä¸ä½åŠŸè€—è“ç‰™ï¼ˆBLEï¼‰è¿™ä¸¤ç§åŒºåˆ«<br>ä½åŠŸè€—è“ç‰™ï¼ˆ<strong>Bluetooth Low Energy</strong>ï¼Œæˆ–ç§°<strong>Bluetooth LE</strong>ã€<strong>BLE</strong>ï¼Œæ—§å•†æ ‡<strong>Bluetooth Smart</strong>ï¼‰ä¹Ÿç§°<strong>ä½åŠŸè€—è“ç‰™</strong>ï¼Œæ˜¯<a href="https://baike.baidu.com/item/%E8%93%9D%E7%89%99%E6%8A%80%E6%9C%AF%E8%81%94%E7%9B%9F" target="_blank" rel="noopener">è“ç‰™æŠ€æœ¯è”ç›Ÿ</a>è®¾è®¡å’Œé”€å”®çš„ä¸€ç§ä¸ªäººå±€åŸŸç½‘æŠ€æœ¯ï¼Œæ—¨åœ¨ç”¨äºåŒ»ç–—ä¿å¥ã€<a href="https://baike.baidu.com/item/%E8%BF%90%E5%8A%A8%E5%81%A5%E8%BA%AB" target="_blank" rel="noopener">è¿åŠ¨å¥èº«</a>ã€ä¿¡æ ‡ã€å®‰é˜²ã€å®¶åº­å¨±ä¹ç­‰é¢†åŸŸçš„æ–°å…´åº”ç”¨ã€‚ç›¸è¾ƒç»å…¸è“ç‰™ï¼Œä½åŠŸè€—è“ç‰™æ—¨åœ¨ä¿æŒåŒç­‰é€šä¿¡èŒƒå›´çš„åŒæ—¶æ˜¾è‘—é™ä½åŠŸè€—å’Œæˆæœ¬.<br><a id="more"></a></p><p>æˆ‘è¦æ‰“å°è‚¯å®šè¦ä¸æ‰“å°æœºè¿›è¡Œæ•°æ®é€šä¿¡çš„ï¼Œé€šè¿‡æ–‡æ¡£æˆ‘çœ‹åˆ°ï¼Œåªæœ‰ä½åŠŸè€—è“ç‰™é‡Œé¢æœ‰ä¸€ä¸ªå†™å’Œè¯»çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå¾®ä¿¡å°±é™å®šæˆ‘åªèƒ½é€šè¿‡ä½åŠŸè€—è“ç‰™ç›¸å…³apiè¿›è¡Œä¸æ‰“å°æœºç›¸å…³äº¤äº’ï¼ŒåŒæ—¶ä¹Ÿé™å®šäº†æˆ‘çš„æ‰“å°æœºä¹Ÿè¦æ”¯æŒä½åŠŸè€—è“ç‰™è¿æ¥ï¼Œå¹¸è¿çš„æ˜¯æˆ‘çš„æ‰“å°æœºæ˜¯æ”¯æŒçš„ã€‚<br>æ¥ä¸‹æ¥çœ‹æ€ä¹ˆå†™ä»£ç äº†ï¼Œå®˜æ–¹ç»™äº†æˆ‘ä»¬ä¸€ä¸ªè“ç‰™æ“ä½œçš„demo,é‚£æˆ‘å°±ç›´æ¥åœ¨demoä¸Šæ”¹äº†ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/1972799-a1f443fba9a0bd6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>ç‚¹ä¸Šé¢å°±èƒ½æ‰“å¼€ç¤ºä¾‹ä»£ç äº†ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/1972799-ceac79822281c8f1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="demoæ˜¾ç¤ºç•Œé¢"><br>ä¸Šé¢æ˜¯demoç•Œé¢ï¼Œç‚¹å‡»å¼€å§‹æ‰«æå°±èƒ½æ”¶åˆ°å‘¨å›´çš„è“ç‰™äº†ï¼Œæˆ‘çš„æ‰“å°æœºè“ç‰™ä¹Ÿåœ¨æœç´¢ç»“æœçš„åˆ—è¡¨é‡Œï¼Œæˆ‘è¯•äº†ä¸‹ï¼Œèƒ½å¤Ÿè¿æ¥åˆ°æˆ‘çš„æ‰“å°æœºã€‚<br>æ¥ä¸‹æ¥æˆ‘æ‰“å°ä¸€æ®µæ–‡å­—è¯•è¯•ã€‚<br>åœ¨index.jsé‡Œé¢æˆ‘æ”¹å†™äº†è¿™ä¸ªæ–¹æ³•,æˆ‘æ‰“å°äº†ä¸€ä¸ªhello world.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">writeBLECharacteristicValue() &#123;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">"hello world"</span>;</span><br><span class="line">    <span class="keyword">let</span> dataBuffer = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(<span class="number">100</span>)</span><br><span class="line">    <span class="keyword">let</span> dataView = <span class="keyword">new</span> <span class="built_in">DataView</span>(dataBuffer)</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; i++) &#123;</span><br><span class="line">      dataView.setUint8(i, str.charAt(i).charCodeAt())</span><br><span class="line">    &#125;</span><br><span class="line">    wx.writeBLECharacteristicValue(&#123;</span><br><span class="line">      deviceId: <span class="keyword">this</span>._deviceId,</span><br><span class="line">      serviceId: <span class="keyword">this</span>._serviceId,</span><br><span class="line">      characteristicId: <span class="keyword">this</span>._characteristicId,</span><br><span class="line">      value: dataBuffer,</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'å‘é€çš„æ•°æ®ï¼š'</span> + that.writeDatas)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'messageå‘é€æˆåŠŸ'</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"data:"</span> + res)</span><br><span class="line">      &#125;,</span><br><span class="line">      complete: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"data:"</span> + res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰“å°ç»“æœï¼š<br><img src="https://upload-images.jianshu.io/upload_images/1972799-b28638c9769b4958.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ‰“å°ç»“æœ"><br>çœ‹åˆ°äº†æ‰“å°æˆåŠŸï¼Œæ¥ä¸‹æ¥æˆ‘è¯•äº†ä¸‹ä¸­æ–‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">writeBLECharacteristicValue() &#123;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">"ä½ å¥½ ä¸–ç•Œ"</span>;</span><br><span class="line">    <span class="keyword">let</span> dataBuffer = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(<span class="number">100</span>)</span><br><span class="line">    <span class="keyword">let</span> dataView = <span class="keyword">new</span> <span class="built_in">DataView</span>(dataBuffer)</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; i++) &#123;</span><br><span class="line">      dataView.setUint8(i, str.charAt(i).charCodeAt())</span><br><span class="line">    &#125;</span><br><span class="line">    wx.writeBLECharacteristicValue(&#123;</span><br><span class="line">      deviceId: <span class="keyword">this</span>._deviceId,</span><br><span class="line">      serviceId: <span class="keyword">this</span>._serviceId,</span><br><span class="line">      characteristicId: <span class="keyword">this</span>._characteristicId,</span><br><span class="line">      value: dataBuffer,</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'messageå‘é€æˆåŠŸ'</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"data:"</span> + res)</span><br><span class="line">      &#125;,</span><br><span class="line">      complete: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"data:"</span> + res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰“å°ç»“æœï¼š<img src="https://upload-images.jianshu.io/upload_images/1972799-120a5c76bb13c017.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>è¿™æ‰“çš„æ˜¯ä»€ä¹ˆé¬¼ï¼Œä¹±ç äº†ã€‚åˆæ­¥æ¨æ–­å¯èƒ½æ˜¯ç¼–ç é—®é¢˜ï¼Œç½‘ä¸Šä¹Ÿæ”¶åˆ°äº†ç›¸å…³é—®é¢˜çš„ä¸€äº›è§£ç­”ã€‚<br><a href="https://www.aiyingli.com/54066.html" title="å°ç¨‹åºä¸¨ã€å·²è§£å†³ã€‘è“ç‰™æ‰“å°æœºæ‰“å°ä¸­æ–‡ä¹±ç " target="_blank" rel="noopener">å°ç¨‹åºä¸¨ã€å·²è§£å†³ã€‘è“ç‰™æ‰“å°æœºæ‰“å°ä¸­æ–‡ä¹±ç </a><br><img src="https://upload-images.jianshu.io/upload_images/1972799-0711eb73f8ef17c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>è¯´æ˜¯æˆ‘çš„ä¸­æ–‡ç¼–ç ä¸å¯¹ï¼Œåº”è¯¥è½¬æˆgbkï¼Œç„¶åå†è½¬æˆ16è¿›åˆ¶ï¼Œæœ€åå‘é€ç»™æ‰“å°æœºï¼Œè¯´æ˜¯è¿™ä¹ˆè¯´ï¼Œä½†æ˜¯ä»£ç æ€ä¹ˆå†™ï¼Œè¿™ç‰‡æ–‡ç« æ²¡è¯´ã€‚æˆ‘è®°å¾—jsæ˜¯æ²¡æœ‰è½¬gbkçš„æ–¹æ³•çš„ï¼Œåªèƒ½çœ‹çœ‹åˆ«äººæ€ä¹ˆæå¾—ï¼Œè¿˜çœŸæ‰¾åˆ°ä¸€ä¸ªäººå†™çš„ã€‚<br><a href="[https://blog.csdn.net/qq_36479244/article/details/86528336](https://blog.csdn.net/qq_36479244/article/details/86528336">å°ç¨‹åºè“ç‰™æ‰“å°</a><br>)<br><img src="https://upload-images.jianshu.io/upload_images/1972799-b2189b79a39d99ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>èµ¶ç´§æ”¾åˆ°æˆ‘çš„ä»£ç é‡Œè¯•äº†ä¸€ä¸‹ï¼Œè¿è¡Œåå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/1972799-2dc8aed600de945d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>è¿™ä¸ªgbkè½¬æ¢çš„ä»£ç æ€ä¹ˆæ¥çš„ï¼Œé€šç¯‡å°±è¿™ä¸ªä¸€å¥è¯ï¼Œå¹¶æ²¡æœ‰è®²æ€ä¹ˆæ¥çš„ï¼Œæˆ‘æ¨æµ‹ä»–å¯èƒ½å¼•å…¥äº†ä¸€ä¸ªåº“gbkç›¸å…³çš„ï¼Œäºæ˜¯æ¥ç€æœç´¢,è¿˜çœŸæœ‰ç›¸å…³çš„åº“<a href="http://www.vuln.cn/2901" target="_blank" rel="noopener">http://www.vuln.cn/2901</a><br><img src="https://upload-images.jianshu.io/upload_images/1972799-e85030b5c57201f3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸‹è½½ä¸‹æ¥"><br>ä¸‹è½½åï¼Œæ‰“å¼€è¿™ä¸ªåº“<br><img src="https://upload-images.jianshu.io/upload_images/1972799-027b06fcfeab1f7e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åº“æ–‡ä»¶å†…å®¹"><br>è¿™ä¸ªè¯¥æ€ä¹ˆæ”¾åˆ°å°ç¨‹åºé‡Œé¢ç”¨å‘¢ï¼Œåœ¨ä¸‹è½½é¡µé¢æˆ‘ä»¬çœ‹åˆ°äº†å®ƒçš„ç”¨æ³•ä»‹ç»<br><img src="https://upload-images.jianshu.io/upload_images/1972799-463e4ff21aa0d454.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>è¿™ä¸ªå†™æ³•å°ç¨‹åºé‡Œä¸èƒ½ç”¨å•Šï¼Œä¸æ”¯æŒè¿™ç§ä½¿ç”¨æ–¹å¼å•Šã€‚å°ç¨‹åºåªæ”¯æŒä¸‹é¢è¿™æ ·çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">send0X0A</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> buffer = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(<span class="number">1</span>)</span><br><span class="line">  <span class="keyword">const</span> dataView = <span class="keyword">new</span> <span class="built_in">DataView</span>(buffer)</span><br><span class="line">  dataView.setUint8(<span class="number">0</span>, <span class="number">0x0a</span>)</span><br><span class="line">  <span class="keyword">return</span> buffer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å®šä¹‰æ–¹æ³•çš„åœ°æ–¹æ¨¡å—å¯¼å‡º</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  hexStringToArrayBuffer: hexStringToArrayBuffer,</span><br><span class="line">  hexStringToBuff: hexStringToBuff,</span><br><span class="line">  send0X0A: send0X0A</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨çš„åœ°æ–¹è¦å¼•ç”¨ä¸€ä¸‹</span><br><span class="line"><span class="keyword">var</span> util = <span class="built_in">require</span>(<span class="string">'../../utils/util.js'</span>);</span><br></pre></td></tr></table></figure><p>æ²¡åŠæ³•ï¼Œåªèƒ½ä¿®æ”¹åº“ï¼Œä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œææˆäº†ä¸‹é¢è¿™æ ·çš„<br><img src="https://upload-images.jianshu.io/upload_images/1972799-169dda8c2e55bfdb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>è¿™é‡Œæˆ‘åªå¯¼å‡ºäº†ä¸€ä¸ªç¼–ç çš„æ–¹æ³•ï¼Œè°ƒç”¨çš„åœ°æ–¹æ˜¯è¿™æ ·ä½¿ç”¨çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> gbk = <span class="built_in">require</span>(<span class="string">'./gbk.js'</span>);</span><br><span class="line"><span class="keyword">const</span> hexStringToBuff = <span class="function"><span class="params">str</span> =&gt;</span> &#123; <span class="comment">//str='ä¸­å›½ï¼šWXHSH'</span></span><br><span class="line">  <span class="keyword">const</span> buffer = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>((sumStrLength(str)) * <span class="number">4</span>)</span><br><span class="line">  <span class="keyword">const</span> dataView = <span class="keyword">new</span> <span class="built_in">DataView</span>(buffer)</span><br><span class="line">  <span class="keyword">var</span> data = str.toString();</span><br><span class="line">  <span class="keyword">var</span> p = <span class="number">0</span>; <span class="comment">//ArrayBuffer åç§»é‡</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isCN(data[i])) &#123; <span class="comment">//æ˜¯ä¸­æ–‡</span></span><br><span class="line">      <span class="comment">//è°ƒç”¨GBK è½¬ç </span></span><br><span class="line">      <span class="keyword">var</span> t = gbk.encode(data[i]);</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">        <span class="keyword">var</span> code = t[j * <span class="number">2</span>] + t[j * <span class="number">2</span> + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">var</span> temp = <span class="built_in">parseInt</span>(code, <span class="number">16</span>)</span><br><span class="line">        dataView.setUint8(p++, temp)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> temp = data.charCodeAt(i);</span><br><span class="line">      dataView.setUint8(p++, temp)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> buffer;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼šå›¾æˆ‘å°±ä¸æˆªäº†ï¼Œç›´æ¥è¯´ç»“æœï¼Œç»“æœå°±æ˜¯å•¥ä¹Ÿæ²¡æ‰“å°å‡ºæ¥ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Œè°ƒè¯•ä¸‹çœ‹çœ‹ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/1972799-0c80bceacdd0ef54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>å‘ç°é—®é¢˜äº†ï¼Œä¸€ä¸ªä¸­æ–‡æ˜¯å ä¸¤ä¸ªå­—èŠ‚çš„%C4%C3,æŒ‰ç…§ä¸Šé¢é‚£ä¸ªå“¥ä»¬çš„å†™æ³•æˆ‘åªåˆ†å‰²äº†%Cï¼Œ4%ï¼Œè¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Œåº”è¯¥æ˜¯%C4ï¼Œ%C3ï¼Œæ‰å¯¹ï¼Œä¸¤ä¸ªå„ä»£è¡¨ä¸€ä¸ªå­—èŠ‚ç ç¼–å·ã€‚äºæ˜¯æ”¹äº†ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hexStringToBuff = <span class="function"><span class="params">str</span> =&gt;</span> &#123; <span class="comment">//str='ä¸­å›½ï¼šWXHSH'</span></span><br><span class="line">  <span class="keyword">const</span> buffer = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>((sumStrLength(str)) * <span class="number">4</span>)</span><br><span class="line">  <span class="keyword">const</span> dataView = <span class="keyword">new</span> <span class="built_in">DataView</span>(buffer)</span><br><span class="line">  <span class="keyword">var</span> data = str.toString();</span><br><span class="line">  <span class="keyword">var</span> p = <span class="number">0</span>; <span class="comment">//ArrayBuffer åç§»é‡</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isCN(data[i])) &#123; <span class="comment">//æ˜¯ä¸­æ–‡</span></span><br><span class="line">      <span class="comment">//è°ƒç”¨GBK è½¬ç </span></span><br><span class="line">      <span class="keyword">var</span> t = gbk.encode(data[i]);</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">        <span class="comment">//var code = t[j * 2] + t[j * 2 + 1];</span></span><br><span class="line">        <span class="keyword">var</span> code = t[j * <span class="number">3</span> + <span class="number">1</span>] + t[j * <span class="number">3</span> + <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">var</span> temp = <span class="built_in">parseInt</span>(code, <span class="number">16</span>)</span><br><span class="line">        dataView.setUint8(p++, temp)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> temp = data.charCodeAt(i);</span><br><span class="line">      dataView.setUint8(p++, temp)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> buffer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æ¬¡è°ƒè¯•è¿è¡Œä¸‹çœ‹çœ‹ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/1972799-f1c263f04e0bb0bc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>å—¯è¿™ä¸‹ ç®—åˆ†å‰²å¯¹äº†ï¼Œä½†æ˜¯æ‰“å°æœºè¿˜æ˜¯æ²¡ååº”ï¼Œåœ¨çœ‹ä»£ç å‘ç°temp = NaN,è¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Œäºæ˜¯ç½‘ä¸Šæœç´¢gbkè½¬16è¿›åˆ¶ï¼Œæ€»å…±å‘ç°è¿™ä¸¤ä¸ªå¯ç”¨çš„æ–¹æ³•</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toUnicode</span><span class="params">(s)</span> &#123;</span></span><br><span class="line">  var str = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">for</span> (var <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; s.<span class="built_in">length</span>; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    str += <span class="string">"\\u"</span> + s.charCodeAt(<span class="built_in">i</span>).toString(<span class="number">16</span>) + <span class="string">"\t"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strToHexCharCode</span><span class="params">(str)</span> &#123;</span></span><br><span class="line">  <span class="keyword">if</span> (str === <span class="string">""</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">  var hexCharCode = [];</span><br><span class="line">  hexCharCode.push(<span class="string">"0x"</span>);</span><br><span class="line">  <span class="keyword">for</span> (var <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; str.<span class="built_in">length</span>; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    hexCharCode.push((str.charCodeAt(<span class="built_in">i</span>)).toString(<span class="number">16</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> hexCharCode.join(<span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨å…¶ä¸­ä¸€ä¸ªçœ‹ä¸€ä¸‹<br><img src="https://upload-images.jianshu.io/upload_images/1972799-48dc533afe8cc0c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>å“å‘€ï¼Œè¿™å›å¥½åƒtempæœ‰å€¼äº†ï¼Œè¿˜æ˜¯16è¿›åˆ¶çš„ï¼Œèµ¶ç´§é€šè¿‡æ–­ç‚¹ï¼Œçœ‹çœ‹æ‰“å°æœºååº”ï¼Œä¹–ä¹–æœ‰ååº”äº†ï¼Œä¸æˆªå›¾äº†ï¼Œç›´æ¥è¯´ç»“æœå§ï¼Œä¹±ç  ä¹±ç  ä¹±ç ï¼Œè¿™å°±å¥‡äº†æ€ªäº†ï¼Œéƒ½è½¬å¥½äº†ï¼Œæ€ä¹ˆè¿˜æ‰“å°ä¸å‡ºæ¥å‘¢ã€‚ç½‘ä¸Šä¸€é¡¿æœä¹Ÿæ²¡ä»€ä¹ˆç»“æœï¼Œ é™ä¸‹å¿ƒæ¥æƒ³ä¸€æƒ³ï¼Œä¹‹å‰æˆ‘ä»¬Appæ˜¯æœ‰æ‰“å°åŠŸèƒ½çš„ï¼Œé‚£Appä¼ è¾“çš„æ•°æ®æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Œå¯¹æ¯”ä¸‹æˆ‘ä¼ çš„æœ‰ä»€ä¹ˆä¸ä¸€æ ·ä¹ˆï¼Ÿ<br><img src="https://upload-images.jianshu.io/upload_images/1972799-588684a2678a60f5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>è¿™ä¸ªæ˜¯androidç¨‹åºï¼Œå®ƒæ˜¯é€šè¿‡getBytes()è·å–æ–‡æœ¬å­—èŠ‚æµã€‚è¿è¡Œç¨‹åºï¼ŒæŸ¥çœ‹æ‰“å°ç»“æœ<br><img src="https://upload-images.jianshu.io/upload_images/1972799-79c1ebb57043feb9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>æˆ‘å‘ç° android è½¬å‡ºæ¥çš„éƒ½æ˜¯è´Ÿçš„æ•´æ•°ï¼Œä¸åƒæˆ‘ä¼ çš„0xâ€¦â€¦ ,çœ‹æ¥è¿˜æ˜¯æˆ‘çš„æ•°æ®è½¬æ¢çš„ä¸å¯¹ï¼Œå†çœ‹ä¸€çœ¼è°ƒè¯•é¡µé¢ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/1972799-dbfc15303844c94c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>C4 E3,è²Œä¼¼æ˜¯åå…­è¿›åˆ¶æ•°æ®ï¼Œ%å·ä»€ä¹ˆé¬¼ï¼Œå®ƒä¸å¯èƒ½è½¬æˆæ•´å‹ï¼Œtemp ä¸€ç›´æ˜¯NaN,å¾— æˆ‘å»æ‰%å·è¯•è¯•ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/1972799-e594c0d0ac413c6e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>å‘€å˜¿ï¼Œtempæœ‰å€¼äº†ï¼Œè·ŸAndroidçš„æ•°æ®å·®ä¸å¤šï¼Œéƒ½æ˜¯æ•´æ•°ã€‚è¿‡æ‰æ–­ç‚¹çœ‹çœ‹ã€‚<img src="https://upload-images.jianshu.io/upload_images/1972799-70d8936e382c08f0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>å“ˆå“ˆï¼Œå‡ºæ¥äº†ï¼Œè¿™ä¸€åˆ»çš„å¿ƒæƒ…ä½ æ‡‚çš„ã€‚</p><p>åˆ°æ­¤ å°ç¨‹åºè“ç‰™æ‰“å°ç®—æ˜¯æµç¨‹æé€šäº†ï¼Œç½‘ä¸Šèµ„æ–™æœ‰æ—¶å€™ä¸å¤ªå…¨ï¼Œæœ‰æ—¶è¿˜æœ‰é”™è¯¯ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬å¤§èƒ†çŒœæµ‹å‹‡æ•¢éªŒè¯ï¼Œæœ€åç¦åˆ©æ¥äº†ï¼Œæˆ‘æŠŠå®Œæ•´demoè´¡çŒ®ä¸Šã€‚</p><p><a href="https://github.com/lerpo/bluethooth.git" target="_blank" rel="noopener">https://github.com/lerpo/bluethooth.git</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å› ä¸ºä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦å®ç°å¾®ä¿¡å°ç¨‹åºè¿æ¥çƒ­æ•æ‰“å°æœºæ‰“å°å°ç¥¨ã€‚é¦–å…ˆæˆ‘è¦å…ˆçŸ¥é“å¾®ä¿¡å°ç¨‹åºæœ‰æ²¡æœ‰è“ç‰™æ“ä½œç›¸å…³çš„APIï¼Œç„¶åå°±æ˜¯å¦‚ä½•è“ç‰™è¿æ¥æ‰“å°æœºï¼Œå‘é€æ‰“å°æŒ‡ä»¤äº†ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡æŸ¥çœ‹&lt;a href=&quot;[https://developers.weixin.qq.com/miniprogram/dev/api/wx.writeBLECharacteristicValue.html](https://developers.weixin.qq.com/miniprogram/dev/api/wx.writeBLECharacteristicValue.html&quot;&gt;å°ç¨‹åºæ–‡æ¡£&lt;/a&gt;&lt;br&gt;)ï¼Œæˆ‘çœ‹åˆ°å¾®ä¿¡å°ç¨‹åºæ˜¯æ”¯æŒè“ç‰™æ“ä½œçš„&lt;br&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/1972799-8f242641e7154fc1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;å°ç¨‹åºæ–‡æ¡£&quot;&gt;&lt;br&gt;ä½†æ˜¯æˆ‘çœ‹åˆ°å®ƒæœ‰ä¸¤ä¸ªï¼Œä½åŠŸè€—è“ç‰™ï¼Œè“ç‰™ã€‚è“ç‰™æˆ‘ä»¬çŸ¥é“ï¼Œä½åŠŸè€—è“ç‰™æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œç½‘ä¸ŠæŸ¥äº†ä¸‹ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š&lt;br&gt;ä»¥å‰å¯èƒ½æœ‰è“ç‰™1.0ã€è“ç‰™2.0ã€è“ç‰™3.0ã€è“ç‰™4.0ä¹‹ç±»çš„ä»¥æ•°å­—ç»“å°¾çš„è“ç‰™ç‰ˆæœ¬å·ï¼Œè€Œå®é™…ä¸Šï¼Œåœ¨æœ€æ–°çš„æ ‡å‡†ä¸­ï¼Œå·²ç»ä¸å†ä½¿ç”¨æ•°å­—ç‰ˆæœ¬å·ä½œä¸ºè“ç‰™ç‰ˆæœ¬çš„åŒºåˆ†äº†ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ç»å…¸è“ç‰™ä¸ä½åŠŸè€—è“ç‰™ï¼ˆBLEï¼‰è¿™ä¸¤ç§åŒºåˆ«&lt;br&gt;ä½åŠŸè€—è“ç‰™ï¼ˆ&lt;strong&gt;Bluetooth Low Energy&lt;/strong&gt;ï¼Œæˆ–ç§°&lt;strong&gt;Bluetooth LE&lt;/strong&gt;ã€&lt;strong&gt;BLE&lt;/strong&gt;ï¼Œæ—§å•†æ ‡&lt;strong&gt;Bluetooth Smart&lt;/strong&gt;ï¼‰ä¹Ÿç§°&lt;strong&gt;ä½åŠŸè€—è“ç‰™&lt;/strong&gt;ï¼Œæ˜¯&lt;a href=&quot;https://baike.baidu.com/item/%E8%93%9D%E7%89%99%E6%8A%80%E6%9C%AF%E8%81%94%E7%9B%9F&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è“ç‰™æŠ€æœ¯è”ç›Ÿ&lt;/a&gt;è®¾è®¡å’Œé”€å”®çš„ä¸€ç§ä¸ªäººå±€åŸŸç½‘æŠ€æœ¯ï¼Œæ—¨åœ¨ç”¨äºåŒ»ç–—ä¿å¥ã€&lt;a href=&quot;https://baike.baidu.com/item/%E8%BF%90%E5%8A%A8%E5%81%A5%E8%BA%AB&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿åŠ¨å¥èº«&lt;/a&gt;ã€ä¿¡æ ‡ã€å®‰é˜²ã€å®¶åº­å¨±ä¹ç­‰é¢†åŸŸçš„æ–°å…´åº”ç”¨ã€‚ç›¸è¾ƒç»å…¸è“ç‰™ï¼Œä½åŠŸè€—è“ç‰™æ—¨åœ¨ä¿æŒåŒç­‰é€šä¿¡èŒƒå›´çš„åŒæ—¶æ˜¾è‘—é™ä½åŠŸè€—å’Œæˆæœ¬.&lt;br&gt;
    
    </summary>
    
    
      <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘æ˜¯å¦‚ä½•å¿«é€Ÿä¸Šæ‰‹å¾®ä¿¡å°ç¨‹åºå¼€å‘çš„</title>
    <link href="http://example.com/2017/08/23/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%9A%84/"/>
    <id>http://example.com/2017/08/23/æˆ‘æ˜¯å¦‚ä½•å¿«é€Ÿä¸Šæ‰‹å¾®ä¿¡å°ç¨‹åºå¼€å‘çš„/</id>
    <published>2017-08-23T10:00:00.000Z</published>
    <updated>2020-12-05T06:41:26.861Z</updated>
    
    <content type="html"><![CDATA[<h6 id="ä¸€-å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº"><a href="#ä¸€-å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº" class="headerlink" title="ä¸€ å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº"></a>ä¸€ å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº</h6><h6 id="äºŒ-å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢"><a href="#äºŒ-å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢" class="headerlink" title="äºŒ å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢"></a>äºŒ å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢</h6><h6 id="ä¸‰-å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘"><a href="#ä¸‰-å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘" class="headerlink" title="ä¸‰ å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘"></a>ä¸‰ å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘</h6><h6 id="å››-å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨"><a href="#å››-å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨" class="headerlink" title="å›› å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨"></a>å›› å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨</h6><blockquote><p>æ— è®ºæ˜¯å‰ç«¯å¼€å‘ï¼Œè¿˜æ˜¯åç«¯å¼€å‘ï¼Œæ—¶é—´é•¿äº†ï¼Œä½ æ€»ä¼šèƒ½æ€»ç»“å‡ºå®ƒçš„ä¸€äº›è§„å¾‹çš„ï¼Œå¯¹äºå‰ç«¯å¼€å‘ä¸»è¦å°±ä¸¤æ¡ï¼Œé¡µé¢å±•ç°ï¼Œé€»è¾‘å¤„ç†ã€‚å¦‚æœæ˜¯å…¨æµç¨‹å¼€å‘çš„è¯ï¼Œé‚£å°±æ˜¯ï¼Œå¦‚ä½•åˆ›å»ºé¡¹ç›®ï¼Œé¡µé¢å¦‚ä½•å®ç°ï¼Œæ•°æ®è·å–å’Œé€»è¾‘å¤„ç†å¦‚ä½•å®ç°ï¼Œå¦‚ä½•æ‰“åŒ…ä¸Šçº¿ã€‚ç§»åŠ¨ç«¯æˆ–è€…å‰ç«¯ï¼ŒåŸºæœ¬å¼€å‘æµç¨‹å°±è¿™ä¸ªå››ä¸ªæ­¥éª¤ã€‚æ‰€ä»¥åœ¨åœ¨å‰ç«¯æ–¹é¢å»å­¦ä¹ æ–°ä¸€é—¨å¼€å‘æŠ€æœ¯ï¼Œåªè¦ä½ è§£å†³äº†è¿™å››ä¸ªé—®é¢˜ï¼Œé‚£ä¸€åˆ‡å°±OKäº†ï¼Œä¸‹é¢æˆ‘å°±è®²ä¸€ä¸‹ï¼Œæˆ‘åœ¨å­¦ä¹ å¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼Œå¦‚ä½•ç”¨è¿™å››æ­¥æ³•å¿«é€Ÿä¸Šæ‰‹å¼€å‘çš„<br><a id="more"></a></p></blockquote><h6 id="ä¸€-å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº-1"><a href="#ä¸€-å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº-1" class="headerlink" title="ä¸€ å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº"></a>ä¸€ å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº</h6><p>å­¦ä¹ ä¸€é—¨æ–°æŠ€æœ¯å…ˆçœ‹ä¸‹å®ƒçš„å¼€å‘æ–‡æ¡£<a href="https://developers.weixin.qq.com/miniprogram/introduction/" target="_blank" rel="noopener">å°ç¨‹åºä»‹ç»</a></p><h6 id="1-1-é¦–å…ˆè¦å…ˆæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œå…·ä½“æ­¥éª¤è¯·çœ‹ä¸‹å›¾çš„ç›¸å…³ç« èŠ‚"><a href="#1-1-é¦–å…ˆè¦å…ˆæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œå…·ä½“æ­¥éª¤è¯·çœ‹ä¸‹å›¾çš„ç›¸å…³ç« èŠ‚" class="headerlink" title="1.1 é¦–å…ˆè¦å…ˆæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œå…·ä½“æ­¥éª¤è¯·çœ‹ä¸‹å›¾çš„ç›¸å…³ç« èŠ‚"></a>1.1 é¦–å…ˆè¦å…ˆæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œå…·ä½“æ­¥éª¤è¯·çœ‹ä¸‹å›¾çš„ç›¸å…³ç« èŠ‚</h6><p><img src="https://upload-images.jianshu.io/upload_images/1972799-6daa24dde5f4372f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è´¦å·æ³¨å†Œ"></p><h6 id="1-2-å°ç¨‹åºä¿¡æ¯å®Œå–„å’Œé…ç½®ï¼Œå…·ä½“æ­¥éª¤è¯·çœ‹ä¸‹å›¾çš„ç›¸å…³ç« èŠ‚"><a href="#1-2-å°ç¨‹åºä¿¡æ¯å®Œå–„å’Œé…ç½®ï¼Œå…·ä½“æ­¥éª¤è¯·çœ‹ä¸‹å›¾çš„ç›¸å…³ç« èŠ‚" class="headerlink" title="1.2 å°ç¨‹åºä¿¡æ¯å®Œå–„å’Œé…ç½®ï¼Œå…·ä½“æ­¥éª¤è¯·çœ‹ä¸‹å›¾çš„ç›¸å…³ç« èŠ‚"></a>1.2 å°ç¨‹åºä¿¡æ¯å®Œå–„å’Œé…ç½®ï¼Œå…·ä½“æ­¥éª¤è¯·çœ‹ä¸‹å›¾çš„ç›¸å…³ç« èŠ‚</h6><p><img src="https://upload-images.jianshu.io/upload_images/1972799-5562fb8d31319243.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å°ç¨‹åºä¿¡æ¯é…ç½®"></p><h6 id="1-3-ä¸Šé¢çš„å·¥ä½œåšå®Œåï¼Œæ¥ä¸‹æ¥æ‰å¼€å§‹åˆ›å»ºä¸€ä¸ªå°ç¨‹åºé¡¹ç›®"><a href="#1-3-ä¸Šé¢çš„å·¥ä½œåšå®Œåï¼Œæ¥ä¸‹æ¥æ‰å¼€å§‹åˆ›å»ºä¸€ä¸ªå°ç¨‹åºé¡¹ç›®" class="headerlink" title="1.3 ä¸Šé¢çš„å·¥ä½œåšå®Œåï¼Œæ¥ä¸‹æ¥æ‰å¼€å§‹åˆ›å»ºä¸€ä¸ªå°ç¨‹åºé¡¹ç›®"></a>1.3 ä¸Šé¢çš„å·¥ä½œåšå®Œåï¼Œæ¥ä¸‹æ¥æ‰å¼€å§‹åˆ›å»ºä¸€ä¸ªå°ç¨‹åºé¡¹ç›®</h6><p>è¯·çœ‹<a href="https://developers.weixin.qq.com/miniprogram/dev/" target="_blank" rel="noopener">å°ç¨‹åºå¼€å‘æ­¥éª¤</a><br><img src="https://upload-images.jianshu.io/upload_images/1972799-2c9cbf8f57703192.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å°ç¨‹åºé¡¹ç›®çš„åˆ›å»º"></p><p>åˆ°æ­¤ç¬¬ä¸€ä¸ªé—®é¢˜æˆ‘ä»¬å°±ç®—å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥è§£å†³å°ç¨‹åºç•Œé¢å¦‚ä½•æ­å»ºã€‚</p><h6 id="äºŒ-å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢-1"><a href="#äºŒ-å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢-1" class="headerlink" title="äºŒ å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢"></a>äºŒ å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢</h6><p><img src="https://upload-images.jianshu.io/upload_images/1972799-89ba614765a648f0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å°ç¨‹åºç•Œé¢å®ç°"></p><blockquote><p>æ¡†æ¶çš„è§†å›¾å±‚ç”± WXML ä¸ WXSS ç¼–å†™ï¼Œç”±ç»„ä»¶æ¥è¿›è¡Œå±•ç¤ºã€‚<br>å°†é€»è¾‘å±‚çš„æ•°æ®ååº”æˆè§†å›¾ï¼ŒåŒæ—¶å°†è§†å›¾å±‚çš„äº‹ä»¶å‘é€ç»™é€»è¾‘å±‚ã€‚<br>WXML(WeiXin Markup language) ç”¨äºæè¿°é¡µé¢çš„ç»“æ„ã€‚<br>WXS(WeiXin Script) æ˜¯å°ç¨‹åºçš„ä¸€å¥—è„šæœ¬è¯­è¨€ï¼Œç»“åˆ WXMLï¼Œå¯ä»¥æ„å»ºå‡ºé¡µé¢çš„ç»“æ„ã€‚<br>WXSS(WeiXin Style Sheet) ç”¨äºæè¿°é¡µé¢çš„æ ·å¼ã€‚</p></blockquote><p>å°ç¨‹åºçš„é¡µé¢æ˜¯ç”±wxml å’Œwxssè¿™ä¸¤ä¸ªæ–‡ä»¶æ¥å®ç°çš„ï¼Œwxmlç»“æ„å¦‚ä½•å†™è¯·å‚è€ƒ<a href="https://developers.weixin.qq.com/miniprogram/dev/component/" target="_blank" rel="noopener">å¾®ä¿¡å°ç¨‹åºç»„ä»¶</a><br>wxssæ˜¯è´Ÿè´£æ ·å¼æ§åˆ¶çš„ï¼ŒåŸºæœ¬ç±»ä¼¼äºcss,æ”¯æŒflexå¸ƒå±€ï¼Œæ‰€ä»¥è¦æƒ³ä¸Šæ‰‹æ„å»ºå¾®ä¿¡å°ç¨‹åºçš„ç•Œé¢ï¼Œæœ€å¥½è¦ç†Ÿæ‚‰html ,css.<br>   å¾®ä¿¡æä¾›çš„ç•Œé¢ç»„ä»¶å¾ˆå¤šï¼Œæ²¡å¿…è¦ä¸€ä¸‹å­å…¨å­¦ä¼šï¼Œä¼šç”¨ä¸€ä¸¤ä¸ªå°±è¡Œï¼Œå…¶ä»–çš„é‡åˆ°éœ€è¦çš„æ—¶å€™ç°æŸ¥å…ˆåšï¼Œè¿™æ ·åˆèŠ‚çº¦å­¦ä¹ æ—¶é—´ï¼Œåˆèƒ½å¤ŸåŠ æ·±ç†è§£ã€‚åˆ°æ­¤ç¬¬äºŒä¸ªé—®é¢˜æˆ‘ä»¬è§£å†³äº†ï¼Œä¸‹é¢çœ‹ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼Œæ•°æ®é€»è¾‘å¦‚ä½•å¤„ç†ã€‚</p><h6 id="ä¸‰-å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘-1"><a href="#ä¸‰-å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘-1" class="headerlink" title="ä¸‰ å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘"></a>ä¸‰ å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘</h6><h6 id="3-1-é€»è¾‘å¤„ç†"><a href="#3-1-é€»è¾‘å¤„ç†" class="headerlink" title="3.1 é€»è¾‘å¤„ç†"></a>3.1 é€»è¾‘å¤„ç†</h6><p><img src="https://upload-images.jianshu.io/upload_images/1972799-a2f23fba53624f9d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•°æ®å®šä¹‰"></p><p><img src="https://upload-images.jianshu.io/upload_images/1972799-f9438d14cc3efbe9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•°æ®å±•ç°"></p><blockquote><p>é€»è¾‘å¤„ç†æ˜¯é€šè¿‡jsæ–‡ä»¶æ¥æ“ä½œçš„<br>ä¸€ä¸ªæœåŠ¡ä»…ä»…åªæœ‰ç•Œé¢å±•ç¤ºæ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦å’Œç”¨æˆ·åšäº¤äº’ï¼šå“åº”ç”¨æˆ·çš„ç‚¹å‡»ã€è·å–ç”¨æˆ·çš„ä½ç½®ç­‰ç­‰ã€‚åœ¨å°ç¨‹åºé‡Œè¾¹ï¼Œæˆ‘ä»¬å°±é€šè¿‡ç¼–å†™ <code>JS</code> è„šæœ¬æ–‡ä»¶æ¥å¤„ç†ç”¨æˆ·çš„æ“ä½œã€‚<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><span class="template-variable">&#123;&#123; msg &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">"clickMe"</span>&gt;</span>ç‚¹å‡»æˆ‘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p></blockquote><p>ç‚¹å‡» <code>button</code> æŒ‰é’®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›æŠŠç•Œé¢ä¸Š <code>msg</code> æ˜¾ç¤ºæˆ <code>&quot;Hello World&quot;</code>ï¼Œäºæ˜¯æˆ‘ä»¬åœ¨ <code>button</code> ä¸Šå£°æ˜ä¸€ä¸ªå±æ€§: <code>bindtap</code> ï¼Œåœ¨ JS æ–‡ä»¶é‡Œè¾¹å£°æ˜äº† <code>clickMe</code> æ–¹æ³•æ¥å“åº”è¿™æ¬¡ç‚¹å‡»æ“ä½œï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Page</span>(&#123;</span><br><span class="line">  <span class="attribute">clickMe</span>: <span class="built_in">function</span>() &#123;</span><br><span class="line">    this.<span class="built_in">setData</span>(&#123; msg: <span class="string">"Hello World"</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>å“åº”ç”¨æˆ·çš„æ“ä½œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œæ›´è¯¦ç»†çš„äº‹ä»¶å¯ä»¥å‚è€ƒæ–‡æ¡£ <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html" target="_blank" rel="noopener">WXML - äº‹ä»¶</a> ã€‚<br>æ­¤å¤–ä½ è¿˜å¯ä»¥åœ¨ JS ä¸­è°ƒç”¨å°ç¨‹åºæä¾›çš„ä¸°å¯Œçš„ APIï¼Œåˆ©ç”¨è¿™äº› API å¯ä»¥å¾ˆæ–¹ä¾¿çš„è°ƒèµ·å¾®ä¿¡æä¾›çš„èƒ½åŠ›ï¼Œä¾‹å¦‚è·å–ç”¨æˆ·ä¿¡æ¯ã€æœ¬åœ°å­˜å‚¨ã€å¾®ä¿¡æ”¯ä»˜ç­‰ã€‚åœ¨å‰è¾¹çš„ QuickStart ä¾‹å­ä¸­ï¼Œåœ¨ <code>pages/index/index.js</code> å°±è°ƒç”¨äº† <code>wx.getUserInfo</code> è·å–å¾®ä¿¡ç”¨æˆ·çš„å¤´åƒå’Œæ˜µç§°ï¼Œæœ€åé€šè¿‡ <code>setData</code> æŠŠè·å–åˆ°çš„ä¿¡æ¯æ˜¾ç¤ºåˆ°ç•Œé¢ä¸Šã€‚æ›´å¤š API å¯ä»¥å‚è€ƒæ–‡æ¡£ <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/api.html" target="_blank" rel="noopener">å°ç¨‹åºçš„API</a> ã€‚</p><h6 id="3-1-æ•°æ®è·å–"><a href="#3-1-æ•°æ®è·å–" class="headerlink" title="3.1 æ•°æ®è·å–"></a>3.1 æ•°æ®è·å–</h6><p>ç°åœ¨å‡ ä¹æ¯ä¸ªåº”ç”¨éƒ½éœ€è¦ä»åç«¯è·å–æ•°æ®ï¼Œé‚£ä¹ˆå°ç¨‹åºå¦‚ä½•è·å–å‘¢ï¼Œå½“ç„¶æ˜¯é€šè¿‡ç½‘è·¯æ“ä½œäº†ã€‚æˆ‘ä»¬å°è£…äº†å°ç¨‹åºçš„ç½‘ç»œæ“ä½œ<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">const app = getApp()</span><br><span class="line"></span><br><span class="line">const request = (url, <span class="keyword">options</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Promise((<span class="built_in">resolve</span>, reject) =&gt; &#123;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      ur<span class="variable">l:</span> `$&#123;app.globalData.host&#125;$&#123;url&#125;`,</span><br><span class="line">      method: <span class="keyword">options</span>.method,</span><br><span class="line">      dat<span class="variable">a:</span> <span class="keyword">options</span>.method === <span class="string">'GET'</span> ? <span class="keyword">options</span>.data : JSON.stringify(<span class="keyword">options</span>.data),</span><br><span class="line">      header: &#123;</span><br><span class="line">        <span class="string">'Content-Type'</span>: <span class="string">'application/json; charset=UTF-8'</span></span><br><span class="line">        // <span class="string">'x-token'</span>: <span class="string">'x-token'</span>  // çœ‹è‡ªå·±æ˜¯å¦éœ€è¦</span><br><span class="line">      &#125;,</span><br><span class="line">      success(request) &#123;</span><br><span class="line">        <span class="keyword">if</span> (request.data.error_code === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="built_in">resolve</span>(request.data)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          reject(request.data)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      fail(error) &#123;</span><br><span class="line">        reject(error.data)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const gets = (url, <span class="keyword">options</span> = &#123;&#125;) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> request(url, &#123; method: <span class="string">'GET'</span>, dat<span class="variable">a:</span> <span class="keyword">options</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const post = (url, <span class="keyword">options</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> request(url, &#123; method: <span class="string">'POST'</span>, dat<span class="variable">a:</span> <span class="keyword">options</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const <span class="keyword">put</span> = (url, <span class="keyword">options</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> request(url, &#123; method: <span class="string">'PUT'</span>, dat<span class="variable">a:</span> <span class="keyword">options</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä¸èƒ½å£°æ˜DELETEï¼ˆå…³é”®å­—ï¼‰</span><br><span class="line">const <span class="built_in">remove</span> = (url, <span class="keyword">options</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> request(url, &#123; method: <span class="string">'DELETE'</span>, dat<span class="variable">a:</span> <span class="keyword">options</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  gets,</span><br><span class="line">  post,</span><br><span class="line">  <span class="keyword">put</span>,</span><br><span class="line">  <span class="built_in">remove</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¦‚ä½•ä½¿ç”¨è¯·çœ‹ä¸‹å›¾<br><img src="https://upload-images.jianshu.io/upload_images/1972799-30540785d9cb3435.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•°æ®è·å–"><br>æ•°æ®å±•ç°å¦‚ä¸‹å›¾<br><img src="https://upload-images.jianshu.io/upload_images/1972799-753c8f135de2aeeb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•°æ®å±•ç°"><br>åˆ°æ­¤ï¼Œç¬¬ä¸‰ä¸ªé—®é¢˜æˆ‘ä»¬å°±è§£å†³çš„äº†ä¸‹é¢çœ‹ç¬¬å››ä¸ªé—®é¢˜ã€‚</p><h6 id="å››-å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨-1"><a href="#å››-å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨-1" class="headerlink" title="å›› å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨"></a>å›› å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨</h6><p><a href="https://developers.weixin.qq.com/miniprogram/dev/quickstart/basic/role.html" target="_blank" rel="noopener">å°ç¨‹åºå‘å¸ƒæ–‡æ¡£è¯´æ˜</a><br><img src="https://upload-images.jianshu.io/upload_images/1972799-c3e2ee59cf23ceb6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å°ç¨‹åºå‘å¸ƒæ­¥éª¤"><br>åˆ°æ­¤å››ä¸ªé—®é¢˜éƒ½è§£å†³äº†ã€‚</p><h6 id="æ€»ç»“ï¼šæœ¬æ–‡å†…å®¹æ˜¯å¾ˆç®€å•çš„ï¼Œå€Ÿç”¨äº†å¤§éƒ¨åˆ†å®˜æ–¹æ–‡æ¡£ï¼Œå…¶å®æœ¬æ–‡ç›®çš„ä¸æ˜¯æ•™ä½ å­¦å°ç¨‹åºå¼€å‘ï¼Œè€Œæ˜¯åˆ†äº«ä¸€ä¸‹åœ¨å­¦ä¹ ä¸€é¡¹æ–°äº‹ç‰©æˆ‘çš„æ–¹æ³•å’Œæ€è·¯ï¼Œäº’è”ç½‘æŠ€æœ¯å˜åŒ–æ˜¯å¾ˆå¿«çš„ï¼Œæˆ‘è§‰å¾—ä¸€ä¸ªäººçš„èƒ½åŠ›ï¼Œä¸ä»…ä»…æ˜¯ä½ æŠ€æœ¯æœ‰å¤šå¥½ï¼Œä½ è¦æ˜ç™½æŠ€æœ¯æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ï¼ŒæŠ€æœ¯æ˜¯ç”¨æ¥è§£å†³ç°å®ç”Ÿæ´»ä¸­çš„é—®é¢˜çš„ï¼Œä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜ï¼Œä¸æ˜¯æŠ€æœ¯èƒ½åŠ›ï¼Œè€Œæ˜¯è§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œè§£å†³é—®é¢˜ä¸å¯èƒ½åªç”¨ä¸€ç§æŠ€æœ¯ï¼Œè¿™å°±è¦æ±‚ä½ çš„å­¦ä¹ èƒ½åŠ›è¦å¼ºï¼Œé’ˆå¯¹ä¸åŒçš„é—®é¢˜ï¼Œä½¿ç”¨ä¸åŒçš„æŠ€æœ¯ï¼Œå“ªæ€•ä½¿ç”¨çš„æŠ€æœ¯ä½ ä¸ç†Ÿæ‚‰ï¼Œä½†å®ƒæ˜¯è§£å†³é—®é¢˜æœ€å¥½çš„æ–¹æ³•ï¼Œé‚£å°±è¦æ±‚ä½ æœ‰å¿«é€Ÿå­¦ä¹ å¹¶è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚"><a href="#æ€»ç»“ï¼šæœ¬æ–‡å†…å®¹æ˜¯å¾ˆç®€å•çš„ï¼Œå€Ÿç”¨äº†å¤§éƒ¨åˆ†å®˜æ–¹æ–‡æ¡£ï¼Œå…¶å®æœ¬æ–‡ç›®çš„ä¸æ˜¯æ•™ä½ å­¦å°ç¨‹åºå¼€å‘ï¼Œè€Œæ˜¯åˆ†äº«ä¸€ä¸‹åœ¨å­¦ä¹ ä¸€é¡¹æ–°äº‹ç‰©æˆ‘çš„æ–¹æ³•å’Œæ€è·¯ï¼Œäº’è”ç½‘æŠ€æœ¯å˜åŒ–æ˜¯å¾ˆå¿«çš„ï¼Œæˆ‘è§‰å¾—ä¸€ä¸ªäººçš„èƒ½åŠ›ï¼Œä¸ä»…ä»…æ˜¯ä½ æŠ€æœ¯æœ‰å¤šå¥½ï¼Œä½ è¦æ˜ç™½æŠ€æœ¯æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ï¼ŒæŠ€æœ¯æ˜¯ç”¨æ¥è§£å†³ç°å®ç”Ÿæ´»ä¸­çš„é—®é¢˜çš„ï¼Œä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜ï¼Œä¸æ˜¯æŠ€æœ¯èƒ½åŠ›ï¼Œè€Œæ˜¯è§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œè§£å†³é—®é¢˜ä¸å¯èƒ½åªç”¨ä¸€ç§æŠ€æœ¯ï¼Œè¿™å°±è¦æ±‚ä½ çš„å­¦ä¹ èƒ½åŠ›è¦å¼ºï¼Œé’ˆå¯¹ä¸åŒçš„é—®é¢˜ï¼Œä½¿ç”¨ä¸åŒçš„æŠ€æœ¯ï¼Œå“ªæ€•ä½¿ç”¨çš„æŠ€æœ¯ä½ ä¸ç†Ÿæ‚‰ï¼Œä½†å®ƒæ˜¯è§£å†³é—®é¢˜æœ€å¥½çš„æ–¹æ³•ï¼Œé‚£å°±è¦æ±‚ä½ æœ‰å¿«é€Ÿå­¦ä¹ å¹¶è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚" class="headerlink" title="æ€»ç»“ï¼šæœ¬æ–‡å†…å®¹æ˜¯å¾ˆç®€å•çš„ï¼Œå€Ÿç”¨äº†å¤§éƒ¨åˆ†å®˜æ–¹æ–‡æ¡£ï¼Œå…¶å®æœ¬æ–‡ç›®çš„ä¸æ˜¯æ•™ä½ å­¦å°ç¨‹åºå¼€å‘ï¼Œè€Œæ˜¯åˆ†äº«ä¸€ä¸‹åœ¨å­¦ä¹ ä¸€é¡¹æ–°äº‹ç‰©æˆ‘çš„æ–¹æ³•å’Œæ€è·¯ï¼Œäº’è”ç½‘æŠ€æœ¯å˜åŒ–æ˜¯å¾ˆå¿«çš„ï¼Œæˆ‘è§‰å¾—ä¸€ä¸ªäººçš„èƒ½åŠ›ï¼Œä¸ä»…ä»…æ˜¯ä½ æŠ€æœ¯æœ‰å¤šå¥½ï¼Œä½ è¦æ˜ç™½æŠ€æœ¯æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ï¼ŒæŠ€æœ¯æ˜¯ç”¨æ¥è§£å†³ç°å®ç”Ÿæ´»ä¸­çš„é—®é¢˜çš„ï¼Œä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜ï¼Œä¸æ˜¯æŠ€æœ¯èƒ½åŠ›ï¼Œè€Œæ˜¯è§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œè§£å†³é—®é¢˜ä¸å¯èƒ½åªç”¨ä¸€ç§æŠ€æœ¯ï¼Œè¿™å°±è¦æ±‚ä½ çš„å­¦ä¹ èƒ½åŠ›è¦å¼ºï¼Œé’ˆå¯¹ä¸åŒçš„é—®é¢˜ï¼Œä½¿ç”¨ä¸åŒçš„æŠ€æœ¯ï¼Œå“ªæ€•ä½¿ç”¨çš„æŠ€æœ¯ä½ ä¸ç†Ÿæ‚‰ï¼Œä½†å®ƒæ˜¯è§£å†³é—®é¢˜æœ€å¥½çš„æ–¹æ³•ï¼Œé‚£å°±è¦æ±‚ä½ æœ‰å¿«é€Ÿå­¦ä¹ å¹¶è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚"></a>æ€»ç»“ï¼šæœ¬æ–‡å†…å®¹æ˜¯å¾ˆç®€å•çš„ï¼Œå€Ÿç”¨äº†å¤§éƒ¨åˆ†å®˜æ–¹æ–‡æ¡£ï¼Œå…¶å®æœ¬æ–‡ç›®çš„ä¸æ˜¯æ•™ä½ å­¦å°ç¨‹åºå¼€å‘ï¼Œè€Œæ˜¯åˆ†äº«ä¸€ä¸‹åœ¨å­¦ä¹ ä¸€é¡¹æ–°äº‹ç‰©æˆ‘çš„æ–¹æ³•å’Œæ€è·¯ï¼Œäº’è”ç½‘æŠ€æœ¯å˜åŒ–æ˜¯å¾ˆå¿«çš„ï¼Œæˆ‘è§‰å¾—ä¸€ä¸ªäººçš„èƒ½åŠ›ï¼Œä¸ä»…ä»…æ˜¯ä½ æŠ€æœ¯æœ‰å¤šå¥½ï¼Œä½ è¦æ˜ç™½æŠ€æœ¯æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ï¼ŒæŠ€æœ¯æ˜¯ç”¨æ¥è§£å†³ç°å®ç”Ÿæ´»ä¸­çš„é—®é¢˜çš„ï¼Œä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜ï¼Œä¸æ˜¯æŠ€æœ¯èƒ½åŠ›ï¼Œè€Œæ˜¯è§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œè§£å†³é—®é¢˜ä¸å¯èƒ½åªç”¨ä¸€ç§æŠ€æœ¯ï¼Œè¿™å°±è¦æ±‚ä½ çš„å­¦ä¹ èƒ½åŠ›è¦å¼ºï¼Œé’ˆå¯¹ä¸åŒçš„é—®é¢˜ï¼Œä½¿ç”¨ä¸åŒçš„æŠ€æœ¯ï¼Œå“ªæ€•ä½¿ç”¨çš„æŠ€æœ¯ä½ ä¸ç†Ÿæ‚‰ï¼Œä½†å®ƒæ˜¯è§£å†³é—®é¢˜æœ€å¥½çš„æ–¹æ³•ï¼Œé‚£å°±è¦æ±‚ä½ æœ‰å¿«é€Ÿå­¦ä¹ å¹¶è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚</h6><h6 id="å­¦ä¹ ä¸€é¡¹æ–°æŠ€æœ¯ï¼Œæˆ‘ä»¬è¦å…ˆæŠ“ä½ä¸»çº¿ï¼ŒæŠŠæµç¨‹æé€šäº†ï¼Œä»¥åå†åœ¨å·¥ä½œä¸­æ…¢æ…¢çš„ç†Ÿæ‚‰å’Œä¸°å¯Œå¯¹å®ƒç»†èŠ‚çš„ä¸€äº›è®¤çŸ¥ï¼Œæ‰€ä»¥å­¦ä¸€é¡¹ä¸œè¥¿å‰å¤šé—®è‡ªå·±å‡ ä¸ªé—®é¢˜ï¼Œæˆ‘å­¦ä»€ä¹ˆï¼Œæˆ‘ä¸ºä»€ä¹ˆå­¦ï¼Œæˆ‘æ€ä¹ˆå­¦ï¼Œç­‰ã€‚å…ˆæ€è€ƒåå­¦ä¹ ï¼Œä¸€å®šä¼šè®©ä½ äº‹åŠåŠŸå€ã€‚"><a href="#å­¦ä¹ ä¸€é¡¹æ–°æŠ€æœ¯ï¼Œæˆ‘ä»¬è¦å…ˆæŠ“ä½ä¸»çº¿ï¼ŒæŠŠæµç¨‹æé€šäº†ï¼Œä»¥åå†åœ¨å·¥ä½œä¸­æ…¢æ…¢çš„ç†Ÿæ‚‰å’Œä¸°å¯Œå¯¹å®ƒç»†èŠ‚çš„ä¸€äº›è®¤çŸ¥ï¼Œæ‰€ä»¥å­¦ä¸€é¡¹ä¸œè¥¿å‰å¤šé—®è‡ªå·±å‡ ä¸ªé—®é¢˜ï¼Œæˆ‘å­¦ä»€ä¹ˆï¼Œæˆ‘ä¸ºä»€ä¹ˆå­¦ï¼Œæˆ‘æ€ä¹ˆå­¦ï¼Œç­‰ã€‚å…ˆæ€è€ƒåå­¦ä¹ ï¼Œä¸€å®šä¼šè®©ä½ äº‹åŠåŠŸå€ã€‚" class="headerlink" title="å­¦ä¹ ä¸€é¡¹æ–°æŠ€æœ¯ï¼Œæˆ‘ä»¬è¦å…ˆæŠ“ä½ä¸»çº¿ï¼ŒæŠŠæµç¨‹æé€šäº†ï¼Œä»¥åå†åœ¨å·¥ä½œä¸­æ…¢æ…¢çš„ç†Ÿæ‚‰å’Œä¸°å¯Œå¯¹å®ƒç»†èŠ‚çš„ä¸€äº›è®¤çŸ¥ï¼Œæ‰€ä»¥å­¦ä¸€é¡¹ä¸œè¥¿å‰å¤šé—®è‡ªå·±å‡ ä¸ªé—®é¢˜ï¼Œæˆ‘å­¦ä»€ä¹ˆï¼Œæˆ‘ä¸ºä»€ä¹ˆå­¦ï¼Œæˆ‘æ€ä¹ˆå­¦ï¼Œç­‰ã€‚å…ˆæ€è€ƒåå­¦ä¹ ï¼Œä¸€å®šä¼šè®©ä½ äº‹åŠåŠŸå€ã€‚"></a>å­¦ä¹ ä¸€é¡¹æ–°æŠ€æœ¯ï¼Œæˆ‘ä»¬è¦å…ˆæŠ“ä½ä¸»çº¿ï¼ŒæŠŠæµç¨‹æé€šäº†ï¼Œä»¥åå†åœ¨å·¥ä½œä¸­æ…¢æ…¢çš„ç†Ÿæ‚‰å’Œä¸°å¯Œå¯¹å®ƒç»†èŠ‚çš„ä¸€äº›è®¤çŸ¥ï¼Œæ‰€ä»¥å­¦ä¸€é¡¹ä¸œè¥¿å‰å¤šé—®è‡ªå·±å‡ ä¸ªé—®é¢˜ï¼Œæˆ‘å­¦ä»€ä¹ˆï¼Œæˆ‘ä¸ºä»€ä¹ˆå­¦ï¼Œæˆ‘æ€ä¹ˆå­¦ï¼Œç­‰ã€‚å…ˆæ€è€ƒåå­¦ä¹ ï¼Œä¸€å®šä¼šè®©ä½ äº‹åŠåŠŸå€ã€‚</h6><h6 id="å¯¹äºæ€ä¹ˆå­¦ä¹ å¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼Œæˆ‘é—®äº†è‡ªå·±ä¸Šé¢çš„å››ä¸ªé—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜ï¼Œæˆ‘åªéœ€è¦äº†è§£å¤§ä½“å†…å®¹ï¼Œå››ä¸ªé—®é¢˜éƒ½è§£å†³äº†ï¼Œç„¶åæ•´ä¸ªæµç¨‹ä¹Ÿå°±é€šäº†ï¼Œä»¥åä¹Ÿå°±æ˜¯æ…¢æ…¢çš„å¯¹æ¯ä¸ªé—®é¢˜å†…å®¹çš„ç»†èŠ‚æ…¢æ…¢çš„ç†Ÿæ‚‰å’Œäº†è§£äº†ï¼Œå…¶å®èŠ±äº†ä¸åˆ°ä¸€ä¸‹åˆçš„æ—¶é—´ï¼Œæˆ‘å°±æå‡ºäº†ä¸€ä¸ªç®€å•çš„demoå‡ºæ¥äº†ï¼Œäº†è§£çš„å†…å®¹åŸºæœ¬å·²ç»è¦†ç›–å¾®ä¿¡å°ç¨‹åºæ—¥å¸¸å¼€å‘80-çš„å†…å®¹äº†ã€‚ä»¥ä¸Šå°±æ˜¯æˆ‘çš„ä¸€ç‚¹å­¦ä¹ å¿ƒå¾—ã€‚"><a href="#å¯¹äºæ€ä¹ˆå­¦ä¹ å¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼Œæˆ‘é—®äº†è‡ªå·±ä¸Šé¢çš„å››ä¸ªé—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜ï¼Œæˆ‘åªéœ€è¦äº†è§£å¤§ä½“å†…å®¹ï¼Œå››ä¸ªé—®é¢˜éƒ½è§£å†³äº†ï¼Œç„¶åæ•´ä¸ªæµç¨‹ä¹Ÿå°±é€šäº†ï¼Œä»¥åä¹Ÿå°±æ˜¯æ…¢æ…¢çš„å¯¹æ¯ä¸ªé—®é¢˜å†…å®¹çš„ç»†èŠ‚æ…¢æ…¢çš„ç†Ÿæ‚‰å’Œäº†è§£äº†ï¼Œå…¶å®èŠ±äº†ä¸åˆ°ä¸€ä¸‹åˆçš„æ—¶é—´ï¼Œæˆ‘å°±æå‡ºäº†ä¸€ä¸ªç®€å•çš„demoå‡ºæ¥äº†ï¼Œäº†è§£çš„å†…å®¹åŸºæœ¬å·²ç»è¦†ç›–å¾®ä¿¡å°ç¨‹åºæ—¥å¸¸å¼€å‘80-çš„å†…å®¹äº†ã€‚ä»¥ä¸Šå°±æ˜¯æˆ‘çš„ä¸€ç‚¹å­¦ä¹ å¿ƒå¾—ã€‚" class="headerlink" title="å¯¹äºæ€ä¹ˆå­¦ä¹ å¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼Œæˆ‘é—®äº†è‡ªå·±ä¸Šé¢çš„å››ä¸ªé—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜ï¼Œæˆ‘åªéœ€è¦äº†è§£å¤§ä½“å†…å®¹ï¼Œå››ä¸ªé—®é¢˜éƒ½è§£å†³äº†ï¼Œç„¶åæ•´ä¸ªæµç¨‹ä¹Ÿå°±é€šäº†ï¼Œä»¥åä¹Ÿå°±æ˜¯æ…¢æ…¢çš„å¯¹æ¯ä¸ªé—®é¢˜å†…å®¹çš„ç»†èŠ‚æ…¢æ…¢çš„ç†Ÿæ‚‰å’Œäº†è§£äº†ï¼Œå…¶å®èŠ±äº†ä¸åˆ°ä¸€ä¸‹åˆçš„æ—¶é—´ï¼Œæˆ‘å°±æå‡ºäº†ä¸€ä¸ªç®€å•çš„demoå‡ºæ¥äº†ï¼Œäº†è§£çš„å†…å®¹åŸºæœ¬å·²ç»è¦†ç›–å¾®ä¿¡å°ç¨‹åºæ—¥å¸¸å¼€å‘80%çš„å†…å®¹äº†ã€‚ä»¥ä¸Šå°±æ˜¯æˆ‘çš„ä¸€ç‚¹å­¦ä¹ å¿ƒå¾—ã€‚"></a>å¯¹äºæ€ä¹ˆå­¦ä¹ å¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼Œæˆ‘é—®äº†è‡ªå·±ä¸Šé¢çš„å››ä¸ªé—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜ï¼Œæˆ‘åªéœ€è¦äº†è§£å¤§ä½“å†…å®¹ï¼Œå››ä¸ªé—®é¢˜éƒ½è§£å†³äº†ï¼Œç„¶åæ•´ä¸ªæµç¨‹ä¹Ÿå°±é€šäº†ï¼Œä»¥åä¹Ÿå°±æ˜¯æ…¢æ…¢çš„å¯¹æ¯ä¸ªé—®é¢˜å†…å®¹çš„ç»†èŠ‚æ…¢æ…¢çš„ç†Ÿæ‚‰å’Œäº†è§£äº†ï¼Œå…¶å®èŠ±äº†ä¸åˆ°ä¸€ä¸‹åˆçš„æ—¶é—´ï¼Œæˆ‘å°±æå‡ºäº†ä¸€ä¸ªç®€å•çš„demoå‡ºæ¥äº†ï¼Œäº†è§£çš„å†…å®¹åŸºæœ¬å·²ç»è¦†ç›–å¾®ä¿¡å°ç¨‹åºæ—¥å¸¸å¼€å‘80%çš„å†…å®¹äº†ã€‚ä»¥ä¸Šå°±æ˜¯æˆ‘çš„ä¸€ç‚¹å­¦ä¹ å¿ƒå¾—ã€‚</h6><p>æœ€å<a href="https://github.com/lerpo/xcx.git" target="_blank" rel="noopener">å°ç¨‹åºDemo</a><br>Demoæˆªå›¾<br><img src="https://upload-images.jianshu.io/upload_images/1972799-89500b4ddb5ba70d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é¦–é¡µ"></p><p><img src="https://upload-images.jianshu.io/upload_images/1972799-b6607559f3327b29.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æˆ‘çš„"><br><img src="https://upload-images.jianshu.io/upload_images/1972799-4f2e7c93fbb4921a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç‚¹å‡»æˆ‘çš„ä»»æ„æ¡ç›®ï¼Œæ•°æ®æ˜¯ä»ç¬¬ä¸‰æ–¹èšåˆå¹³å°æä¾›çš„apiè·å–çš„"><br><img src="https://upload-images.jianshu.io/upload_images/1972799-235e43358c5baf1a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç‚¹å‡»é¦–é¡µå®šä½å›¾æ ‡"></p>]]></content>
    
    <summary type="html">
    
      &lt;h6 id=&quot;ä¸€-å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº&quot;&gt;&lt;a href=&quot;#ä¸€-å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº&quot;&gt;&lt;/a&gt;ä¸€ å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº&lt;/h6&gt;&lt;h6 id=&quot;äºŒ-å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢&quot;&gt;&lt;a href=&quot;#äºŒ-å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢&quot; class=&quot;headerlink&quot; title=&quot;äºŒ å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢&quot;&gt;&lt;/a&gt;äºŒ å¦‚ä½•æ­å»ºå°ç¨‹åºé¡µé¢&lt;/h6&gt;&lt;h6 id=&quot;ä¸‰-å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘&quot;&gt;&lt;a href=&quot;#ä¸‰-å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰ å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘&quot;&gt;&lt;/a&gt;ä¸‰ å°ç¨‹åºå¦‚ä½•è·å–æ•°æ®ï¼Œå¤„ç†é€»è¾‘&lt;/h6&gt;&lt;h6 id=&quot;å››-å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨&quot;&gt;&lt;a href=&quot;#å››-å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨&quot; class=&quot;headerlink&quot; title=&quot;å›› å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨&quot;&gt;&lt;/a&gt;å›› å¦‚ä½•å‘å¸ƒå°ç¨‹åºåº”ç”¨&lt;/h6&gt;&lt;blockquote&gt;
&lt;p&gt;æ— è®ºæ˜¯å‰ç«¯å¼€å‘ï¼Œè¿˜æ˜¯åç«¯å¼€å‘ï¼Œæ—¶é—´é•¿äº†ï¼Œä½ æ€»ä¼šèƒ½æ€»ç»“å‡ºå®ƒçš„ä¸€äº›è§„å¾‹çš„ï¼Œå¯¹äºå‰ç«¯å¼€å‘ä¸»è¦å°±ä¸¤æ¡ï¼Œé¡µé¢å±•ç°ï¼Œé€»è¾‘å¤„ç†ã€‚å¦‚æœæ˜¯å…¨æµç¨‹å¼€å‘çš„è¯ï¼Œé‚£å°±æ˜¯ï¼Œå¦‚ä½•åˆ›å»ºé¡¹ç›®ï¼Œé¡µé¢å¦‚ä½•å®ç°ï¼Œæ•°æ®è·å–å’Œé€»è¾‘å¤„ç†å¦‚ä½•å®ç°ï¼Œå¦‚ä½•æ‰“åŒ…ä¸Šçº¿ã€‚ç§»åŠ¨ç«¯æˆ–è€…å‰ç«¯ï¼ŒåŸºæœ¬å¼€å‘æµç¨‹å°±è¿™ä¸ªå››ä¸ªæ­¥éª¤ã€‚æ‰€ä»¥åœ¨åœ¨å‰ç«¯æ–¹é¢å»å­¦ä¹ æ–°ä¸€é—¨å¼€å‘æŠ€æœ¯ï¼Œåªè¦ä½ è§£å†³äº†è¿™å››ä¸ªé—®é¢˜ï¼Œé‚£ä¸€åˆ‡å°±OKäº†ï¼Œä¸‹é¢æˆ‘å°±è®²ä¸€ä¸‹ï¼Œæˆ‘åœ¨å­¦ä¹ å¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼Œå¦‚ä½•ç”¨è¿™å››æ­¥æ³•å¿«é€Ÿä¸Šæ‰‹å¼€å‘çš„&lt;br&gt;
    
    </summary>
    
    
      <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
  </entry>
  
</feed>
